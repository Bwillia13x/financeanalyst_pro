import{r as e,j as s,a1 as t,m as a,_ as r,o as l}from"./react-core-CeHLCIBw.js";import{l as i}from"./lboModelingEngine-BU3g5hW3.js";import{b as n}from"./ui-vendor-B5RWaOCb.js";import"./vendor-D2fsnhsW.js";import"./ai-vendor-CuiosWbE.js";import"./advanced-analytics-y00dU25g.js";import"./utils-vendor-DUg4_aAP.js";import"./recharts-vendor-DQPXk1vH.js";import"./d3-vendor-DOBQrAlH.js";import"./react-dom-B6lyId6m.js";const d=({data:d,onDataChange:c})=>{const[o,x]=e.useState("inputs"),[m,u]=e.useState(null),[b,p]=e.useState(!1),[h,g]=e.useState({symbol:"COMPANY",companyName:"Target Company",purchasePrice:5e8,ebitda:75e6,revenue:5e8,equityContribution:.35,seniorDebtMultiple:4,subordinatedDebtMultiple:1.5,seniorInterestRate:.055,subordinatedInterestRate:.095,ebitdaGrowthRate:.06,capexAsPercentOfRevenue:.03,nwcAsPercentOfRevenue:.02,holdingPeriod:5,exitMultiple:10,transactionFees:.02,managementFees:.02,taxRate:.21}),y=e.useCallback(e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0",[]),j=e.useCallback(e=>`${(100*e).toFixed(1)}%`,[]),N=e.useCallback(async()=>{try{p(!0);const e={symbol:h.symbol,companyName:h.companyName,purchasePrice:h.purchasePrice,ebitda:h.ebitda,revenue:h.revenue,assumptions:{debt:{seniorDebtMultiple:h.seniorDebtMultiple,subordinatedDebtMultiple:h.subordinatedDebtMultiple,seniorInterestRate:h.seniorInterestRate,subordinatedInterestRate:h.subordinatedInterestRate},operating:{ebitdaGrowthRate:h.ebitdaGrowthRate,capexAsPercentOfRevenue:h.capexAsPercentOfRevenue,nwcAsPercentOfRevenue:h.nwcAsPercentOfRevenue,taxRate:h.taxRate},exit:{exitMultiple:h.exitMultiple},transaction:{holdingPeriod:h.holdingPeriod,transactionFees:h.transactionFees}}},s=i.buildLBOModel(e);u(s),c&&c({lboModel:{inputs:h,results:s,timestamp:(new Date).toISOString()}})}catch(e){alert(`Error: ${e.message}`)}finally{p(!1)}},[h,c]),v=e.useCallback((e,s)=>{g(t=>({...t,[e]:"string"==typeof s?parseFloat(s)||0:s}))},[]);return s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(t,{className:"text-blue-600",size:28}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Advanced LBO Modeling"}),s.jsx("p",{className:"text-gray-600",children:"Professional leveraged buyout analysis"})]})]}),s.jsxs(n.button,{onClick:N,disabled:b,className:"px-6 py-2 rounded-lg font-medium flex items-center space-x-2 "+(b?"bg-gray-300 text-gray-500":"bg-blue-600 hover:bg-blue-700 text-white"),children:[s.jsx(a,{size:18}),s.jsx("span",{children:b?"Calculating...":"Calculate LBO"})]})]}),s.jsx("div",{className:"border-b border-gray-200 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"inputs",label:"Model Inputs",icon:r},{id:"results",label:"Results & Analysis",icon:l}].map(e=>{const t=e.icon;return s.jsxs("button",{onClick:()=>x(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 "+(o===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[s.jsx(t,{size:16}),s.jsx("span",{children:e.label})]},e.id)})})}),"inputs"===o&&s.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Transaction"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"purchase-price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),s.jsx("input",{id:"purchase-price",type:"number",value:h.purchasePrice,onChange:e=>v("purchasePrice",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"}),s.jsx("p",{className:"text-xs text-gray-500",children:y(h.purchasePrice)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"current-ebitda",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current EBITDA"}),s.jsx("input",{id:"current-ebitda",type:"number",value:h.ebitda,onChange:e=>v("ebitda",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"holding-period",className:"block text-sm font-medium text-gray-700 mb-1",children:"Holding Period"}),s.jsx("input",{id:"holding-period",type:"number",value:h.holdingPeriod,onChange:e=>v("holdingPeriod",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Financing"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"senior-debt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senior Debt Multiple"}),s.jsx("input",{id:"senior-debt",type:"number",step:"0.1",value:h.seniorDebtMultiple,onChange:e=>v("seniorDebtMultiple",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sub-debt",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub Debt Multiple"}),s.jsx("input",{id:"sub-debt",type:"number",step:"0.1",value:h.subordinatedDebtMultiple,onChange:e=>v("subordinatedDebtMultiple",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lbo-senior-rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Senior Rate (%)"}),s.jsx("input",{id:"lbo-senior-rate",type:"number",step:"0.001",value:100*h.seniorInterestRate,onChange:e=>v("seniorInterestRate",(e.target.value||0)/100),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Operating"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lbo-ebitda-growth",className:"block text-sm font-medium text-gray-700 mb-1",children:"EBITDA Growth (%)"}),s.jsx("input",{id:"lbo-ebitda-growth",type:"number",step:"0.01",value:100*h.ebitdaGrowthRate,onChange:e=>v("ebitdaGrowthRate",(e.target.value||0)/100),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lbo-exit-multiple",className:"block text-sm font-medium text-gray-700 mb-1",children:"Exit Multiple"}),s.jsx("input",{id:"lbo-exit-multiple",type:"number",step:"0.1",value:h.exitMultiple,onChange:e=>v("exitMultiple",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lbo-tax-rate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tax Rate (%)"}),s.jsx("input",{id:"lbo-tax-rate",type:"number",step:"0.01",value:100*h.taxRate,onChange:e=>v("taxRate",(e.target.value||0)/100),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]})]})]})}),"results"===o&&s.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:m?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:j(m.baseCase?.returnsAnalysis?.irr||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"IRR"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[(m.baseCase?.returnsAnalysis?.moic||0).toFixed(1),"x"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"MOIC"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[(m.transactionStructure?.debtToEbitda||0).toFixed(1),"x"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Leverage"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:y(m.baseCase?.exitAnalysis?.equityProceeds||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Exit Value"})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Transaction Structure"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Purchase Price:"}),s.jsx("span",{className:"font-medium",children:y(m.transactionStructure?.purchasePrice)})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Total Debt:"}),s.jsx("span",{className:"font-medium",children:y(m.transactionStructure?.totalDebt)})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Equity Investment:"}),s.jsx("span",{className:"font-medium",children:y(m.transactionStructure?.equityContribution)})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Entry Multiple:"}),s.jsxs("span",{className:"font-medium",children:[(m.transactionStructure?.entryMultiple||0).toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Debt/EBITDA:"}),s.jsxs("span",{className:"font-medium",children:[(m.transactionStructure?.debtToEbitda||0).toFixed(1),"x"]})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Equity %:"}),s.jsx("span",{className:"font-medium",children:j(m.transactionStructure?.equityPercentage||0)})]})]})]})]}),m.scenarios&&Object.keys(m.scenarios).length>0&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Scenario Analysis"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-300",children:[s.jsx("th",{className:"text-left py-2",children:"Scenario"}),s.jsx("th",{className:"text-right py-2",children:"IRR"}),s.jsx("th",{className:"text-right py-2",children:"MOIC"}),s.jsx("th",{className:"text-right py-2",children:"Exit Value"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2 font-medium",children:"Base Case"}),s.jsx("td",{className:"text-right py-2",children:j(m.baseCase?.returnsAnalysis?.irr||0)}),s.jsxs("td",{className:"text-right py-2",children:[(m.baseCase?.returnsAnalysis?.moic||0).toFixed(1),"x"]}),s.jsx("td",{className:"text-right py-2",children:y(m.baseCase?.exitAnalysis?.equityProceeds||0)})]}),Object.entries(m.scenarios).map(([e,t])=>s.jsxs("tr",{className:"border-b border-gray-200",children:[s.jsx("td",{className:"py-2",children:e}),s.jsx("td",{className:"text-right py-2",children:j(t.returnsAnalysis?.irr||0)}),s.jsxs("td",{className:"text-right py-2",children:[(t.returnsAnalysis?.moic||0).toFixed(1),"x"]}),s.jsx("td",{className:"text-right py-2",children:y(t.exitAnalysis?.equityProceeds||0)})]},e))]})]})})]})]}):s.jsxs("div",{className:"text-center py-12 text-gray-500",children:[s.jsx(l,{size:48,className:"mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Run LBO calculation to see results"})]})})]})};export{d as default};
//# sourceMappingURL=AdvancedLBOTool-kQj5FNC6.js.map
