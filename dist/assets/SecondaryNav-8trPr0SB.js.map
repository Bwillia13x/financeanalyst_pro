{"version":3,"file":"SecondaryNav-8trPr0SB.js","sources":["../../src/components/ui/SecondaryNav.jsx"],"sourcesContent":["import { ChevronDown, MoreHorizontal } from 'lucide-react';\nimport React, { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport { cn } from '../../utils/cn';\n\nimport Button from './Button';\n\n/**\n * Secondary Navigation Component for tools and advanced features\n * Appears below primary navigation or within page contexts\n */\nconst SecondaryNav = ({\n  items = [],\n  className,\n  variant = 'horizontal', // 'horizontal' | 'vertical' | 'dropdown'\n  showMoreButton = false,\n  maxVisibleItems = 4,\n  ariaLabel = 'Secondary navigation',\n  navigation = null,\n  activeItem = null,\n  onItemClick = null\n}) => {\n  const location = useLocation();\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const [_isMobileMenuOpen, _setIsMobileMenuOpen] = useState(false);\n\n  const visibleItems = showMoreButton && items.length > maxVisibleItems\n    ? items.slice(0, maxVisibleItems)\n    : items;\n\n  const hiddenItems = showMoreButton && items.length > maxVisibleItems\n    ? items.slice(maxVisibleItems)\n    : [];\n\n  // Handle predefined navigation configurations\n  const getNavigationItems = () => {\n    if (navigation === 'analysisTools') {\n      return [\n        { id: 'spreadsheet', label: 'Financial Spreadsheet', icon: 'ðŸ“Š', 'data-tour': 'financial-spreadsheet-tab' },\n        { id: 'modeling', label: 'Financial Modeling', icon: 'ðŸ§®', 'data-tour': 'financial-modeling-tab' },\n        { id: 'analysis', label: 'Analysis & Results', icon: 'ðŸ“ˆ', 'data-tour': 'analysis-results-tab' }\n      ];\n    }\n    if (navigation === 'portfolioViews') {\n      return [\n        { id: 'overview', label: 'Overview', icon: 'ðŸ“‹' },\n        { id: 'builder', label: 'Builder', icon: 'ðŸ”§' },\n        { id: 'analytics', label: 'Analytics', icon: 'ðŸ“Š' }\n      ];\n    }\n    return items;\n  };\n\n  const navigationItems = getNavigationItems();\n\n  const renderNavItem = (item, index) => {\n    const isActive = activeItem ? activeItem === item.id : location.pathname === item.path;\n    const handleClick = onItemClick ? () => onItemClick(item.id) : undefined;\n\n    const content = (\n      <div\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={(e) => e.key === 'Enter' && handleClick?.()}\n        className={cn(\n          'relative px-3 py-2 sm:px-4 sm:py-2 text-sm font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 cursor-pointer',\n          isActive\n            ? 'bg-primary/10 text-primary border border-primary/20'\n            : 'text-muted-foreground hover:text-foreground hover:bg-muted/50',\n          variant === 'vertical' && 'block w-full text-left',\n          item.className\n        )}\n        onClick={handleClick}\n        aria-current={isActive ? 'page' : undefined}\n        title={item.tooltip}\n        data-tour={item['data-tour']}\n      >\n        {item.icon && (\n          <span className=\"mr-2 text-sm\" aria-hidden=\"true\">{item.icon}</span>\n        )}\n        <span className=\"hidden sm:inline\">{item.label}</span>\n        <span className=\"sm:hidden\">{item.label.split(' ')[0]}</span>\n      </div>\n    );\n\n    if (item.path && !onItemClick) {\n      return (\n        <Link key={item.path || index} to={item.path}>\n          {content}\n        </Link>\n      );\n    }\n\n    return (\n      <div key={item.id || index}>\n        {content}\n      </div>\n    );\n  };\n\n  if (variant === 'dropdown') {\n    return (\n      <div className={cn('relative', className)}>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n          className=\"flex items-center\"\n          aria-expanded={isDropdownOpen}\n          aria-haspopup=\"true\"\n        >\n          Advanced Tools\n          <ChevronDown\n            className={cn('w-4 h-4 ml-1 transition-transform',\n              isDropdownOpen && 'rotate-180')}\n          />\n        </Button>\n\n        {isDropdownOpen && (\n          <div className=\"absolute top-full left-0 mt-2 w-56 bg-popover border border-border rounded-lg shadow-elevation-2 py-2 z-50\">\n            <nav role=\"navigation\" aria-label={ariaLabel}>\n              {items.map((item, index) => (\n                <Link\n                  key={item.path || index}\n                  to={item.path}\n                  className={cn(\n                    'flex items-center px-4 py-2 text-sm text-popover-foreground hover:bg-muted transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-inset',\n                    location.pathname === item.path && 'bg-muted'\n                  )}\n                  onClick={() => setIsDropdownOpen(false)}\n                  aria-current={location.pathname === item.path ? 'page' : undefined}\n                >\n                  {item.icon && (\n                    <item.icon className=\"w-4 h-4 mr-3\" aria-hidden=\"true\" />\n                  )}\n                  <div>\n                    <div className=\"font-medium\">{item.label}</div>\n                    {item.description && (\n                      <div className=\"text-xs text-muted-foreground\">\n                        {item.description}\n                      </div>\n                    )}\n                  </div>\n                </Link>\n              ))}\n            </nav>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (variant === 'horizontal') {\n    return (\n      <nav\n        className={cn(\n          'flex items-center space-x-1 p-3 sm:p-2 bg-muted/30 rounded-lg overflow-x-auto scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent',\n          className\n        )}\n        role=\"navigation\"\n        aria-label={ariaLabel}\n      >\n        <div className=\"flex items-center space-x-1 min-w-max\">\n          {navigationItems.map(renderNavItem)}\n        </div>\n\n        {hiddenItems.length > 0 && (\n          <div className=\"relative\">\n            <Button\n              variant=\"ghost\"\n              size=\"sm\"\n              onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n              className=\"flex items-center\"\n              aria-expanded={isDropdownOpen}\n              aria-haspopup=\"true\"\n            >\n              <MoreHorizontal className=\"w-4 h-4\" />\n            </Button>\n\n            {isDropdownOpen && (\n              <div className=\"absolute right-0 top-full mt-1 w-48 bg-background border border-border rounded-md shadow-lg z-50\">\n                <div className=\"py-1\">\n                  {hiddenItems.map(renderNavItem)}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </nav>\n    );\n  };\n\n  return (\n    <nav\n      className={cn(\n        'flex items-center',\n        variant === 'vertical' && 'flex-col items-stretch space-y-1',\n        className\n      )}\n      role=\"navigation\"\n      aria-label={ariaLabel}\n    >\n      {visibleItems.map(renderNavItem)}\n\n      {showMoreButton && hiddenItems.length > 0 && (\n        <div className=\"relative\">\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n            className=\"flex items-center\"\n            aria-expanded={isDropdownOpen}\n            aria-haspopup=\"true\"\n            aria-label={`Show ${hiddenItems.length} more tools`}\n          >\n            <MoreHorizontal className=\"w-4 h-4\" />\n          </Button>\n\n          {isDropdownOpen && (\n            <div className=\"absolute top-full right-0 mt-2 w-48 bg-popover border border-border rounded-lg shadow-elevation-2 py-2 z-50\">\n              {hiddenItems.map(renderNavItem)}\n            </div>\n          )}\n        </div>\n      )}\n    </nav>\n  );\n};\n\n/**\n * Predefined secondary navigation for common tool sets\n */\nexport const AnalysisToolsNav = ({ className }) => {\n  const tools = [\n    {\n      path: '/valuation-workbench',\n      label: 'Valuation Workbench',\n      tooltip: 'Advanced DCF valuation tools'\n    },\n    {\n      path: '/model-lab',\n      label: 'Model Lab',\n      tooltip: 'Pre-built financial model templates'\n    },\n    {\n      path: '/canvas',\n      label: 'Canvas',\n      tooltip: 'Investment thesis visualization'\n    },\n    {\n      path: '/advanced-charts',\n      label: 'Advanced Charts',\n      tooltip: 'Professional data visualization'\n    }\n  ];\n\n  return (\n    <SecondaryNav\n      items={tools}\n      className={className}\n      ariaLabel=\"Analysis tools\"\n      showMoreButton={true}\n      maxVisibleItems={3}\n    />\n  );\n};\n\nexport default SecondaryNav;\n"],"names":["SecondaryNav","items","className","variant","showMoreButton","maxVisibleItems","ariaLabel","navigation","activeItem","onItemClick","location","useLocation","isDropdownOpen","setIsDropdownOpen","useState","_isMobileMenuOpen","_setIsMobileMenuOpen","visibleItems","length","slice","hiddenItems","navigationItems","id","label","icon","renderNavItem","item","index","isActive","pathname","path","handleClick","content","jsxs","role","tabIndex","onKeyDown","e","key","cn","onClick","title","tooltip","children","jsx","split","Link","to","Button","size","ChevronDown","map","description","MoreHorizontal"],"mappings":"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"}