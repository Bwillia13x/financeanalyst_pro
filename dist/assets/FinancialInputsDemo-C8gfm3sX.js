import{r as e,j as s,d as t,X as a,ab as n,n as r,aw as l,a6 as i,m as c,a5 as o,ad as d,a4 as u,T as m,R as x}from"./react-vendor-veQMdy8Q.js";import"./Progress-DSjKVhtZ.js";import{c as g,C as p}from"./advanced-analytics-BnJTTEAv.js";import{F as h,C as b}from"./index-De_WpSHD.js";import"./businessIntelligenceService-DTE7ncSd.js";import"./index-Ch9xuoCy.js";import"./vendor-COg1wW2x.js";import"./ai-vendor-D2oz74m-.js";import"./ui-vendor-zTucAtCH.js";import"./utils-vendor-DUg4_aAP.js";import"./charts-vendor-YB5D2y8T.js";import"./data-vendor-DpIj8wd6.js";import"./state-vendor-DFlCI_nm.js";const f=({value:i,onChange:c,onSave:o,onCancel:d,className:u,type:m="currency",placeholder:x="0.00",isFormula:p=!1,isEditing:h=!1,onEdit:b,disabled:f=!1,loading:v=!1,error:j,locale:N="en-US",currency:y="USD",decimals:w=2,allowNegative:C=!0,min:D,max:F,autoFocus:z=!0,showEditIcon:I=!0,variant:k="default",...S})=>{const[V,E]=e.useState(""),[$,R]=e.useState(""),[U,M]=e.useState(!1),P=e.useRef(null),A=e=>{if(!e&&0!==e)return"—";const s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"—";switch(m){case"currency":{const e=new Intl.NumberFormat(N,{style:"currency",currency:y,minimumFractionDigits:w,maximumFractionDigits:w}).format(s),t=Math.abs(s);return t>=1e6?new Intl.NumberFormat(N,{minimumFractionDigits:1,maximumFractionDigits:1}).format(s/1e6)+"M":t>=1e3?new Intl.NumberFormat(N,{minimumFractionDigits:0,maximumFractionDigits:0}).format(s):e.replace(/\.00$/,"")}case"percentage":return new Intl.NumberFormat(N,{style:"percent",minimumFractionDigits:w,maximumFractionDigits:w}).format(s/100);case"number":return new Intl.NumberFormat(N,{minimumFractionDigits:w,maximumFractionDigits:w}).format(s);default:return e?.toString()||""}},L=e=>{if(!e)return 0;const s=e.replace(/[^\d.-]/g,"").replace(/,/g,""),t=parseFloat(s);return isNaN(t)?0:t},T=()=>{f||p||(E(i?i.toString():""),R(""),b&&b(!0))},G=()=>{const e="text"===m?V:L(V);(e=>{const s="text"===m?e:L(e);return!("text"!==m&&(!C&&s<0?(R("Negative values are not allowed"),1):void 0!==D&&s<D?(R(`Value must be at least ${A(D)}`),1):void 0!==F&&s>F?(R(`Value must not exceed ${A(F)}`),1):(R(""),0)))})(V)&&(c&&c(e),o&&o(e),b&&b(!1))},J=()=>{E(""),R(""),d&&d(),b&&b(!1)},K=e=>{const s=e.target.value;if("text"!==m){((C?/^-?\d*\.?\d*$/:/^\d*\.?\d*$/).test(s)||""===s)&&E(s)}else E(s)},O=e=>{"Enter"===e.key?(e.preventDefault(),G()):"Escape"===e.key?(e.preventDefault(),J()):"Tab"===e.key&&(e.preventDefault(),G())};e.useEffect(()=>{h&&P.current&&z&&(P.current.focus(),P.current.select())},[h,z]);const Y=(()=>{switch(k){case"adjusted":return{container:"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200",text:p?"text-amber-900":"text-slate-700",hover:"hover:bg-amber-100 hover:border-amber-300",input:"border-amber-400 focus:ring-amber-100 focus:border-amber-500",editIcon:"text-amber-500"};case"formula":return{container:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",text:"text-blue-900",hover:"cursor-not-allowed",input:"border-blue-400 focus:ring-blue-100 focus:border-blue-500",editIcon:"text-blue-500"};default:return{container:"bg-background border-transparent",text:p?"text-blue-900":"text-slate-700",hover:"hover:bg-slate-50 hover:border-slate-200",input:"border-input focus:ring-ring focus:border-ring",editIcon:"text-slate-400"}}})();return h?s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:P,type:"text",value:V,onChange:K,onKeyDown:O,placeholder:x,disabled:v,className:g("w-full px-3 py-2.5 bg-white border-2 rounded-lg text-slate-900 text-right font-mono text-sm","focus:outline-none focus:ring-4 shadow-lg transition-all duration-200",Y.input,v&&"animate-pulse",$&&"border-destructive focus:ring-destructive/20",u)}),s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:G,disabled:v||!!$,className:g("w-5 h-5 bg-success hover:bg-success/90 text-white rounded-full","flex items-center justify-center text-xs transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Save changes",children:s.jsx(t,{size:12})}),s.jsx("button",{onClick:J,disabled:v,className:g("w-5 h-5 bg-destructive hover:bg-destructive/90 text-white rounded-full","flex items-center justify-center text-xs transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Cancel changes",children:s.jsx(a,{size:12})})]}),v&&s.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-3 h-3 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),$&&s.jsxs("div",{className:"absolute -bottom-6 left-0 right-0 text-xs text-destructive flex items-center gap-1",children:[s.jsx(n,{size:10}),$]})]}):s.jsxs("div",{role:"button",tabIndex:0,onClick:T,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),T())},onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),className:g("px-3 py-2.5 rounded-lg font-mono text-sm transition-all duration-200","min-h-[40px] flex items-center justify-end relative group",Y.container,!f&&!p&&Y.hover,!f&&!p&&"cursor-pointer",p&&"font-semibold shadow-sm",f&&"opacity-50 cursor-not-allowed",j&&"border-destructive",u),children:[s.jsx("span",{className:Y.text,children:A(i)}),p&&s.jsx(r,{size:12,className:"ml-2 text-blue-500/80"}),!p&&!f&&I&&s.jsx(l,{size:12,className:g("ml-2 transition-opacity",U?"opacity-60":"opacity-0",Y.editIcon)}),j&&s.jsx(n,{size:12,className:"ml-2 text-destructive"}),v&&s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin opacity-50"})})]})},v=({type:e="default",size:t="default",message:a,className:n,showIcon:l=!0,variant:d="default",...u})=>{const m=(()=>{switch(e){case"calculation":default:return r;case"financial":return o;case"trend":return c;case"percentage":return i}})(),x={sm:{spinner:"w-3 h-3 border",icon:12,text:"text-xs",gap:"gap-1",padding:"p-1"},default:{spinner:"w-4 h-4 border-2",icon:16,text:"text-sm",gap:"gap-2",padding:"p-2"},lg:{spinner:"w-6 h-6 border-2",icon:20,text:"text-base",gap:"gap-3",padding:"p-3"}}[t],p={default:"text-muted-foreground",subtle:"text-muted-foreground/70",pulsing:"text-muted-foreground animate-pulse"};if("inline"===e)return s.jsxs("div",{className:g("flex items-center justify-center",x.gap,n),...u,children:[s.jsx("div",{className:g(x.spinner,"border-muted-foreground border-t-transparent rounded-full animate-spin",p[d])}),a&&s.jsx("span",{className:g(x.text,p[d]),children:a})]});const h=a||{calculation:"Calculating...",financial:"Processing financial data...",trend:"Analyzing trends...",percentage:"Computing percentages...",default:"Loading..."}[e];return s.jsxs("div",{className:g("flex flex-col items-center justify-center",x.padding,x.gap,"bg-muted/30 rounded-lg border border-dashed border-muted-foreground/30",n),...u,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:g(x.spinner,"border-muted-foreground border-t-transparent rounded-full animate-spin",p[d])}),l&&s.jsx(m,{size:x.icon,className:g("animate-pulse",p[d])})]}),h&&s.jsx("p",{className:g(x.text,"font-medium text-center",p[d]),children:h})]})},j=({width:e="w-20",height:t="h-6",className:a,variant:n="default",...r})=>s.jsx("div",{className:g("animate-pulse rounded-md",e,t,{default:"bg-muted",currency:"bg-emerald-100",percentage:"bg-blue-100"}[n],a),...r}),N=({size:e="default",className:t,variant:a="default",...n})=>{const r={sm:"w-1 h-1",default:"w-1.5 h-1.5",lg:"w-2 h-2"},l={default:"bg-muted-foreground",primary:"bg-primary",success:"bg-success",warning:"bg-warning"};return s.jsx("div",{className:g("flex items-center gap-1",t),...n,children:[0,1,2].map(t=>s.jsx("div",{className:g("rounded-full animate-pulse",r[e],l[a]),style:{animationDelay:.2*t+"s",animationDuration:"1.4s"}},t))})},y=({type:e="error",message:t,className:r,size:l="default",variant:i="default",showIcon:c=!0,dismissible:o=!1,onDismiss:x,position:p="bottom",children:h,...b})=>{const f={error:n,warning:m,success:u,info:d}[e],v={sm:{text:"text-xs",icon:12,padding:"p-2",gap:"gap-1"},default:{text:"text-sm",icon:14,padding:"p-3",gap:"gap-2"},lg:{text:"text-base",icon:16,padding:"p-4",gap:"gap-3"}}[l],j={error:{bg:"bg-destructive/10",border:"border-destructive/20",text:"text-destructive",icon:"text-destructive"},warning:{bg:"bg-warning/10",border:"border-warning/20",text:"text-warning-foreground",icon:"text-warning"},success:{bg:"bg-success/10",border:"border-success/20",text:"text-success-foreground",icon:"text-success"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-500"}}[e];return t||h?s.jsxs("div",{className:g("flex items-start",v.gap,v.padding,j.bg,j.border,(()=>{switch(i){case"inline":return"flex items-center";case"floating":return g("absolute z-50 shadow-lg rounded-lg","top"===p&&"bottom-full mb-2","bottom"===p&&"top-full mt-2","left"===p&&"right-full mr-2","right"===p&&"left-full ml-2");case"subtle":return"border-0 bg-transparent";default:return"rounded-lg border"}})(),r),...b,children:[c&&f&&s.jsx(f,{size:v.icon,className:g("flex-shrink-0 mt-0.5",j.icon)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[t&&s.jsx("p",{className:g(v.text,j.text,"font-medium"),children:t}),h&&s.jsx("div",{className:g(v.text,j.text),children:h})]}),o&&x&&s.jsx("button",{onClick:x,className:g("flex-shrink-0 ml-2 p-1 rounded-full hover:bg-black/10 transition-colors",j.text),"aria-label":"Dismiss",children:s.jsx(a,{size:v.icon})})]}):null},w=({error:e,warning:t,success:a,info:n,className:r,...l})=>{let i,c;if(e)i="error",c=e;else if(t)i="warning",c=t;else if(a)i="success",c=a;else{if(!n)return null;i="info",c=n}return s.jsx(y,{type:i,message:c,size:"sm",variant:"inline",className:r,...l})},C=({items:e=[],className:t,showNumbers:a=!1,...n})=>e.length?s.jsx("div",{className:g("space-y-2",t),...n,children:e.map((e,t)=>s.jsx(y,{type:e.type||"error",message:a?`${t+1}. ${e.message}`:e.message,size:"sm",variant:"inline"},t))}):null,D=({errors:e=[],warnings:t=[],className:a,title:n="Please fix the following issues:",collapsible:r=!1,...l})=>{const[i,c]=x.useState(r),o=e.length+t.length;if(0===o)return null;const d=[...e.map(e=>({type:"error",message:e})),...t.map(e=>({type:"warning",message:e}))];return s.jsxs("div",{className:g("space-y-3",a),...l,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:n}),r&&s.jsx("button",{onClick:()=>c(!i),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:i?`Show ${o} issues`:"Hide"})]}),!i&&s.jsx(C,{items:d,showNumbers:!0}),i&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length>0&&`${e.length} error${e.length>1?"s":""}`,e.length>0&&t.length>0&&", ",t.length>0&&`${t.length} warning${t.length>1?"s":""}`]})]})},F=()=>{const[t,a]=e.useState({revenue:125e4,expenses:85e4,growth:12.5,margin:32.1,editableValue:45e4,currency:24e5}),[n,l]=e.useState({calculation:!1,validation:!1}),[i,d]=e.useState([]),[u,m]=e.useState(!1),x=e=>s=>{a(t=>({...t,[e]:s}))};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(r,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Enhanced Financial Input Components"})]}),s.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Professional financial input components with smart formatting, validation, and seamless user experience"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(o,{className:"w-5 h-5 text-emerald-600"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"FinancialInput Component"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(h,{label:"Annual Revenue",value:t.revenue,onChange:x("revenue"),type:"currency",currency:"USD",description:"Enter the company's annual revenue",required:!0,onValidation:(e,s)=>{}}),s.jsx(h,{label:"Operating Expenses",value:t.expenses,onChange:x("expenses"),type:"currency",currency:"USD",error:t.expenses>t.revenue?"Expenses cannot exceed revenue":null}),s.jsx(h,{label:"Growth Rate",value:t.growth,onChange:x("growth"),type:"percentage",suffix:"%",decimals:1,description:"Year-over-year growth percentage"}),s.jsx(h,{label:"Profit Margin",value:t.margin,onChange:x("margin"),type:"number",suffix:"%",decimals:2,min:0,max:100,loading:n.validation})]})]}),s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(c,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"CurrencyInput Component"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(b,{label:"Market Valuation",value:t.currency,onChange:x("currency"),currency:"USD",abbreviateDisplay:!0,showTrend:!0,previousValue:21e5,description:"Company market valuation with trend indicator"}),s.jsx(b,{label:"Investment Amount (EUR)",value:85e4,onChange:e=>{},currency:"EUR",locale:"de-DE",size:"lg"}),s.jsx(b,{label:"Small Investment",value:25e3,onChange:e=>{},currency:"USD",size:"sm",variant:"filled"}),s.jsx(b,{label:"Japanese Investment",value:15e6,onChange:e=>{},currency:"JPY",locale:"ja-JP",abbreviateDisplay:!0})]})]}),s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"EditableCell Component"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Account"}),s.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Current"}),s.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Adjusted"}),s.jsx("div",{className:"text-sm text-slate-700",children:"Revenue"}),s.jsx(f,{value:t.editableValue,onChange:x("editableValue"),type:"currency",isEditing:u,onEdit:m,variant:"default"}),s.jsx(f,{value:1.15*t.editableValue,onChange:e=>{},type:"currency",variant:"adjusted"}),s.jsx("div",{className:"text-sm text-slate-700",children:"Growth Rate"}),s.jsx(f,{value:15.5,onChange:e=>{},type:"percentage"}),s.jsx(f,{value:18.2,onChange:e=>{},type:"percentage",variant:"adjusted"}),s.jsx("div",{className:"text-sm text-slate-700",children:"Calculated"}),s.jsx(f,{value:.25*t.editableValue,isFormula:!0,variant:"formula"}),s.jsx(f,{value:1.15*t.editableValue*.25,isFormula:!0,variant:"formula"})]})})]}),s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Loading States"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(v,{type:"calculation",message:"Calculating DCF...",size:"default"}),s.jsx(v,{type:"financial",message:"Processing data...",size:"default",variant:"subtle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Inline Loading States"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(v,{type:"inline",message:"Loading...",size:"sm"}),s.jsx(N,{size:"default",variant:"primary"}),s.jsx(j,{width:"w-24",height:"h-4",variant:"currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Interactive Loading Demo"}),s.jsx("button",{onClick:()=>{l(e=>({...e,calculation:!0})),setTimeout(()=>{l(e=>({...e,calculation:!1}))},2e3)},disabled:n.calculation,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:n.calculation?"Calculating...":"Run Calculation"}),n.calculation&&s.jsx(v,{type:"calculation",message:"Computing financial metrics...",size:"sm",variant:"pulsing"})]})]})]}),s.jsxs(p,{className:"p-6 space-y-6 lg:col-span-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Validation & Feedback"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Individual Validation Messages"}),s.jsx(y,{type:"error",message:"Revenue cannot be negative",size:"default"}),s.jsx(y,{type:"warning",message:"Growth rate seems unusually high",size:"default"}),s.jsx(y,{type:"success",message:"All financial metrics are within expected ranges",size:"default"}),s.jsx(y,{type:"info",message:"Consider adjusting the discount rate based on market conditions",size:"default"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Field Validation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"test-validation",className:"text-sm font-medium text-slate-700",children:"Test Validation"}),s.jsx("input",{id:"test-validation",type:"number",value:-50,onChange:e=>((e,s,t)=>{const a=[];e<s&&a.push(`Value must be at least ${s}`),e>t&&a.push(`Value must not exceed ${t}`),d(a)})(parseFloat(e.target.value),0,1e3),className:"w-full px-3 py-2 border border-input rounded-lg"}),s.jsx(w,{error:i.length>0?i[0]:null,info:0===i.length?"Value is within acceptable range":null})]}),s.jsx(D,{errors:["Operating expenses exceed revenue","Growth rate must be between 0% and 100%"],warnings:["Margin seems low for this industry","Consider reviewing the assumptions"],collapsible:!0})]})]})]})]}),s.jsxs(p,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Quick Usage Examples"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Basic Currency Input"}),s.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<CurrencyInput\n  value={1000000}\n  onChange={setValue}\n  currency="USD"\n  label="Revenue"\n/>'})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Editable Table Cell"}),s.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<EditableCell\n  value={value}\n  onChange={onChange}\n  type="currency"\n  variant="adjusted"\n/>'})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Validation Feedback"}),s.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<FieldValidation\n  error="Invalid input"\n  warning="Check value"\n  success="Valid input"\n/>'})]})]})]})]})})};export{F as default};
//# sourceMappingURL=FinancialInputsDemo-C8gfm3sX.js.map
