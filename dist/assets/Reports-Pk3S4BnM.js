import{r as e,j as t,E as a,aJ as s,aK as r,v as n,as as i,au as o,O as c,F as l,D as d,ab as m,d as p}from"./react-vendor-veQMdy8Q.js";import{H as u}from"./Header-BueyHpBK.js";import{S as h}from"./SEOHead-ZhZ9pYW7.js";import{b as x}from"./ui-vendor-zTucAtCH.js";import"./vendor-COg1wW2x.js";import"./ai-vendor-D2oz74m-.js";import"./advanced-analytics-BnJTTEAv.js";import"./utils-vendor-DUg4_aAP.js";import"./charts-vendor-YB5D2y8T.js";import"./SecondaryNav-BP081x8M.js";import"./businessIntelligenceService-DTE7ncSd.js";import"./index-Ch9xuoCy.js";import"./data-vendor-DpIj8wd6.js";import"./state-vendor-DFlCI_nm.js";const f=new class{constructor(){this.templates=new Map,this.reports=new Map,this.themes=new Map,this.exportFormats=new Set(["pdf","docx","pptx","html","excel"]),this.isInitialized=!1,this.initializeTemplates(),this.initializeThemes()}initializeTemplates(){this.registerTemplate("executive_summary",{name:"Executive Summary",description:"High-level overview for executives and stakeholders",category:"summary",sections:[{id:"cover",name:"Cover Page",type:"cover",required:!0,fields:["company_name","report_date","analyst_name","executive_summary"]},{id:"key_metrics",name:"Key Financial Metrics",type:"metrics_grid",required:!0,fields:["revenue","profit_margin","roe","debt_ratio","current_ratio"]},{id:"valuation",name:"Valuation Summary",type:"valuation_card",required:!0,fields:["dcf_value","market_value","recommendation","price_target"]},{id:"risks",name:"Key Risks & Opportunities",type:"risk_matrix",required:!1,fields:["risks","opportunities","mitigation_strategies"]}],layout:"executive",estimatedPages:4}),this.registerTemplate("full_analysis",{name:"Comprehensive Financial Analysis",description:"Detailed analysis for investment decisions",category:"analysis",sections:[{id:"executive_summary",name:"Executive Summary",type:"text_summary",required:!0},{id:"company_overview",name:"Company Overview",type:"company_profile",required:!0,fields:["business_description","key_products","market_position","competitive_landscape"]},{id:"financial_performance",name:"Financial Performance Analysis",type:"financial_tables",required:!0,fields:["income_statement","balance_sheet","cash_flow","ratio_analysis"]},{id:"valuation_analysis",name:"Valuation Analysis",type:"valuation_detailed",required:!0,fields:["dcf_model","comparable_analysis","precedent_transactions","sensitivity_analysis"]},{id:"scenario_analysis",name:"Scenario & Sensitivity Analysis",type:"scenario_charts",required:!1,fields:["base_case","bull_case","bear_case","key_assumptions"]},{id:"appendix",name:"Appendix",type:"appendix",required:!1,fields:["detailed_calculations","data_sources","methodology"]}],layout:"detailed",estimatedPages:25}),this.registerTemplate("investment_committee",{name:"Investment Committee Presentation",description:"Presentation format for investment decisions",category:"presentation",sections:[{id:"investment_thesis",name:"Investment Thesis",type:"slide_content",required:!0,fields:["investment_rationale","key_catalysts","timeline"]},{id:"financial_snapshot",name:"Financial Snapshot",type:"dashboard",required:!0,fields:["key_metrics_dashboard","performance_trends"]},{id:"valuation_summary",name:"Valuation & Recommendation",type:"valuation_slide",required:!0,fields:["target_price","recommendation","risk_rating"]},{id:"risk_assessment",name:"Risk Assessment",type:"risk_slides",required:!0,fields:["key_risks","risk_mitigation","stress_tests"]}],layout:"presentation",estimatedPages:15}),this.registerTemplate("portfolio_review",{name:"Portfolio Performance Review",description:"Regular portfolio performance and attribution analysis",category:"portfolio",sections:[{id:"performance_summary",name:"Performance Summary",type:"performance_dashboard",required:!0,fields:["total_return","benchmark_comparison","attribution_analysis"]},{id:"holdings_analysis",name:"Holdings Analysis",type:"holdings_table",required:!0,fields:["top_holdings","sector_allocation","geographic_allocation"]},{id:"risk_metrics",name:"Risk Metrics",type:"risk_dashboard",required:!0,fields:["volatility","var","maximum_drawdown","beta"]},{id:"outlook",name:"Market Outlook & Strategy",type:"strategic_outlook",required:!1,fields:["market_outlook","strategy_changes","tactical_adjustments"]}],layout:"portfolio",estimatedPages:12}),this.registerTemplate("due_diligence",{name:"Due Diligence Report",description:"Comprehensive due diligence for investment decisions",category:"due_diligence",sections:[{id:"transaction_summary",name:"Transaction Summary",type:"transaction_overview",required:!0},{id:"business_analysis",name:"Business & Market Analysis",type:"business_deep_dive",required:!0,fields:["market_analysis","competitive_position","business_model","management_team"]},{id:"financial_analysis",name:"Financial Analysis",type:"financial_deep_dive",required:!0,fields:["historical_performance","quality_of_earnings","working_capital","capex_analysis"]},{id:"valuation",name:"Valuation Analysis",type:"valuation_comprehensive",required:!0},{id:"risks_issues",name:"Risks & Issues",type:"risk_comprehensive",required:!0,fields:["commercial_risks","financial_risks","operational_risks","regulatory_risks"]}],layout:"due_diligence",estimatedPages:35})}initializeThemes(){this.registerTheme("professional",{name:"Professional",colors:{primary:"#1e40af",secondary:"#64748b",accent:"#0ea5e9",success:"#10b981",warning:"#f59e0b",error:"#ef4444",background:"#ffffff",surface:"#f8fafc",text:"#0f172a"},fonts:{heading:"Inter, sans-serif",body:"Inter, sans-serif",monospace:"JetBrains Mono, monospace"},layout:{margins:{top:72,right:72,bottom:72,left:72},spacing:16,borderRadius:8}}),this.registerTheme("executive",{name:"Executive",colors:{primary:"#111827",secondary:"#6b7280",accent:"#3b82f6",success:"#059669",warning:"#d97706",error:"#dc2626",background:"#ffffff",surface:"#f9fafb",text:"#111827"},fonts:{heading:"Georgia, serif",body:"system-ui, sans-serif",monospace:"SF Mono, monospace"},layout:{margins:{top:90,right:90,bottom:90,left:90},spacing:20,borderRadius:4}}),this.registerTheme("modern",{name:"Modern",colors:{primary:"#7c3aed",secondary:"#8b5cf6",accent:"#06b6d4",success:"#10b981",warning:"#f59e0b",error:"#f43f5e",background:"#ffffff",surface:"#f8fafc",text:"#1e293b"},fonts:{heading:"Poppins, sans-serif",body:"Inter, sans-serif",monospace:"Fira Code, monospace"},layout:{margins:{top:60,right:60,bottom:60,left:60},spacing:18,borderRadius:12}})}registerTemplate(e,t){this.templates.set(e,{id:e,...t,createdAt:(new Date).toISOString(),version:"1.0"})}registerTheme(e,t){this.themes.set(e,{id:e,...t,createdAt:(new Date).toISOString()})}async generateReport(e,t,a={}){const s=this.templates.get(e);if(!s)throw new Error(`Template ${e} not found`);const r=`report_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,n=this.themes.get(a.theme||"professional"),i={id:r,templateId:e,template:s.name,data:t,options:{theme:a.theme||"professional",format:a.format||"pdf",includeCharts:!1!==a.includeCharts,includeRawData:a.includeRawData||!1,customSections:a.customSections||[],...a},status:"generating",createdAt:(new Date).toISOString(),sections:[]};try{for(const r of s.sections)if(r.required||a.includedSections?.includes(r.id)){const e=await this.generateSection(r,t,n,a);i.sections.push(e)}for(const s of a.customSections||[]){const e=await this.generateCustomSection(s,t,n,a);i.sections.push(e)}const e=await this.compileReport(i,s,n);return i.document=e,i.status="completed",i.completedAt=(new Date).toISOString(),this.reports.set(r,i),i}catch(o){throw i.status="error",i.error=o.message,o}}async generateSection(e,t,a,s){const r={id:e.id,name:e.name,type:e.type,content:{},charts:[],tables:[]};switch(e.type){case"cover":r.content=this.generateCoverPage(t,e.fields);break;case"metrics_grid":r.content=this.generateMetricsGrid(t,e.fields);break;case"valuation_card":r.content=this.generateValuationCard(t),r.charts=this.generateValuationCharts(t);break;case"financial_tables":r.tables=this.generateFinancialTables(t);break;case"scenario_charts":r.charts=this.generateScenarioCharts(t);break;case"risk_matrix":r.content=this.generateRiskMatrix(t);break;case"performance_dashboard":r.content=this.generatePerformanceDashboard(t),r.charts=this.generatePerformanceCharts(t);break;default:r.content=this.generateGenericSection(e,t)}return r}generateCoverPage(e,t){return{companyName:e.company?.name||"Financial Analysis",reportTitle:e.reportTitle||"Financial Analysis Report",reportDate:(new Date).toLocaleDateString(),analystName:e.analyst?.name||"Financial Analyst",executiveSummary:e.executiveSummary||"Comprehensive financial analysis and valuation.",logo:e.company?.logo,disclaimer:"This report is for informational purposes only and should not be considered as investment advice."}}generateMetricsGrid(e,t){const a=e.financialData?.statements,s=a?.incomeStatement?Object.keys(a.incomeStatement).sort().pop():null;return{revenue:{label:"Revenue",value:a?.incomeStatement?.[s]?.totalRevenue||0,format:"currency",trend:this.calculateTrend(a?.incomeStatement,"totalRevenue")},profitMargin:{label:"Net Profit Margin",value:this.calculateNetMargin(a?.incomeStatement?.[s]),format:"percentage",trend:"stable"},roe:{label:"Return on Equity",value:this.calculateROE(a?.incomeStatement?.[s],a?.balanceSheet?.[s]),format:"percentage",trend:"positive"},currentRatio:{label:"Current Ratio",value:this.calculateCurrentRatio(a?.balanceSheet?.[s]),format:"ratio",trend:"stable"}}}generateValuationCard(e){const t=e.dcfResults?.enterpriseValue||0,a=e.marketData?.marketCap||0,s=a>0?(t-a)/a*100:0;return{dcfValue:t,marketValue:a,upside:s,recommendation:s>20?"BUY":s>-10?"HOLD":"SELL",priceTarget:t*(e.assumptions?.sharesOutstanding||1e6)/1e6,confidence:"Medium",methodology:"DCF Analysis with peer comparison"}}generateFinancialTables(e){const t=e.financialData?.statements;return{incomeStatement:this.formatIncomeStatement(t?.incomeStatement),balanceSheet:this.formatBalanceSheet(t?.balanceSheet),cashFlow:this.formatCashFlowStatement(t?.cashFlow),ratios:this.calculateFinancialRatios(t)}}generateScenarioCharts(e){return[{type:"scenario_comparison",title:"Scenario Analysis - Valuation Range",data:this.generateScenarioData(e),chartType:"bar"},{type:"sensitivity_tornado",title:"Sensitivity Analysis",data:this.generateSensitivityData(e),chartType:"tornado"}]}async compileReport(e,t,a){const s={metadata:{title:`${e.template} - ${e.data.company?.name||"Analysis"}`,author:e.data.analyst?.name||"Financial Analyst",subject:"Financial Analysis Report",creator:"FinanceAnalyst Pro",createdAt:e.createdAt},theme:a,layout:t.layout,pages:[]};for(const r of e.sections){const e=await this.renderSection(r,a,t.layout);s.pages.push(...e)}return this.addPageElements(s),s}async renderSection(e,t,a){const s=[];"cover"!==e.type&&s.push({type:"section_title",title:e.name,content:e.content.summary||"",theme:t}),e.content&&s.push({type:"content",section:e.id,content:e.content,theme:t});for(const r of e.charts||[])s.push({type:"chart",chart:r,theme:t});for(const r of e.tables||[])s.push({type:"table",table:r,theme:t});return s}async exportReport(e,t="pdf",a={}){const s=this.reports.get(e);if(!s)throw new Error(`Report ${e} not found`);if(!this.exportFormats.has(t))throw new Error(`Export format ${t} not supported`);try{let r;switch(t){case"pdf":r=await this.exportToPDF(s,a);break;case"docx":r=await this.exportToWord(s,a);break;case"pptx":r=await this.exportToPowerPoint(s,a);break;case"html":r=await this.exportToHTML(s,a);break;case"excel":r=await this.exportToExcel(s,a);break;default:throw new Error(`Export format ${t} not implemented`)}return{reportId:e,format:t,data:r,filename:this.generateFilename(s,t),size:r.length,exportedAt:(new Date).toISOString()}}catch(r){throw new Error(`Export failed: ${r.message}`)}}getTemplates(e=null){const t=Array.from(this.templates.values());return e?t.filter(t=>t.category===e):t}getThemes(){return Array.from(this.themes.values())}getReport(e){return this.reports.get(e)}listReports(){return Array.from(this.reports.values()).map(e=>({id:e.id,template:e.template,status:e.status,createdAt:e.createdAt,completedAt:e.completedAt}))}calculateTrend(e,t){if(!e)return"neutral";const a=Object.keys(e).sort();if(a.length<2)return"neutral";const s=e[a[a.length-1]]?.[t]||0,r=e[a[a.length-2]]?.[t]||0;return s>1.05*r?"positive":s<.95*r?"negative":"stable"}calculateNetMargin(e){if(!e)return 0;const t=e.totalRevenue||0,a=e.netIncome||0;return t>0?a/t*100:0}calculateROE(e,t){if(!e||!t)return 0;const a=e.netIncome||0,s=t.totalEquity||0;return s>0?a/s*100:0}calculateCurrentRatio(e){if(!e)return 0;const t=e.currentAssets||0,a=e.currentLiabilities||0;return a>0?t/a:0}formatIncomeStatement(e){if(!e)return{};const t=Object.keys(e).sort(),a={periods:t,rows:[]},s=[{key:"totalRevenue",label:"Total Revenue"},{key:"totalCostOfGoodsSold",label:"Cost of Goods Sold"},{key:"grossProfit",label:"Gross Profit"},{key:"operatingIncome",label:"Operating Income"},{key:"netIncome",label:"Net Income"}];for(const r of s){const s={label:r.label,values:[]};for(const a of t)s.values.push(e[a]?.[r.key]||0);a.rows.push(s)}return a}formatBalanceSheet(e){return e||{}}formatCashFlowStatement(e){return e||{}}calculateFinancialRatios(e){return{profitability:{},liquidity:{},efficiency:{},leverage:{}}}generateScenarioData(e){return[{scenario:"Bear Case",value:.7*(e.dcfResults?.enterpriseValue||0)},{scenario:"Base Case",value:e.dcfResults?.enterpriseValue||0},{scenario:"Bull Case",value:1.3*(e.dcfResults?.enterpriseValue||0)}]}generateSensitivityData(e){return[{variable:"Revenue Growth",impact:25},{variable:"Discount Rate",impact:-20},{variable:"Terminal Growth",impact:15},{variable:"Operating Margin",impact:18}]}async exportToPDF(e,t){return new Uint8Array([37,80,68,70])}async exportToWord(e,t){return new Uint8Array([80,75,3,4])}async exportToPowerPoint(e,t){return new Uint8Array([80,75,3,4])}async exportToHTML(e,t){return`<!DOCTYPE html><html><head><title>${e.template}</title></head><body><h1>Report Generated</h1></body></html>`}async exportToExcel(e,t){return new Uint8Array([80,75,3,4])}generateFilename(e,t){const a=(new Date).toISOString().split("T")[0];return`${e.data.company?.name?.replace(/[^a-zA-Z0-9]/g,"_")||"Analysis"}_${e.template.replace(/\s+/g,"_")}_${a}.${t}`}addPageElements(e){e.pages.forEach((t,a)=>{t.pageNumber=a+1,t.totalPages=e.pages.length,t.header=e.metadata.title,t.footer=`Page ${a+1} of ${e.pages.length}`})}generateCustomSection(e,t,a,s){return{id:e.id,name:e.name,type:"custom",content:e.content||{},charts:e.charts||[],tables:e.tables||[]}}generateGenericSection(e,t){return{title:e.name,content:"Generic section content would be generated here based on available data.",fields:e.fields||[]}}generateRiskMatrix(e){return{risks:[{category:"Market Risk",level:"Medium",description:"General market volatility"},{category:"Credit Risk",level:"Low",description:"Strong balance sheet"},{category:"Operational Risk",level:"Medium",description:"Industry-specific challenges"}],opportunities:[{category:"Market Expansion",potential:"High",description:"New market opportunities"},{category:"Cost Optimization",potential:"Medium",description:"Operational improvements"}]}}generatePerformanceDashboard(e){return{totalReturn:e.performance?.totalReturn||0,benchmarkReturn:e.performance?.benchmarkReturn||0,alpha:e.performance?.alpha||0,sharpeRatio:e.performance?.sharpeRatio||0,maxDrawdown:e.performance?.maxDrawdown||0}}generatePerformanceCharts(e){return[{type:"performance_line",title:"Performance vs Benchmark",data:e.performance?.timeSeries||[],chartType:"line"},{type:"attribution_bar",title:"Performance Attribution",data:e.performance?.attribution||[],chartType:"bar"}]}},y=({financialData:u,onReportGenerated:h})=>{const[y,g]=e.useState(null),[b,v]=e.useState("professional"),[j,_]=e.useState({includeCharts:!0,includeRawData:!1,includedSections:[]}),[w,k]=e.useState([]),[S,N]=e.useState(!1),[R,C]=e.useState([]),[T,A]=e.useState([]),[D,P]=e.useState([]),[F,q]=e.useState(!1);e.useEffect(()=>{I(),M()},[]);const I=async()=>{try{const e=f.getTemplates(),t=f.getThemes();A(e),P(t),e.length>0&&!y&&g(e[0])}catch(e){}},M=async()=>{try{const e=f.listReports();C(e)}catch(e){}},O=(e,t)=>{k(a=>a.map((a,s)=>s===e?{...a,...t}:a))},E=async(e,t)=>{try{const a=await f.exportReport(e,t),s=new Blob([a.data],{type:z(t)}),r=URL.createObjectURL(s),n=document.createElement("a");n.href=r,n.download=a.filename,n.click(),URL.revokeObjectURL(r)}catch(a){alert("Failed to export report: "+a.message)}},z=e=>({pdf:"application/pdf",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",html:"text/html",excel:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}[e]||"application/octet-stream"),G=e=>({completed:"text-green-600 bg-green-100",generating:"text-blue-600 bg-blue-100",error:"text-red-600 bg-red-100"}[e]||"text-gray-600 bg-gray-100");return t.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Report Builder"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Create professional financial reports with custom templates"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("button",{onClick:()=>q(!F),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[t.jsx(a,{size:20}),t.jsx("span",{children:"Preview"})]})})]}),t.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[t.jsxs("div",{className:"col-span-4 space-y-6",children:[t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(s,{className:"mr-2",size:24}),"Templates"]}),t.jsx("div",{className:"space-y-3",children:T.map(e=>t.jsxs(x.div,{whileHover:{scale:1.02},onClick:()=>(e=>{g(e);const t=e.sections.filter(e=>e.required).map(e=>e.id);_(e=>({...e,includedSections:[...t,...e.includedSections.filter(e=>!t.includes(e))]}))})(e),className:"p-4 rounded-lg border cursor-pointer transition-all "+(y?.id===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),t.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:e.category})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),t.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[t.jsxs("span",{children:[e.sections.length," sections"]}),t.jsxs("span",{children:["~",e.estimatedPages," pages"]})]})]},e.id))})]}),t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(r,{className:"mr-2",size:24}),"Theme"]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:D.map(e=>t.jsx(x.div,{whileHover:{scale:1.02},onClick:()=>v(e.id),className:"p-3 rounded-lg border cursor-pointer transition-all "+(b===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:e.name}),t.jsxs("div",{className:"flex space-x-1",children:[t.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:e.colors.primary}}),t.jsx("div",{className:"w-4 h-4 rounded-full border",style:{backgroundColor:e.colors.accent}})]})]})},e.id))})]})]}),t.jsxs("div",{className:"col-span-8 space-y-6",children:[y&&t.jsxs(x.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[t.jsx(n,{className:"mr-2",size:24}),"Report Configuration"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Sections"}),t.jsx("div",{className:"space-y-3",children:y.sections.map(e=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"font-medium",children:e.name}),e.required&&t.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:"Required"})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.type})]}),t.jsx("input",{type:"checkbox",checked:e.required||j.includedSections.includes(e.id),disabled:e.required,onChange:()=>{return t=e.id,void _(e=>({...e,includedSections:e.includedSections.includes(t)?e.includedSections.filter(e=>e!==t):[...e.includedSections,t]}));var t},className:"w-5 h-5 text-blue-600 rounded"})]},e.id))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Custom Sections"}),t.jsxs("button",{onClick:()=>{const e={id:`custom_${Date.now()}`,name:"Custom Section",content:"",charts:[],tables:[]};k(t=>[...t,e])},className:"flex items-center space-x-1 text-blue-600 hover:text-blue-700",children:[t.jsx(i,{size:16}),t.jsx("span",{children:"Add"})]})]}),t.jsx("div",{className:"space-y-3",children:w.map((e,a)=>t.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("input",{type:"text",value:e.name,onChange:e=>O(a,{name:e.target.value}),className:"font-medium bg-transparent border-none p-0 focus:ring-0"}),t.jsx("button",{onClick:()=>(e=>{k(t=>t.filter((t,a)=>a!==e))})(a),className:"text-red-500 hover:text-red-700",children:t.jsx(o,{size:16})})]}),t.jsx("textarea",{value:e.content,onChange:e=>O(a,{content:e.target.value}),placeholder:"Section content...",className:"w-full text-sm bg-white border border-gray-200 rounded p-2 resize-none",rows:3})]},e.id))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Options"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:j.includeCharts,onChange:e=>_(t=>({...t,includeCharts:e.target.checked})),className:"w-5 h-5 text-blue-600 rounded"}),t.jsx("span",{children:"Include charts and visualizations"})]}),t.jsxs("label",{className:"flex items-center space-x-3",children:[t.jsx("input",{type:"checkbox",checked:j.includeRawData,onChange:e=>_(t=>({...t,includeRawData:e.target.checked})),className:"w-5 h-5 text-blue-600 rounded"}),t.jsx("span",{children:"Include raw data tables"})]})]})]}),t.jsx("div",{className:"flex justify-end",children:t.jsx(x.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:async()=>{if(y){N(!0);try{const e={...u,company:u?.company||{name:"Sample Company"},analyst:{name:"Financial Analyst"},reportTitle:y.name},t=await f.generateReport(y.id,e,{theme:b,customSections:w,...j});C(e=>[t,...e]),h?.(t)}catch(e){alert("Failed to generate report: "+e.message)}finally{N(!1)}}},disabled:S,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:S?t.jsxs(t.Fragment,{children:[t.jsx(c,{className:"animate-spin",size:20}),t.jsx("span",{children:"Generating..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(l,{size:20}),t.jsx("span",{children:"Generate Report"})]})})})]}),R.length>0&&t.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Generated Reports"}),t.jsx("div",{className:"space-y-3",children:R.map(e=>{const a=(s=e.status,{completed:p,generating:c,error:m}[s]||c);var s;return t.jsxs(x.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:`p-2 rounded-lg ${G(e.status)}`,children:t.jsx(a,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.template}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})]}),"completed"===e.status&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs("button",{onClick:()=>E(e.id,"pdf"),className:"flex items-center space-x-1 px-3 py-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",children:[t.jsx(d,{size:16}),t.jsx("span",{children:"PDF"})]}),t.jsxs("button",{onClick:()=>E(e.id,"docx"),className:"flex items-center space-x-1 px-3 py-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",children:[t.jsx(d,{size:16}),t.jsx("span",{children:"Word"})]}),t.jsxs("button",{onClick:()=>E(e.id,"excel"),className:"flex items-center space-x-1 px-3 py-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",children:[t.jsx(d,{size:16}),t.jsx("span",{children:"Excel"})]})]})]},e.id)})})]})]})]})]})},g=()=>t.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900",children:[t.jsx(h,{title:"Reports & IC Memos | FinanceAnalyst Pro",description:"Generate professional investment reports, IC memos, and financial analysis documents with customizable templates and automated PDF/DOCX export.",canonical:"/reports",keywords:"investment reports, IC memos, financial analysis reports, PDF export, investment committee, due diligence reports"}),t.jsx(u,{}),t.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("div",{className:"flex items-center mb-4",children:[t.jsx(l,{className:"w-8 h-8 text-blue-600 mr-3"}),t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Reports & IC Memos"})]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-3xl",children:"Generate professional investment reports and IC memos with customizable templates, automated data integration, and one-click PDF/DOCX export capabilities."})]}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-lg",children:t.jsx(y,{onReportGenerated:e=>{}})})]})]});export{g as default};
//# sourceMappingURL=Reports-Pk3S4BnM.js.map
