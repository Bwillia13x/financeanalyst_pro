{"version":3,"file":"ValuationTool-DIdm8hW2.js","sources":["../../src/components/AnalysisCanvas/AnalysisModule.jsx","../../src/components/AnalysisCanvas/CompanyOverview.jsx","../../src/components/AnalysisCanvas/CompanySelector.jsx","../../src/components/AnalysisCanvas/AnalysisCanvas.jsx","../../src/components/ValuationTool/DCFInputs.jsx","../../src/components/ValuationTool/EnhancedDCFTool.jsx","../../src/components/ValuationTool/DynamicTimePeriodControl.jsx","../../src/components/ValuationTool/LivingModelDCF.jsx","../../src/components/ValuationTool/ValuationTool.jsx"],"sourcesContent":["import { motion } from 'framer-motion';\nimport {\n  Calculator,\n  BarChart3,\n  Target,\n  Maximize2,\n  X,\n  TrendingUp,\n  DollarSign,\n  Percent,\n  Calendar\n} from 'lucide-react';\nimport { useState, useMemo } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';\n\nconst AnalysisModule = ({\n  moduleId,\n  companyData: _companyData,\n  inputs,\n  results,\n  onInputChange,\n  onFocus,\n  onRemove,\n  isCompact = false,\n  isFullscreen = false\n}) => {\n  const [_activeInputTab, _setActiveInputTab] = useState('assumptions');\n\n  // Generate chart data for visualization at component level\n  const chartData = useMemo(() => {\n    if (!results?.freeCashFlows) return [];\n\n    return results.years.map((year, index) => ({\n      year: `Y${year}`,\n      fcf: results.freeCashFlows[index] / 1e6, // Convert to millions\n      pv: results.presentValues[index] / 1e6\n    }));\n  }, [results]);\n\n  const moduleConfig = {\n    dcf: {\n      name: 'DCF Analysis',\n      icon: Calculator,\n      color: 'blue',\n      description: 'Discounted cash flow valuation model'\n    },\n    comparables: {\n      name: 'Comparable Analysis',\n      icon: BarChart3,\n      color: 'green',\n      description: 'Peer group valuation analysis'\n    },\n    lbo: {\n      name: 'LBO Analysis',\n      icon: Target,\n      color: 'purple',\n      description: 'Leveraged buyout return analysis'\n    }\n  };\n\n  const config = moduleConfig[moduleId];\n  const Icon = config.icon;\n\n  // Interactive slider component for key assumptions\n  const InteractiveSlider = ({ label, value, min, max, step, suffix = '', onChange }) => (\n    <div className=\"space-y-2\">\n      <div className=\"flex justify-between items-center\">\n        <label className=\"text-sm font-medium text-gray-700\">{label}</label>\n        <span className=\"text-sm font-mono text-gray-900 bg-gray-100 px-2 py-1 rounded\">\n          {value.toFixed(step < 1 ? 1 : 0)}{suffix}\n        </span>\n      </div>\n      <div className=\"relative\">\n        <input\n          type=\"range\"\n          min={min}\n          max={max}\n          step={step}\n          value={value}\n          onChange={(e) => onChange(parseFloat(e.target.value))}\n          className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider\"\n          style={{\n            background: `linear-gradient(to right, rgb(59 130 246) 0%, rgb(59 130 246) ${((value - min) / (max - min)) * 100}%, rgb(229 231 235) ${((value - min) / (max - min)) * 100}%, rgb(229 231 235) 100%)`\n          }}\n        />\n      </div>\n    </div>\n  );\n\n  // Render DCF module content\n  const renderDCFContent = () => {\n    if (!inputs) return null;\n\n    const handleInputChange = (field, value) => {\n      onInputChange({ [field]: value });\n    };\n\n    const handleYearlyInputChange = (year, field, value) => {\n      const updatedYearlyData = {\n        ...inputs.yearlyData,\n        [year]: {\n          ...inputs.yearlyData?.[year],\n          [field]: value\n        }\n      };\n      onInputChange({ yearlyData: updatedYearlyData });\n    };\n\n    // Chart data is now calculated at component level\n\n    if (isCompact) {\n      return (\n        <div className=\"p-6 space-y-6\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className={`w-10 h-10 bg-${config.color}-100 rounded-lg flex items-center justify-center`}>\n                <Icon className={`w-5 h-5 text-${config.color}-600`} />\n              </div>\n              <div>\n                <h3 className=\"font-semibold text-gray-900\">{config.name}</h3>\n                <p className=\"text-sm text-gray-500\">{config.description}</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={onFocus}\n                className=\"p-2 text-gray-400 hover:text-blue-600 transition-colors\"\n              >\n                <Maximize2 className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={onRemove}\n                className=\"p-2 text-gray-400 hover:text-red-600 transition-colors\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n\n          {/* Key Interactive Inputs */}\n          <div className=\"space-y-4\">\n            <InteractiveSlider\n              label=\"Terminal Growth Rate\"\n              value={(inputs.terminalGrowthRate || 0.025) * 100}\n              min={0}\n              max={5}\n              step={0.1}\n              suffix=\"%\"\n              onChange={(value) => handleInputChange('terminalGrowthRate', value / 100)}\n            />\n            <InteractiveSlider\n              label=\"Discount Rate (WACC)\"\n              value={(inputs.discountRate || 0.12) * 100}\n              min={5}\n              max={20}\n              step={0.1}\n              suffix=\"%\"\n              onChange={(value) => handleInputChange('discountRate', value / 100)}\n            />\n          </div>\n\n          {/* Results Summary */}\n          {results && (\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div className=\"bg-gray-50 rounded-lg p-3\">\n                <div className=\"text-sm text-gray-600 mb-1\">Enterprise Value</div>\n                <div className=\"text-lg font-semibold text-gray-900\">\n                  ${(results.enterpriseValue / 1e9).toFixed(1)}B\n                </div>\n              </div>\n              <div className=\"bg-gray-50 rounded-lg p-3\">\n                <div className=\"text-sm text-gray-600 mb-1\">Implied Price</div>\n                <div className=\"text-lg font-semibold text-gray-900\">\n                  ${results.impliedSharePrice?.toFixed(2) || '0.00'}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Mini Chart */}\n          {chartData.length > 0 && (\n            <div className=\"h-32\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                <LineChart data={chartData}>\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"fcf\"\n                    stroke=\"#3B82F6\"\n                    strokeWidth={2}\n                    dot={false}\n                  />\n                  <XAxis dataKey=\"year\" tick={{ fontSize: 10 }} />\n                  <YAxis tick={{ fontSize: 10 }} />\n                  <Tooltip\n                    formatter={(value) => [`$${value.toFixed(0)}M`, 'FCF']}\n                    labelStyle={{ color: '#374151' }}\n                  />\n                </LineChart>\n              </ResponsiveContainer>\n            </div>\n          )}\n        </div>\n      );\n    }\n\n    // Fullscreen view\n    return (\n      <div className=\"space-y-8\">\n        {/* Interactive Assumptions Panel */}\n        <div className=\"bg-white rounded-2xl border border-gray-100 p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Model Assumptions</h3>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <div className=\"space-y-6\">\n              <InteractiveSlider\n                label=\"Current Revenue\"\n                value={inputs.currentRevenue || 0}\n                min={1e6}\n                max={1e12}\n                step={1e6}\n                suffix=\"\"\n                onChange={(value) => handleInputChange('currentRevenue', value)}\n              />\n              <InteractiveSlider\n                label=\"Terminal Growth Rate\"\n                value={(inputs.terminalGrowthRate || 0.025) * 100}\n                min={0}\n                max={5}\n                step={0.1}\n                suffix=\"%\"\n                onChange={(value) => handleInputChange('terminalGrowthRate', value / 100)}\n              />\n              <InteractiveSlider\n                label=\"Discount Rate (WACC)\"\n                value={(inputs.discountRate || 0.12) * 100}\n                min={5}\n                max={20}\n                step={0.1}\n                suffix=\"%\"\n                onChange={(value) => handleInputChange('discountRate', value / 100)}\n              />\n            </div>\n\n            <div className=\"space-y-6\">\n              <InteractiveSlider\n                label=\"Projection Years\"\n                value={inputs.projectionYears || 5}\n                min={3}\n                max={10}\n                step={1}\n                suffix=\" years\"\n                onChange={(value) => handleInputChange('projectionYears', value)}\n              />\n\n              {/* Year 1 Quick Adjustments */}\n              <div className=\"bg-gray-50 rounded-lg p-4\">\n                <h4 className=\"font-medium text-gray-900 mb-3\">Year 1 Assumptions</h4>\n                <div className=\"space-y-3\">\n                  <InteractiveSlider\n                    label=\"Revenue Growth\"\n                    value={inputs.yearlyData?.[1]?.revenueGrowth || 10}\n                    min={-10}\n                    max={50}\n                    step={0.5}\n                    suffix=\"%\"\n                    onChange={(value) => handleYearlyInputChange(1, 'revenueGrowth', value)}\n                  />\n                  <InteractiveSlider\n                    label=\"EBITDA Margin\"\n                    value={inputs.yearlyData?.[1]?.ebitdaMargin || 20}\n                    min={0}\n                    max={50}\n                    step={0.5}\n                    suffix=\"%\"\n                    onChange={(value) => handleYearlyInputChange(1, 'ebitdaMargin', value)}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Results Dashboard */}\n        {results && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n            {/* Key Metrics */}\n            <div className=\"lg:col-span-1 space-y-4\">\n              <div className=\"bg-white rounded-2xl border border-gray-100 p-6\">\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Valuation Results</h3>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center justify-between p-3 bg-blue-50 rounded-lg\">\n                    <div className=\"flex items-center space-x-2\">\n                      <DollarSign className=\"w-4 h-4 text-blue-600\" />\n                      <span className=\"text-sm font-medium text-blue-900\">Enterprise Value</span>\n                    </div>\n                    <span className=\"text-lg font-bold text-blue-900\">\n                      ${(results.enterpriseValue / 1e9).toFixed(1)}B\n                    </span>\n                  </div>\n\n                  <div className=\"flex items-center justify-between p-3 bg-green-50 rounded-lg\">\n                    <div className=\"flex items-center space-x-2\">\n                      <TrendingUp className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"text-sm font-medium text-green-900\">Equity Value</span>\n                    </div>\n                    <span className=\"text-lg font-bold text-green-900\">\n                      ${(results.equityValue / 1e9).toFixed(1)}B\n                    </span>\n                  </div>\n\n                  <div className=\"flex items-center justify-between p-3 bg-purple-50 rounded-lg\">\n                    <div className=\"flex items-center space-x-2\">\n                      <Percent className=\"w-4 h-4 text-purple-600\" />\n                      <span className=\"text-sm font-medium text-purple-900\">Implied Price</span>\n                    </div>\n                    <span className=\"text-lg font-bold text-purple-900\">\n                      ${results.impliedSharePrice?.toFixed(2) || '0.00'}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Cash Flow Chart */}\n            <div className=\"lg:col-span-2\">\n              <div className=\"bg-white rounded-2xl border border-gray-100 p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <h3 className=\"text-lg font-semibold text-gray-900\">Free Cash Flow Projection</h3>\n                  <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n                    <Calendar className=\"w-4 h-4\" />\n                    <span>{inputs.projectionYears || 5} Year Model</span>\n                  </div>\n                </div>\n\n                <div className=\"h-64\">\n                  <ResponsiveContainer width=\"100%\" height=\"100%\">\n                    <LineChart data={chartData}>\n                      <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f1f5f9\" />\n                      <XAxis\n                        dataKey=\"year\"\n                        axisLine={false}\n                        tickLine={false}\n                        tick={{ fontSize: 12, fill: '#64748b' }}\n                      />\n                      <YAxis\n                        axisLine={false}\n                        tickLine={false}\n                        tick={{ fontSize: 12, fill: '#64748b' }}\n                        tickFormatter={(value) => `$${value}M`}\n                      />\n                      <Tooltip\n                        formatter={(value, name) => [\n                          `$${value.toFixed(0)}M`,\n                          name === 'fcf' ? 'Free Cash Flow' : 'Present Value'\n                        ]}\n                        labelStyle={{ color: '#374151' }}\n                        contentStyle={{\n                          backgroundColor: '#ffffff',\n                          border: '1px solid #e5e7eb',\n                          borderRadius: '8px'\n                        }}\n                      />\n                      <Line\n                        type=\"monotone\"\n                        dataKey=\"fcf\"\n                        stroke=\"#3B82F6\"\n                        strokeWidth={3}\n                        dot={{ fill: '#3B82F6', strokeWidth: 0, r: 4 }}\n                        name=\"fcf\"\n                      />\n                      <Line\n                        type=\"monotone\"\n                        dataKey=\"pv\"\n                        stroke=\"#10B981\"\n                        strokeWidth={3}\n                        dot={{ fill: '#10B981', strokeWidth: 0, r: 4 }}\n                        name=\"pv\"\n                      />\n                    </LineChart>\n                  </ResponsiveContainer>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  // Render module based on type\n  const renderModuleContent = () => {\n    switch (moduleId) {\n      case 'dcf':\n        return renderDCFContent();\n      case 'comparables':\n        return (\n          <div className=\"p-6 text-center text-gray-500\">\n            <BarChart3 className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n            <p>Comparable analysis module coming soon</p>\n          </div>\n        );\n      case 'lbo':\n        return (\n          <div className=\"p-6 text-center text-gray-500\">\n            <Target className=\"w-12 h-12 mx-auto mb-4 text-gray-300\" />\n            <p>LBO analysis module coming soon</p>\n          </div>\n        );\n      default:\n        return null;\n    }\n  };\n\n  return (\n    <motion.div\n      layout\n      className={`${isFullscreen ? '' : 'bg-white border border-gray-100 rounded-2xl overflow-hidden'}`}\n    >\n      {renderModuleContent()}\n    </motion.div>\n  );\n};\n\nexport default AnalysisModule;\n","import { motion } from 'framer-motion';\nimport { TrendingUp, Building2, Calendar, DollarSign } from 'lucide-react';\n// React not needed for JSX-only component\nimport { LineChart, Line, XAxis, YAxis, ResponsiveContainer } from 'recharts';\n\nconst CompanyOverview = ({ company, compact = false }) => {\n  if (!company) return null;\n\n  const formatCurrency = (value) => {\n    if (value >= 1e12) return `$${(value / 1e12).toFixed(1)}T`;\n    if (value >= 1e9) return `$${(value / 1e9).toFixed(1)}B`;\n    if (value >= 1e6) return `$${(value / 1e6).toFixed(1)}M`;\n    return `$${value.toFixed(2)}`;\n  };\n\n  // Prepare chart data\n  const chartData = company.financials?.revenue?.map((revenue, index) => ({\n    year: company.financials.years[index],\n    revenue: revenue / 1e9 // Convert to billions for readability\n  })) || [];\n\n  // Calculate growth metrics\n  const calculateGrowth = (data) => {\n    if (!data || data.length < 2) return 0;\n    const latest = data[data.length - 1];\n    const previous = data[data.length - 2];\n    return ((latest - previous) / previous) * 100;\n  };\n\n  const revenueGrowth = calculateGrowth(company.financials?.revenue);\n\n  if (compact) {\n    return (\n      <motion.div\n        initial={{ opacity: 0, y: 10 }}\n        animate={{ opacity: 1, y: 0 }}\n        className=\"bg-white rounded-2xl p-6 border border-gray-100\"\n      >\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center\">\n              <Building2 className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h2 className=\"text-xl font-semibold text-gray-900\">{company.name}</h2>\n              <p className=\"text-sm text-gray-500\">{company.sector}</p>\n            </div>\n          </div>\n          <div className=\"text-right\">\n            <div className=\"text-2xl font-semibold text-gray-900\">${company.price}</div>\n            <div\n              className={`text-sm flex items-center justify-end ${\n                company.changePercent >= 0 ? 'text-green-600' : 'text-red-600'\n              }`}\n            >\n              <TrendingUp\n                className={`w-4 h-4 mr-1 ${\n                  company.changePercent < 0 ? 'rotate-180' : ''\n                }`}\n              />\n              {company.changePercent >= 0 ? '+' : ''}\n              {company.changePercent.toFixed(2)}%\n            </div>\n          </div>\n        </div>\n      </motion.div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"bg-white rounded-3xl p-8 border border-gray-100 shadow-sm\"\n    >\n      {/* Header */}\n      <div className=\"flex items-start justify-between mb-8\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center\">\n            <Building2 className=\"w-8 h-8 text-white\" />\n          </div>\n          <div>\n            <h1 className=\"text-3xl font-light text-gray-900 mb-1\">{company.name}</h1>\n            <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n              <span className=\"font-mono bg-gray-100 px-2 py-1 rounded\">{company.ticker}</span>\n              <span>{company.sector}</span>\n              <span>Market Cap: {formatCurrency(company.marketCap)}</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"text-right\">\n          <div className=\"text-4xl font-light text-gray-900 mb-1\">\n            ${company.price}\n          </div>\n          <div\n            className={`text-lg flex items-center justify-end ${\n              company.changePercent >= 0 ? 'text-green-600' : 'text-red-600'\n            }`}\n          >\n            <TrendingUp\n              className={`w-5 h-5 mr-2 ${\n                company.changePercent < 0 ? 'rotate-180' : ''\n              }`}\n            />\n            {company.changePercent >= 0 ? '+' : ''}\n            {company.change.toFixed(2)} ({company.changePercent.toFixed(2)}%)\n          </div>\n        </div>\n      </div>\n\n      {/* Key Metrics Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n        {/* Revenue Chart */}\n        <div className=\"md:col-span-2\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-medium text-gray-900\">Revenue Trend</h3>\n            <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n              <Calendar className=\"w-4 h-4\" />\n              <span>{company.financials?.years?.[0]} - {company.financials?.years?.slice(-1)}</span>\n            </div>\n          </div>\n          <div className=\"h-48\">\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\n              <LineChart data={chartData}>\n                <XAxis\n                  dataKey=\"year\"\n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 12, fill: '#6B7280' }}\n                />\n                <YAxis\n                  axisLine={false}\n                  tickLine={false}\n                  tick={{ fontSize: 12, fill: '#6B7280' }}\n                  tickFormatter={(value) => `$${value}B`}\n                />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"revenue\"\n                  stroke=\"#3B82F6\"\n                  strokeWidth={3}\n                  dot={{ fill: '#3B82F6', strokeWidth: 0, r: 4 }}\n                  activeDot={{ r: 6, stroke: '#3B82F6', strokeWidth: 2, fill: '#fff' }}\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        </div>\n\n        {/* Key Financial Metrics */}\n        <div className=\"space-y-4\">\n          <div className=\"bg-gray-50 rounded-2xl p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm font-medium text-gray-600\">Latest Revenue</span>\n              <DollarSign className=\"w-4 h-4 text-gray-400\" />\n            </div>\n            <div className=\"text-2xl font-semibold text-gray-900\">\n              {formatCurrency(company.financials?.revenue?.slice(-1)[0] || 0)}\n            </div>\n            <div\n              className={`text-sm mt-1 ${\n                revenueGrowth >= 0 ? 'text-green-600' : 'text-red-600'\n              }`}\n            >\n              {revenueGrowth >= 0 ? '+' : ''}{revenueGrowth.toFixed(1)}% YoY\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-2xl p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm font-medium text-gray-600\">Market Cap</span>\n              <TrendingUp className=\"w-4 h-4 text-gray-400\" />\n            </div>\n            <div className=\"text-2xl font-semibold text-gray-900\">\n              {formatCurrency(company.marketCap)}\n            </div>\n            <div className=\"text-sm text-gray-500 mt-1\">\n              Public Market\n            </div>\n          </div>\n\n          <div className=\"bg-gray-50 rounded-2xl p-4\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm font-medium text-gray-600\">Sector</span>\n              <Building2 className=\"w-4 h-4 text-gray-400\" />\n            </div>\n            <div className=\"text-lg font-medium text-gray-900\">\n              {company.sector}\n            </div>\n            <div className=\"text-sm text-gray-500 mt-1\">\n              Industry Classification\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Analysis Ready Indicator */}\n      <div className=\"bg-green-50 border border-green-200 rounded-2xl p-4\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\" />\n          <span className=\"text-sm font-medium text-green-800\">\n            Financial data loaded • Ready for analysis\n          </span>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\nexport default CompanyOverview;\n","import { motion, AnimatePresence } from 'framer-motion';\nimport { Search, TrendingUp, Building2 } from 'lucide-react';\nimport { useState, useEffect } from 'react';\n\nconst CompanySelector = ({ onCompanySelect }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n\n  // Mock company data - in real implementation, this would come from an API\n  const mockCompanies = [\n    {\n      id: 'AAPL',\n      name: 'Apple Inc.',\n      ticker: 'AAPL',\n      sector: 'Technology',\n      marketCap: 3000000000000,\n      price: 175.84,\n      change: 2.34,\n      changePercent: 1.35,\n      financials: {\n        revenue: [274515000000, 294135000000, 365817000000, 383285000000, 394328000000],\n        years: [2019, 2020, 2021, 2022, 2023]\n      }\n    },\n    {\n      id: 'MSFT',\n      name: 'Microsoft Corporation',\n      ticker: 'MSFT',\n      sector: 'Technology',\n      marketCap: 2800000000000,\n      price: 378.85,\n      change: -1.23,\n      changePercent: -0.32,\n      financials: {\n        revenue: [125843000000, 143015000000, 168088000000, 198270000000, 211915000000],\n        years: [2019, 2020, 2021, 2022, 2023]\n      }\n    },\n    {\n      id: 'GOOGL',\n      name: 'Alphabet Inc.',\n      ticker: 'GOOGL',\n      sector: 'Technology',\n      marketCap: 2100000000000,\n      price: 142.56,\n      change: 3.21,\n      changePercent: 2.30,\n      financials: {\n        revenue: [161857000000, 182527000000, 257637000000, 282836000000, 307394000000],\n        years: [2019, 2020, 2021, 2022, 2023]\n      }\n    },\n    {\n      id: 'JNJ',\n      name: 'Johnson & Johnson',\n      ticker: 'JNJ',\n      sector: 'Healthcare',\n      marketCap: 450000000000,\n      price: 156.78,\n      change: 0.89,\n      changePercent: 0.57,\n      financials: {\n        revenue: [82059000000, 82584000000, 93775000000, 94943000000, 85159000000],\n        years: [2019, 2020, 2021, 2022, 2023]\n      }\n    },\n    {\n      id: 'PFE',\n      name: 'Pfizer Inc.',\n      ticker: 'PFE',\n      sector: 'Healthcare',\n      marketCap: 320000000000,\n      price: 28.95,\n      change: -0.45,\n      changePercent: -1.53,\n      financials: {\n        revenue: [51750000000, 41908000000, 81288000000, 100330000000, 58496000000],\n        years: [2019, 2020, 2021, 2022, 2023]\n      }\n    }\n  ];\n\n  // Search functionality\n  useEffect(() => {\n    if (searchTerm.length > 0) {\n      setIsSearching(true);\n\n      // Simulate API delay\n      const timer = setTimeout(() => {\n        const filtered = mockCompanies.filter(company =>\n          company.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          company.ticker.toLowerCase().includes(searchTerm.toLowerCase())\n        );\n        setSuggestions(filtered);\n        setIsSearching(false);\n      }, 300);\n\n      return () => clearTimeout(timer);\n    } else {\n      setSuggestions([]);\n      setIsSearching(false);\n    }\n  }, [searchTerm]);\n\n  const formatCurrency = (value) => {\n    if (value >= 1e12) return `$${(value / 1e12).toFixed(1)}T`;\n    if (value >= 1e9) return `$${(value / 1e9).toFixed(1)}B`;\n    if (value >= 1e6) return `$${(value / 1e6).toFixed(1)}M`;\n    return `$${value.toFixed(2)}`;\n  };\n\n  const handleCompanySelect = (company) => {\n    onCompanySelect(company);\n    setSearchTerm('');\n    setSuggestions([]);\n  };\n\n  return (\n    <div className=\"relative max-w-lg mx-auto\">\n      {/* Search Input */}\n      <div className=\"relative\">\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n          <Search className=\"h-5 w-5 text-gray-400\" />\n        </div>\n        <input\n          type=\"text\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          className=\"block w-full pl-10 pr-3 py-4 border border-gray-200 rounded-2xl leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-lg\"\n          placeholder=\"Search companies (e.g., Apple, AAPL)\"\n        />\n      </div>\n\n      {/* Search Results */}\n      <AnimatePresence>\n        {(suggestions.length > 0 || isSearching) && (\n          <motion.div\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0, y: -10 }}\n            className=\"absolute z-10 mt-2 w-full bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden\"\n          >\n            {isSearching ? (\n              <div className=\"p-4 text-center text-gray-500\">\n                <div className=\"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\" />\n                <p className=\"mt-2 text-sm\">Searching...</p>\n              </div>\n            ) : (\n              <div className=\"max-h-80 overflow-y-auto\">\n                {suggestions.map((company) => (\n                  <motion.button\n                    key={company.id}\n                    onClick={() => handleCompanySelect(company)}\n                    whileHover={{ backgroundColor: 'rgba(59, 130, 246, 0.05)' }}\n                    className=\"w-full p-4 text-left border-b border-gray-50 last:border-b-0 focus:outline-none focus:bg-blue-50 transition-colors\"\n                  >\n                    <div className=\"flex items-center justify-between\">\n                      <div className=\"flex items-center space-x-3\">\n                        <div className=\"flex-shrink-0\">\n                          <div className=\"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\n                            <Building2 className=\"w-5 h-5 text-white\" />\n                          </div>\n                        </div>\n                        <div>\n                          <div className=\"flex items-center space-x-2\">\n                            <h3 className=\"text-sm font-medium text-gray-900\">\n                              {company.name}\n                            </h3>\n                            <span className=\"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-0.5 rounded\">\n                              {company.ticker}\n                            </span>\n                          </div>\n                          <p className=\"text-xs text-gray-500 mt-0.5\">\n                            {company.sector} • Market Cap: {formatCurrency(company.marketCap)}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          ${company.price}\n                        </div>\n                        <div\n                          className={`text-xs flex items-center ${\n                            company.changePercent >= 0 ? 'text-green-600' : 'text-red-600'\n                          }`}\n                        >\n                          <TrendingUp\n                            className={`w-3 h-3 mr-1 ${\n                              company.changePercent < 0 ? 'rotate-180' : ''\n                            }`}\n                          />\n                          {company.changePercent >= 0 ? '+' : ''}\n                          {company.changePercent.toFixed(2)}%\n                        </div>\n                      </div>\n                    </div>\n                  </motion.button>\n                ))}\n              </div>\n            )}\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Popular Companies */}\n      {!searchTerm && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.2 }}\n          className=\"mt-8\"\n        >\n          <h3 className=\"text-sm font-medium text-gray-700 mb-3\">Popular Companies</h3>\n          <div className=\"grid grid-cols-2 gap-3\">\n            {mockCompanies.slice(0, 4).map((company) => (\n              <motion.button\n                key={company.id}\n                onClick={() => handleCompanySelect(company)}\n                whileHover={{ scale: 1.02 }}\n                whileTap={{ scale: 0.98 }}\n                className=\"p-3 bg-white border border-gray-200 rounded-xl hover:border-blue-300 transition-all text-left\"\n              >\n                <div className=\"flex items-center space-x-2\">\n                  <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center\">\n                    <Building2 className=\"w-4 h-4 text-white\" />\n                  </div>\n                  <div>\n                    <div className=\"text-sm font-medium text-gray-900\">\n                      {company.ticker}\n                    </div>\n                    <div className=\"text-xs text-gray-500 truncate\">\n                      {company.name}\n                    </div>\n                  </div>\n                </div>\n              </motion.button>\n            ))}\n          </div>\n        </motion.div>\n      )}\n    </div>\n  );\n};\n\nexport default CompanySelector;\n","import { motion, AnimatePresence } from 'framer-motion';\nimport {\n  BarChart3,\n  Minimize2,\n  Calculator,\n  Target,\n  Search,\n  ChevronRight\n} from 'lucide-react';\nimport { useState, useCallback } from 'react';\n\nimport { calculateEnhancedDCF } from '../../utils/dcfCalculations';\n\nimport AnalysisModule from './AnalysisModule';\nimport CompanyOverview from './CompanyOverview';\nimport CompanySelector from './CompanySelector';\n\n// Spring-based animation configuration for organic feel\nconst springConfig = {\n  type: 'spring',\n  stiffness: 400,\n  damping: 25\n};\n\nconst AnalysisCanvas = () => {\n  const [selectedCompany, setSelectedCompany] = useState(null);\n  const [activeModules, setActiveModules] = useState([]);\n  const [canvasMode, setCanvasMode] = useState('overview'); // 'overview', 'analysis', 'focused'\n  const [focusedModule, setFocusedModule] = useState(null);\n\n  // Company data state with intelligent defaults\n  const [_companyData, _setCompanyData] = useState({\n    profile: null,\n    financials: null,\n    marketData: null,\n    consensus: null\n  });\n\n  // Analysis state\n  const [analysisInputs, setAnalysisInputs] = useState({\n    dcf: {\n      currentRevenue: 0,\n      projectionYears: 5,\n      terminalGrowthRate: 0.025,\n      discountRate: 0.12,\n      yearlyData: {},\n      balanceSheet: {}\n    }\n  });\n\n  const [analysisResults, setAnalysisResults] = useState({});\n\n  // Available analysis modules\n  const availableModules = [\n    {\n      id: 'dcf',\n      name: 'DCF Analysis',\n      icon: Calculator,\n      description: 'Discounted Cash Flow valuation',\n      color: 'blue',\n      isPrimary: true\n    },\n    {\n      id: 'comparables',\n      name: 'Comparable Analysis',\n      icon: BarChart3,\n      description: 'Peer comparison analysis',\n      color: 'green',\n      isPrimary: true\n    },\n    {\n      id: 'lbo',\n      name: 'LBO Analysis',\n      icon: Target,\n      description: 'Leveraged buyout modeling',\n      color: 'purple',\n      isPrimary: false\n    }\n  ];\n\n  // Handle company selection with intelligent data population\n  const handleCompanySelect = useCallback(async(company) => {\n    setSelectedCompany(company);\n    setCanvasMode('analysis');\n\n    // Populate with intelligent defaults based on company data\n    if (company.financials?.revenue) {\n      const latestRevenue = company.financials.revenue[company.financials.revenue.length - 1];\n      const growthRates = calculateHistoricalGrowthRates(company.financials.revenue);\n\n      setAnalysisInputs(prev => ({\n        ...prev,\n        dcf: {\n          ...prev.dcf,\n          currentRevenue: latestRevenue,\n          yearlyData: generateIntelligentDefaults(growthRates, company.sector)\n        }\n      }));\n    }\n\n    // Auto-activate primary modules\n    setActiveModules(['dcf']);\n  }, []);\n\n  // Calculate historical growth rates for intelligent defaults\n  const calculateHistoricalGrowthRates = (revenueData) => {\n    if (!revenueData || revenueData.length < 2) return [];\n\n    const growthRates = [];\n    for (let i = 1; i < revenueData.length; i++) {\n      const growth = ((revenueData[i] - revenueData[i - 1]) / revenueData[i - 1]) * 100;\n      growthRates.push(growth);\n    }\n\n    return growthRates;\n  };\n\n  // Generate intelligent defaults based on historical data and sector\n  const generateIntelligentDefaults = (historicalGrowth, sector) => {\n    const avgGrowth = historicalGrowth.length > 0\n      ? historicalGrowth.reduce((a, b) => a + b, 0) / historicalGrowth.length\n      : 10;\n\n    const sectorDefaults = getSectorDefaults(sector);\n\n    const yearlyData = {};\n    for (let year = 1; year <= 5; year++) {\n      // Declining growth model\n      const yearGrowth = Math.max(avgGrowth * (1 - (year - 1) * 0.1), sectorDefaults.terminalGrowth);\n\n      yearlyData[year] = {\n        revenueGrowth: yearGrowth,\n        ebitdaMargin: sectorDefaults.ebitdaMargin,\n        taxRate: sectorDefaults.taxRate,\n        capexPercent: sectorDefaults.capexPercent,\n        daPercent: sectorDefaults.daPercent,\n        workingCapitalChange: sectorDefaults.workingCapitalChange\n      };\n    }\n\n    return yearlyData;\n  };\n\n  // Sector-specific defaults\n  const getSectorDefaults = (sector) => {\n    const defaults = {\n      'Technology': {\n        ebitdaMargin: 25,\n        taxRate: 21,\n        capexPercent: 3,\n        daPercent: 5,\n        workingCapitalChange: 1,\n        terminalGrowth: 3\n      },\n      'Healthcare': {\n        ebitdaMargin: 20,\n        taxRate: 25,\n        capexPercent: 4,\n        daPercent: 4,\n        workingCapitalChange: 2,\n        terminalGrowth: 2.5\n      },\n      default: {\n        ebitdaMargin: 18,\n        taxRate: 25,\n        capexPercent: 5,\n        daPercent: 4,\n        workingCapitalChange: 2,\n        terminalGrowth: 2.5\n      }\n    };\n\n    return defaults[sector] || defaults.default;\n  };\n\n  // Add analysis module to canvas\n  const addModule = (moduleId) => {\n    if (!activeModules.includes(moduleId)) {\n      setActiveModules(prev => [...prev, moduleId]);\n    }\n  };\n\n  // Remove module from canvas\n  const removeModule = (moduleId) => {\n    setActiveModules(prev => prev.filter(id => id !== moduleId));\n    if (focusedModule === moduleId) {\n      setFocusedModule(null);\n      setCanvasMode('analysis');\n    }\n  };\n\n  // Focus on specific module\n  const focusModule = (moduleId) => {\n    setFocusedModule(moduleId);\n    setCanvasMode('focused');\n  };\n\n  // Update analysis inputs with real-time calculation\n  const updateAnalysisInputs = useCallback((moduleId, newInputs) => {\n    setAnalysisInputs(prev => ({\n      ...prev,\n      [moduleId]: { ...prev[moduleId], ...newInputs }\n    }));\n\n    // Trigger real-time calculation\n    if (moduleId === 'dcf') {\n      const results = calculateEnhancedDCF({ ...analysisInputs.dcf, ...newInputs });\n      setAnalysisResults(prev => ({ ...prev, dcf: results }));\n    }\n  }, [analysisInputs]);\n\n  // Canvas layout variants\n  const canvasVariants = {\n    overview: {\n      scale: 1,\n      y: 0,\n      transition: springConfig\n    },\n    analysis: {\n      scale: 1,\n      y: 0,\n      transition: springConfig\n    },\n    focused: {\n      scale: 1.02,\n      y: -20,\n      transition: springConfig\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-gray-50 to-white\">\n      {/* Minimal Header - Deference to Content */}\n      <div className=\"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-gray-100\">\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            {selectedCompany ? (\n              <div className=\"flex items-center space-x-4\">\n                <button\n                  onClick={() => {\n                    setSelectedCompany(null);\n                    setCanvasMode('overview');\n                    setActiveModules([]);\n                  }}\n                  className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                >\n                  <Minimize2 size={20} />\n                </button>\n                <div>\n                  <h1 className=\"text-2xl font-light text-gray-900\">\n                    {selectedCompany.name}\n                  </h1>\n                  <p className=\"text-sm text-gray-500\">\n                    {selectedCompany.sector} • {selectedCompany.ticker}\n                  </p>\n                </div>\n              </div>\n            ) : (\n              <h1 className=\"text-2xl font-light text-gray-900\">\n                Analysis Canvas\n              </h1>\n            )}\n\n            {/* Canvas Mode Controls */}\n            {selectedCompany && (\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setCanvasMode('analysis')}\n                  className={`px-3 py-1.5 text-sm rounded-full transition-all ${\n                    canvasMode === 'analysis'\n                      ? 'bg-blue-100 text-blue-700'\n                      : 'text-gray-500 hover:text-gray-700'\n                  }`}\n                >\n                  Analysis\n                </button>\n                {focusedModule && (\n                  <button\n                    onClick={() => setCanvasMode('focused')}\n                    className={`px-3 py-1.5 text-sm rounded-full transition-all ${\n                      canvasMode === 'focused'\n                        ? 'bg-blue-100 text-blue-700'\n                        : 'text-gray-500 hover:text-gray-700'\n                    }`}\n                  >\n                    Focus\n                  </button>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Main Canvas */}\n      <motion.div\n        variants={canvasVariants}\n        animate={canvasMode}\n        className=\"max-w-7xl mx-auto px-6 py-8\"\n      >\n        <AnimatePresence mode=\"wait\">\n          {!selectedCompany ? (\n            /* Company Selection State */\n            <motion.div\n              key=\"company-selection\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={springConfig}\n              className=\"text-center py-12\"\n            >\n              <div className=\"max-w-2xl mx-auto\">\n                <div className=\"mb-8\">\n                  <div className=\"inline-flex items-center justify-center w-16 h-16 bg-blue-50 rounded-full mb-4\">\n                    <Search className=\"w-8 h-8 text-blue-600\" />\n                  </div>\n                  <h2 className=\"text-3xl font-light text-gray-900 mb-3\">\n                    Begin Your Analysis\n                  </h2>\n                  <p className=\"text-lg text-gray-600\">\n                    Select a company to start building your financial model\n                  </p>\n                </div>\n\n                <CompanySelector onCompanySelect={handleCompanySelect} />\n              </div>\n            </motion.div>\n          ) : canvasMode === 'focused' && focusedModule ? (\n            /* Focused Module State */\n            <motion.div\n              key=\"focused-module\"\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.95 }}\n              transition={springConfig}\n              className=\"space-y-6\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-3\">\n                  <button\n                    onClick={() => setCanvasMode('analysis')}\n                    className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n                  >\n                    <ChevronRight className=\"w-5 h-5 rotate-180\" />\n                  </button>\n                  <h2 className=\"text-2xl font-light text-gray-900\">\n                    {availableModules.find(m => m.id === focusedModule)?.name}\n                  </h2>\n                </div>\n                <button\n                  onClick={() => removeModule(focusedModule)}\n                  className=\"text-gray-400 hover:text-red-500 transition-colors\"\n                >\n                  Remove\n                </button>\n              </div>\n\n              <AnalysisModule\n                moduleId={focusedModule}\n                companyData={selectedCompany}\n                inputs={analysisInputs[focusedModule]}\n                results={analysisResults[focusedModule]}\n                onInputChange={(newInputs) => updateAnalysisInputs(focusedModule, newInputs)}\n                isFullscreen={true}\n              />\n            </motion.div>\n          ) : (\n            /* Analysis Canvas State */\n            <motion.div\n              key=\"analysis-canvas\"\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -20 }}\n              transition={springConfig}\n              className=\"space-y-8\"\n            >\n              {/* Company Overview Section */}\n              <CompanyOverview\n                company={selectedCompany}\n                compact={activeModules.length > 0}\n              />\n\n              {/* Analysis Modules Grid */}\n              {activeModules.length > 0 && (\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n                  {activeModules.map(moduleId => (\n                    <motion.div\n                      key={moduleId}\n                      initial={{ opacity: 0, scale: 0.9 }}\n                      animate={{ opacity: 1, scale: 1 }}\n                      exit={{ opacity: 0, scale: 0.9 }}\n                      transition={springConfig}\n                      className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow duration-300\"\n                    >\n                      <AnalysisModule\n                        moduleId={moduleId}\n                        companyData={selectedCompany}\n                        inputs={analysisInputs[moduleId]}\n                        results={analysisResults[moduleId]}\n                        onInputChange={(newInputs) => updateAnalysisInputs(moduleId, newInputs)}\n                        onFocus={() => focusModule(moduleId)}\n                        onRemove={() => removeModule(moduleId)}\n                        isCompact={true}\n                      />\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n\n              {/* Available Modules */}\n              <div className=\"border-t border-gray-100 pt-8\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                  Available Analysis Tools\n                </h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  {availableModules\n                    .filter(module => !activeModules.includes(module.id))\n                    .map(module => {\n                      const Icon = module.icon;\n                      return (\n                        <motion.button\n                          key={module.id}\n                          onClick={() => addModule(module.id)}\n                          whileHover={{ scale: 1.02 }}\n                          whileTap={{ scale: 0.98 }}\n                          className=\"p-6 bg-white rounded-xl border border-gray-200 hover:border-gray-300 transition-all duration-200 text-left group\"\n                        >\n                          <div className={`inline-flex items-center justify-center w-12 h-12 bg-${module.color}-50 rounded-lg mb-3 group-hover:bg-${module.color}-100 transition-colors`}>\n                            <Icon className={`w-6 h-6 text-${module.color}-600`} />\n                          </div>\n                          <h4 className=\"font-medium text-gray-900 mb-1\">\n                            {module.name}\n                          </h4>\n                          <p className=\"text-sm text-gray-600\">\n                            {module.description}\n                          </p>\n                        </motion.button>\n                      );\n                    })}\n                </div>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default AnalysisCanvas;\n","import { useState, useEffect } from 'react';\n\nconst DCFInputs = ({ inputs, setInputs }) => {\n  const [viewMode, setViewMode] = useState('simple'); // 'simple' or 'detailed'\n\n  const handleChange = (field, value) => {\n    setInputs(prev => ({ ...prev, [field]: parseFloat(value) || 0 }));\n  };\n\n  const handleYearlyChange = (year, field, value) => {\n    const yearlyData = inputs.yearlyData || {};\n    const updatedYearlyData = {\n      ...yearlyData,\n      [year]: {\n        ...yearlyData[year],\n        [field]: parseFloat(value) || 0\n      }\n    };\n    setInputs(prev => ({ ...prev, yearlyData: updatedYearlyData }));\n  };\n\n  const handleBalanceSheetChange = (field, value) => {\n    const balanceSheet = inputs.balanceSheet || {};\n    setInputs(prev => ({\n      ...prev,\n      balanceSheet: {\n        ...balanceSheet,\n        [field]: parseFloat(value) || 0\n      }\n    }));\n  };\n\n  // Initialize yearly data when projection years change\n  useEffect(() => {\n    if (inputs.projectionYears && !inputs.yearlyData) {\n      const initialYearlyData = {};\n      for (let year = 1; year <= inputs.projectionYears; year++) {\n        initialYearlyData[year] = {\n          revenueGrowth: inputs.revenueGrowthRate * 100 || 10,\n          ebitdaMargin: inputs.ebitdaMargin * 100 || 20,\n          taxRate: inputs.taxRate * 100 || 25,\n          capexPercent: inputs.capexPercent * 100 || 3,\n          workingCapitalChange: inputs.workingCapitalPercent * 100 || 2,\n          daPercent: 3 // Depreciation & Amortization as % of revenue\n        };\n      }\n      setInputs(prev => ({ ...prev, yearlyData: initialYearlyData }));\n    }\n  }, [inputs.projectionYears, inputs.yearlyData, setInputs]);\n\n  // Initialize balance sheet data\n  useEffect(() => {\n    if (!inputs.balanceSheet) {\n      setInputs(prev => ({\n        ...prev,\n        balanceSheet: {\n          cash: 10000000, // $10M default\n          totalDebt: 5000000, // $5M default\n          sharesOutstanding: 1000000 // 1M shares default\n        }\n      }));\n    }\n  }, [inputs.balanceSheet, setInputs]);\n\n  const renderSimpleView = () => (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <div>\n        <label htmlFor=\"currentRevenue\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          Current Revenue ($)\n        </label>\n        <input\n          id=\"currentRevenue\"\n          type=\"number\"\n          value={inputs.currentRevenue || 0}\n          onChange={(e) => handleChange('currentRevenue', e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"revenueGrowthRate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          Revenue Growth Rate (%)\n        </label>\n        <input\n          id=\"revenueGrowthRate\"\n          type=\"number\"\n          step=\"0.01\"\n          value={(inputs.revenueGrowthRate || 0) * 100}\n          onChange={(e) => handleChange('revenueGrowthRate', e.target.value / 100)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"ebitdaMargin\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          EBITDA Margin (%)\n        </label>\n        <input\n          id=\"ebitdaMargin\"\n          type=\"number\"\n          step=\"0.01\"\n          value={(inputs.ebitdaMargin || 0) * 100}\n          onChange={(e) => handleChange('ebitdaMargin', e.target.value / 100)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"taxRate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          Tax Rate (%)\n        </label>\n        <input\n          id=\"taxRate\"\n          type=\"number\"\n          step=\"0.01\"\n          value={(inputs.taxRate || 0) * 100}\n          onChange={(e) => handleChange('taxRate', e.target.value / 100)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"terminalGrowthRate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          Terminal Growth Rate (%)\n        </label>\n        <input\n          id=\"terminalGrowthRate\"\n          type=\"number\"\n          step=\"0.01\"\n          value={(inputs.terminalGrowthRate || 0) * 100}\n          onChange={(e) => handleChange('terminalGrowthRate', e.target.value / 100)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"discountRate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          Discount Rate (WACC) (%)\n        </label>\n        <input\n          id=\"discountRate\"\n          type=\"number\"\n          step=\"0.01\"\n          value={(inputs.discountRate || 0) * 100}\n          onChange={(e) => handleChange('discountRate', e.target.value / 100)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"projectionYears\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n          Projection Years\n        </label>\n        <input\n          id=\"projectionYears\"\n          type=\"number\"\n          min=\"3\"\n          max=\"10\"\n          value={inputs.projectionYears || 5}\n          onChange={(e) => handleChange('projectionYears', e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n        />\n      </div>\n    </div>\n  );\n\n  const renderDetailedView = () => {\n    const years = Array.from({ length: inputs.projectionYears || 5 }, (_, i) => i + 1);\n    const yearlyData = inputs.yearlyData || {};\n    const balanceSheet = inputs.balanceSheet || {};\n\n    return (\n      <div className=\"space-y-6\">\n        {/* Base Year Inputs */}\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Base Year (Current)</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label htmlFor=\"currentRevenue\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Current Revenue ($)\n              </label>\n              <input\n                id=\"currentRevenue\"\n                type=\"number\"\n                value={inputs.currentRevenue || 0}\n                onChange={(e) => handleChange('currentRevenue', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"terminalGrowthRate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Terminal Growth Rate (%)\n              </label>\n              <input\n                id=\"terminalGrowthRate\"\n                type=\"number\"\n                step=\"0.01\"\n                value={(inputs.terminalGrowthRate || 0) * 100}\n                onChange={(e) => handleChange('terminalGrowthRate', e.target.value / 100)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"discountRate\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Discount Rate (WACC) (%)\n              </label>\n              <input\n                id=\"discountRate\"\n                type=\"number\"\n                step=\"0.01\"\n                value={(inputs.discountRate || 0) * 100}\n                onChange={(e) => handleChange('discountRate', e.target.value / 100)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* Year-by-Year Projections Table */}\n        <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n          <div className=\"bg-gray-50 px-4 py-3 border-b border-gray-200\">\n            <h4 className=\"text-md font-semibold text-gray-900\">Annual Projections</h4>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Metric\n                  </th>\n                  {years.map(year => (\n                    <th key={year} className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Year {year}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                <tr>\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">Revenue Growth (%)</td>\n                  {years.map(year => (\n                    <td key={year} className=\"px-4 py-3\">\n                      <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        value={yearlyData[year]?.revenueGrowth || 0}\n                        onChange={(e) => handleYearlyChange(year, 'revenueGrowth', e.target.value)}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </td>\n                  ))}\n                </tr>\n                <tr className=\"bg-gray-50\">\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">EBITDA Margin (%)</td>\n                  {years.map(year => (\n                    <td key={year} className=\"px-4 py-3\">\n                      <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        value={yearlyData[year]?.ebitdaMargin || 0}\n                        onChange={(e) => handleYearlyChange(year, 'ebitdaMargin', e.target.value)}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </td>\n                  ))}\n                </tr>\n                <tr>\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">Tax Rate (%)</td>\n                  {years.map(year => (\n                    <td key={year} className=\"px-4 py-3\">\n                      <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        value={yearlyData[year]?.taxRate || 0}\n                        onChange={(e) => handleYearlyChange(year, 'taxRate', e.target.value)}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </td>\n                  ))}\n                </tr>\n                <tr className=\"bg-gray-50\">\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">CapEx (% of Revenue)</td>\n                  {years.map(year => (\n                    <td key={year} className=\"px-4 py-3\">\n                      <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        value={yearlyData[year]?.capexPercent || 0}\n                        onChange={(e) => handleYearlyChange(year, 'capexPercent', e.target.value)}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </td>\n                  ))}\n                </tr>\n                <tr>\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">D&A (% of Revenue)</td>\n                  {years.map(year => (\n                    <td key={year} className=\"px-4 py-3\">\n                      <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        value={yearlyData[year]?.daPercent || 0}\n                        onChange={(e) => handleYearlyChange(year, 'daPercent', e.target.value)}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </td>\n                  ))}\n                </tr>\n                <tr className=\"bg-gray-50\">\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">Δ Working Capital (% of Rev)</td>\n                  {years.map(year => (\n                    <td key={year} className=\"px-4 py-3\">\n                      <input\n                        type=\"number\"\n                        step=\"0.1\"\n                        value={yearlyData[year]?.workingCapitalChange || 0}\n                        onChange={(e) => handleYearlyChange(year, 'workingCapitalChange', e.target.value)}\n                        className=\"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                    </td>\n                  ))}\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Balance Sheet Inputs */}\n        <div className=\"bg-gray-50 p-4 rounded-lg\">\n          <h4 className=\"text-md font-semibold text-gray-900 mb-3\">Balance Sheet Items</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div>\n              <label htmlFor=\"cash-input\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Cash ($)\n              </label>\n              <input\n                id=\"cash-input\"\n                type=\"number\"\n                value={balanceSheet.cash || 0}\n                onChange={(e) => handleBalanceSheetChange('cash', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"total-debt-input\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Total Debt ($)\n              </label>\n              <input\n                id=\"total-debt-input\"\n                type=\"number\"\n                value={balanceSheet.totalDebt || 0}\n                onChange={(e) => handleBalanceSheetChange('totalDebt', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n            <div>\n              <label htmlFor=\"shares-outstanding-input\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Shares Outstanding\n              </label>\n              <input\n                id=\"shares-outstanding-input\"\n                type=\"number\"\n                value={balanceSheet.sharesOutstanding || 0}\n                onChange={(e) => handleBalanceSheetChange('sharesOutstanding', e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h3 className=\"text-lg font-semibold text-gray-900\">DCF Model Assumptions</h3>\n        <div className=\"flex space-x-2\">\n          <button\n            onClick={() => setViewMode('simple')}\n            className={`px-4 py-2 text-sm rounded-lg transition-colors ${\n              viewMode === 'simple'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n          >\n            Simple\n          </button>\n          <button\n            onClick={() => setViewMode('detailed')}\n            className={`px-4 py-2 text-sm rounded-lg transition-colors ${\n              viewMode === 'detailed'\n                ? 'bg-blue-500 text-white'\n                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n            }`}\n          >\n            Detailed\n          </button>\n        </div>\n      </div>\n\n      {viewMode === 'simple' ? renderSimpleView() : renderDetailedView()}\n    </div>\n  );\n};\n\nexport default DCFInputs;\n","import { motion } from 'framer-motion';\nimport { Calculator, Download, BarChart3, TrendingUp, AlertCircle, ArrowLeft } from 'lucide-react';\nimport React, { useState, useEffect } from 'react';\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\n\nimport { calculateEnhancedDCF, calculateSensitivityAnalysis } from '../../utils/dcfCalculations';\n\nimport DCFInputs from './DCFInputs';\n\nconst EnhancedDCFTool = ({ onBack }) => {\n  const [inputs, setInputs] = useState({\n    currentRevenue: 100000000, // $100M\n    projectionYears: 5,\n    terminalGrowthRate: 0.025, // 2.5%\n    discountRate: 0.12, // 12%\n    yearlyData: {},\n    balanceSheet: {}\n  });\n\n  const [results, setResults] = useState(null);\n  const [sensitivityResults, setSensitivityResults] = useState(null);\n  const [activeTab, setActiveTab] = useState('inputs');\n  const [loading, setLoading] = useState(false);\n\n  // Calculate DCF when inputs change\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      calculateDCF();\n    }, 500);\n    return () => clearTimeout(timer);\n  }, [inputs]);\n\n  const calculateDCF = async() => {\n    if (!inputs.currentRevenue || inputs.currentRevenue <= 0) {\n      setResults(null);\n      setSensitivityResults(null);\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const dcfResults = calculateEnhancedDCF(inputs);\n      setResults(dcfResults);\n\n      // Calculate sensitivity analysis\n      const sensitivity = calculateSensitivityAnalysis(inputs);\n      setSensitivityResults(sensitivity);\n    } catch (error) {\n      console.error('DCF calculation error:', error);\n      setResults(null);\n      setSensitivityResults(null);\n    }\n    setLoading(false);\n  };\n\n  const formatCurrency = (value) => {\n    if (!value && value !== 0) return '$0';\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(value);\n  };\n\n  const formatPercent = (value) => {\n    if (!value && value !== 0) return '0%';\n    return `${(value).toFixed(1)}%`;\n  };\n\n  const generateChartData = () => {\n    if (!results) return [];\n\n    return results.years.map((year, index) => ({\n      year: `Year ${year}`,\n      freeCashFlow: results.freeCashFlows[index],\n      presentValue: results.presentValues[index]\n    }));\n  };\n\n  const renderProjectionTable = () => {\n    if (!results?.projectionTable) return null;\n\n    return (\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n        <div className=\"bg-gray-50 px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Financial Projections</h3>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Metric\n                </th>\n                {results.projectionTable.map((row, index) => (\n                  <th key={index} className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Year {row.year}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">Revenue</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatCurrency(row.revenue)}\n                  </td>\n                ))}\n              </tr>\n              <tr className=\"bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">Revenue Growth %</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatPercent(row.revenueGrowth)}\n                  </td>\n                ))}\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">EBITDA</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatCurrency(row.ebitda)}\n                  </td>\n                ))}\n              </tr>\n              <tr className=\"bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">EBIT</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatCurrency(row.ebit)}\n                  </td>\n                ))}\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">NOPAT</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatCurrency(row.nopat)}\n                  </td>\n                ))}\n              </tr>\n              <tr className=\"bg-gray-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">CapEx</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatCurrency(row.capex)}\n                  </td>\n                ))}\n              </tr>\n              <tr>\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">Δ Working Capital</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n                    {formatCurrency(row.deltaWorkingCapital)}\n                  </td>\n                ))}\n              </tr>\n              <tr className=\"bg-blue-50\">\n                <td className=\"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-900\">Free Cash Flow</td>\n                {results.projectionTable.map((row, index) => (\n                  <td key={index} className=\"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-900 text-right\">\n                    {formatCurrency(row.freeCashFlow)}\n                  </td>\n                ))}\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  };\n\n  const renderSensitivityTable = () => {\n    if (!sensitivityResults) return null;\n\n    const { matrix, waccRange, terminalGrowthRange } = sensitivityResults;\n\n    return (\n      <div className=\"bg-white rounded-lg border border-gray-200 overflow-hidden\">\n        <div className=\"bg-gray-50 px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">\n            Sensitivity Analysis - Implied Share Price\n          </h3>\n          <p className=\"text-sm text-gray-600 mt-1\">\n            Impact of WACC and Terminal Growth Rate changes on valuation\n          </p>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full\">\n            <thead>\n              <tr>\n                <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 bg-gray-50\">\n                  WACC \\ Terminal Growth\n                </th>\n                {terminalGrowthRange.map(rate => (\n                  <th key={rate} className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 bg-gray-50\">\n                    {formatPercent(rate)}\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {matrix.map((row, rowIndex) => (\n                <tr key={rowIndex} className={rowIndex % 2 === 0 ? 'bg-white' : 'bg-gray-50'}>\n                  <td className=\"px-4 py-3 text-sm font-medium text-gray-900\">\n                    {formatPercent(waccRange[rowIndex])}\n                  </td>\n                  {row.map((cell, cellIndex) => {\n                    const isBaseCase = rowIndex === Math.floor(matrix.length / 2) &&\n                                      cellIndex === Math.floor(row.length / 2);\n                    return (\n                      <td\n                        key={cellIndex}\n                        className={`px-4 py-3 text-sm text-center ${\n                          isBaseCase ? 'bg-blue-100 font-bold text-blue-900' : 'text-gray-900'\n                        }`}\n                      >\n                        ${cell.sharePrice.toFixed(2)}\n                      </td>\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  };\n\n  const tabs = [\n    { id: 'inputs', name: 'Model Inputs', icon: Calculator },\n    { id: 'results', name: 'Results', icon: TrendingUp },\n    { id: 'charts', name: 'Charts', icon: BarChart3 },\n    { id: 'sensitivity', name: 'Sensitivity', icon: AlertCircle }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-6 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center mb-4\">\n            {onBack && (\n              <button\n                onClick={onBack}\n                className=\"flex items-center text-gray-600 hover:text-gray-900 mr-4\"\n              >\n                <ArrowLeft className=\"w-5 h-5 mr-1\" />\n                Back to Overview\n              </button>\n            )}\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n            Enhanced DCF Analysis Tool\n          </h1>\n          <p className=\"text-gray-600\">\n            Professional discounted cash flow modeling with year-by-year projections and sensitivity analysis\n          </p>\n        </div>\n\n        {/* Navigation Tabs */}\n        <div className=\"border-b border-gray-200 mb-8\">\n          <nav className=\"-mb-px flex space-x-8\">\n            {tabs.map((tab) => {\n              const Icon = tab.icon;\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`flex items-center py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                    activeTab === tab.id\n                      ? 'border-blue-500 text-blue-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  }`}\n                >\n                  <Icon className=\"w-4 h-4 mr-2\" />\n                  {tab.name}\n                </button>\n              );\n            })}\n          </nav>\n        </div>\n\n        {/* Tab Content */}\n        <motion.div\n          key={activeTab}\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"space-y-8\"\n        >\n          {activeTab === 'inputs' && (\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <DCFInputs inputs={inputs} setInputs={setInputs} />\n            </div>\n          )}\n\n          {activeTab === 'results' && (\n            <div className=\"space-y-6\">\n              {loading && (\n                <div className=\"text-center py-8\">\n                  <div className=\"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\" />\n                  <p className=\"mt-2 text-gray-600\">Calculating...</p>\n                </div>\n              )}\n\n              {results && !loading && (\n                <>\n                  {/* Key Metrics */}\n                  <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"text-sm font-medium text-gray-500\">Enterprise Value</div>\n                      <div className=\"text-2xl font-bold text-gray-900 mt-1\">\n                        {formatCurrency(results.enterpriseValue)}\n                      </div>\n                    </div>\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"text-sm font-medium text-gray-500\">Equity Value</div>\n                      <div className=\"text-2xl font-bold text-gray-900 mt-1\">\n                        {formatCurrency(results.equityValue)}\n                      </div>\n                    </div>\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"text-sm font-medium text-gray-500\">Share Price</div>\n                      <div className=\"text-2xl font-bold text-gray-900 mt-1\">\n                        ${results.impliedSharePrice.toFixed(2)}\n                      </div>\n                    </div>\n                    <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                      <div className=\"text-sm font-medium text-gray-500\">Terminal Value</div>\n                      <div className=\"text-2xl font-bold text-gray-900 mt-1\">\n                        {formatCurrency(results.presentValueTerminal)}\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Projection Table */}\n                  {renderProjectionTable()}\n\n                  {/* Valuation Bridge */}\n                  <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Valuation Bridge</h3>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-gray-600\">PV of Projection Period FCFs</span>\n                        <span className=\"font-semibold\">{formatCurrency(results.cumulativePV)}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-gray-600\">PV of Terminal Value</span>\n                        <span className=\"font-semibold\">{formatCurrency(results.presentValueTerminal)}</span>\n                      </div>\n                      <div className=\"border-t pt-3 flex justify-between items-center\">\n                        <span className=\"text-gray-900 font-semibold\">Enterprise Value</span>\n                        <span className=\"font-bold text-lg\">{formatCurrency(results.enterpriseValue)}</span>\n                      </div>\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-gray-600\">Less: Net Debt</span>\n                        <span className=\"font-semibold\">{formatCurrency(results.netDebt)}</span>\n                      </div>\n                      <div className=\"border-t pt-3 flex justify-between items-center\">\n                        <span className=\"text-gray-900 font-semibold\">Equity Value</span>\n                        <span className=\"font-bold text-lg text-blue-600\">{formatCurrency(results.equityValue)}</span>\n                      </div>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'charts' && (\n            <div className=\"space-y-6\">\n              {results && (\n                <>\n                  <div className=\"bg-white p-6 rounded-lg border border-gray-200\">\n                    <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n                      Cash Flow Projections\n                    </h3>\n                    <div className=\"h-96\">\n                      <ResponsiveContainer width=\"100%\" height=\"100%\">\n                        <LineChart data={generateChartData()}>\n                          <CartesianGrid strokeDasharray=\"3 3\" />\n                          <XAxis dataKey=\"year\" />\n                          <YAxis\n                            tickFormatter={(value) =>\n                              new Intl.NumberFormat('en-US', {\n                                style: 'currency',\n                                currency: 'USD',\n                                notation: 'compact'\n                              }).format(value)\n                            }\n                          />\n                          <Tooltip\n                            formatter={(value) => [\n                              new Intl.NumberFormat('en-US', {\n                                style: 'currency',\n                                currency: 'USD'\n                              }).format(value)\n                            ]}\n                          />\n                          <Legend />\n                          <Line\n                            type=\"monotone\"\n                            dataKey=\"freeCashFlow\"\n                            stroke=\"#3b82f6\"\n                            strokeWidth={2}\n                            name=\"Free Cash Flow\"\n                          />\n                          <Line\n                            type=\"monotone\"\n                            dataKey=\"presentValue\"\n                            stroke=\"#10b981\"\n                            strokeWidth={2}\n                            name=\"Present Value\"\n                          />\n                        </LineChart>\n                      </ResponsiveContainer>\n                    </div>\n                  </div>\n                </>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'sensitivity' && (\n            <div className=\"space-y-6\">\n              {sensitivityResults && renderSensitivityTable()}\n            </div>\n          )}\n        </motion.div>\n\n        {/* Export Button */}\n        {results && (\n          <div className=\"mt-8 text-center\">\n            <button\n              className=\"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors\"\n              onClick={() => {\n                // Export functionality would go here\n                console.log('Export results:', results);\n              }}\n            >\n              <Download className=\"w-5 h-5 mr-2\" />\n              Export Results\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default EnhancedDCFTool;\n","import React, { useState, useCallback, useEffect } from 'react';\n\nimport Icon from '../AppIcon';\nimport { Card } from '../ui/Card';\n\nconst DynamicTimePeriodControl = ({\n  initialYears = 5,\n  minYears = 1,\n  maxYears = 15,\n  onYearsChange,\n  className = ''\n}) => {\n  const [years, setYears] = useState(initialYears);\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStartX, setDragStartX] = useState(0);\n  const [dragStartYears, setDragStartYears] = useState(0);\n\n  const handleYearsChange = useCallback((newYears) => {\n    const clampedYears = Math.max(minYears, Math.min(maxYears, Math.round(newYears)));\n    if (clampedYears !== years) {\n      setYears(clampedYears);\n      onYearsChange?.(clampedYears);\n    }\n  }, [years, minYears, maxYears, onYearsChange]);\n\n  const handleMouseDown = useCallback((e) => {\n    e.preventDefault();\n    setIsDragging(true);\n    setDragStartX(e.clientX);\n    setDragStartYears(years);\n    document.body.style.cursor = 'ew-resize';\n  }, [years]);\n\n  const handleMouseMove = useCallback((e) => {\n    if (!isDragging) return;\n\n    const deltaX = e.clientX - dragStartX;\n    const sensitivity = 0.02; // Adjust sensitivity\n    const deltaYears = deltaX * sensitivity;\n    const newYears = dragStartYears + deltaYears;\n\n    handleYearsChange(newYears);\n  }, [isDragging, dragStartX, dragStartYears, handleYearsChange]);\n\n  const handleMouseUp = useCallback(() => {\n    setIsDragging(false);\n    document.body.style.cursor = 'default';\n  }, []);\n\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n\n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, handleMouseMove, handleMouseUp]);\n\n  const handleSliderChange = (e) => {\n    const newYears = parseInt(e.target.value);\n    handleYearsChange(newYears);\n  };\n\n  const handleQuickSelect = (selectedYears) => {\n    handleYearsChange(selectedYears);\n  };\n\n  const getTimelineMarkers = () => {\n    const markers = [];\n    const step = years <= 5 ? 1 : years <= 10 ? 2 : 3;\n\n    for (let i = 1; i <= years; i += step) {\n      const percentage = (i / years) * 100;\n      markers.push(\n        <div\n          key={i}\n          className=\"absolute flex flex-col items-center transform -translate-x-1/2\"\n          style={{ left: `${percentage}%` }}\n        >\n          <div className=\"w-px h-3 bg-blue-400\" />\n          <span className=\"text-xs text-gray-400 mt-1\">Y{i}</span>\n        </div>\n      );\n    }\n\n    return markers;\n  };\n\n  return (\n    <Card className={`bg-gray-800 border-gray-700 p-6 ${className}`}>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <Icon name=\"Clock\" className=\"w-5 h-5 text-blue-400\" />\n            <h3 className=\"text-lg font-semibold text-white\">Projection Period</h3>\n          </div>\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-sm text-gray-400\">Years:</span>\n            <span className=\"text-xl font-bold text-blue-400\">{years}</span>\n          </div>\n        </div>\n\n        {/* Interactive Timeline */}\n        <div className=\"space-y-4\">\n          <div className=\"relative h-12\">\n            {/* Timeline Track */}\n            <div className=\"absolute top-4 left-0 right-0 h-2 bg-gray-700 rounded-full overflow-hidden\">\n              <div\n                className=\"h-full bg-gradient-to-r from-blue-600 to-blue-400 rounded-full transition-all duration-200\"\n                style={{ width: `${(years / maxYears) * 100}%` }}\n              />\n            </div>\n\n            {/* Draggable Handle */}\n            <div\n              className=\"absolute top-2 w-6 h-6 bg-blue-500 rounded-full border-2 border-white shadow-lg cursor-ew-resize transform -translate-x-1/2 hover:bg-blue-400 transition-colors duration-200\"\n              style={{ left: `${(years / maxYears) * 100}%` }}\n              onMouseDown={handleMouseDown}\n              role=\"slider\"\n              tabIndex={0}\n              aria-valuenow={years}\n              aria-valuemin={1}\n              aria-valuemax={maxYears}\n              aria-label=\"Time period selector\"\n              onKeyDown={(e) => {\n                if (e.key === 'ArrowLeft' && years > 1) setYears(years - 1);\n                if (e.key === 'ArrowRight' && years < maxYears) setYears(years + 1);\n              }}\n            >\n              <div className=\"absolute inset-0 rounded-full animate-pulse bg-blue-400 opacity-30\" />\n            </div>\n\n            {/* Timeline Markers */}\n            {getTimelineMarkers()}\n          </div>\n\n          {/* Range Slider */}\n          <div className=\"px-2\">\n            <input\n              type=\"range\"\n              min={minYears}\n              max={maxYears}\n              value={years}\n              onChange={handleSliderChange}\n              className=\"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider\"\n              style={{\n                background: `linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(years / maxYears) * 100}%, #374151 ${(years / maxYears) * 100}%, #374151 100%)`\n              }}\n            />\n          </div>\n        </div>\n\n        {/* Quick Select Buttons */}\n        <div className=\"flex justify-center space-x-2\">\n          {[3, 5, 7, 10, 12, 15].filter(y => y >= minYears && y <= maxYears).map(quickYears => (\n            <button\n              key={quickYears}\n              onClick={() => handleQuickSelect(quickYears)}\n              className={`px-3 py-1 rounded-full text-sm font-medium transition-all duration-200 ${\n                years === quickYears\n                  ? 'bg-blue-600 text-white shadow-lg'\n                  : 'bg-gray-700 text-gray-300 hover:bg-gray-600 hover:text-white'\n              }`}\n            >\n              {quickYears}Y\n            </button>\n          ))}\n        </div>\n\n        {/* Period Description */}\n        <div className=\"text-center\">\n          <p className=\"text-sm text-gray-400\">\n            {years <= 3 && 'Short-term focus with higher accuracy'}\n            {years > 3 && years <= 7 && 'Balanced projection period for most analyses'}\n            {years > 7 && years <= 10 && 'Extended projection for growth companies'}\n            {years > 10 && 'Long-term strategic planning horizon'}\n          </p>\n        </div>\n\n        {/* Real-time Impact Indicator */}\n        <div className=\"flex items-center justify-center space-x-2 text-xs text-gray-500\">\n          <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n          <span>Model updates automatically</span>\n        </div>\n      </div>\n\n      <style>{`\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #3b82f6;\n          border: 2px solid white;\n          cursor: pointer;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n          transition: all 0.2s ease;\n        }\n        \n        .slider::-webkit-slider-thumb:hover {\n          background: #2563eb;\n          transform: scale(1.1);\n        }\n        \n        .slider::-webkit-slider-track {\n          height: 8px;\n          border-radius: 4px;\n          background: transparent;\n        }\n        \n        .slider::-moz-range-thumb {\n          width: 20px;\n          height: 20px;\n          border-radius: 50%;\n          background: #3b82f6;\n          border: 2px solid white;\n          cursor: pointer;\n          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n        }\n        \n        .slider::-moz-range-track {\n          height: 8px;\n          border-radius: 4px;\n        }\n      `}\n      </style>\n    </Card>\n  );\n};\n\nexport default DynamicTimePeriodControl;\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\n\nimport { calculateDCF as _calculateDCF } from '../../utils/dcfCalculations';\nimport Icon from '../AppIcon';\nimport { Button, Card, Input } from '../ui';\n\nimport DynamicTimePeriodControl from './DynamicTimePeriodControl';\n\n// Mock services - these would be imported from actual services\nconst reactiveCalculationEngine = {\n  createReactiveModel: (id, type, inputs, callback) => ({ id, type, inputs, callback }),\n  updateModel: (_model, _newInputs) => {}\n};\n\nconst realTimeDataService = {\n  subscribe: (_symbol, _callback) => ({ unsubscribe: () => {} }),\n  getCurrentPrice: (_symbol) => Promise.resolve(150.0)\n};\n\nconst LivingModelDCF = ({ symbol, onBack }) => {\n  const [modelId] = useState(`dcf_${Date.now()}`);\n  const [result, setResult] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [realTimeData, setRealTimeData] = useState({});\n  const [lastUpdateTime, setLastUpdateTime] = useState(null);\n  const modelRef = useRef(null);\n\n  // Model inputs with reactive updates\n  const [inputs, setInputs] = useState({\n    currentRevenue: 10000000000, // $10B\n    projectionYears: 5,\n    terminalGrowthRate: 0.025,\n    discountRate: 0.12,\n    symbol: symbol || 'AAPL',\n    trackRealTime: true,\n    yearlyData: {\n      1: { revenueGrowth: 15, ebitdaMargin: 25, taxRate: 25, capexPercent: 4, daPercent: 3, workingCapitalChange: 2 },\n      2: { revenueGrowth: 12, ebitdaMargin: 24, taxRate: 25, capexPercent: 4, daPercent: 3, workingCapitalChange: 2 },\n      3: { revenueGrowth: 10, ebitdaMargin: 23, taxRate: 25, capexPercent: 3, daPercent: 3, workingCapitalChange: 1 },\n      4: { revenueGrowth: 8, ebitdaMargin: 22, taxRate: 25, capexPercent: 3, daPercent: 3, workingCapitalChange: 1 },\n      5: { revenueGrowth: 6, ebitdaMargin: 21, taxRate: 25, capexPercent: 3, daPercent: 3, workingCapitalChange: 1 }\n    },\n    balanceSheet: {\n      cash: 100000000,\n      totalDebt: 50000000,\n      sharesOutstanding: 1000000000\n    }\n  });\n\n  // Initialize the reactive model\n  useEffect(() => {\n    const model = reactiveCalculationEngine.createReactiveModel(\n      modelId,\n      'dcf',\n      inputs,\n      (newResult, newInputs, calcError) => {\n        setResult(newResult);\n        setError(calcError);\n        setLastUpdateTime(new Date());\n        setIsLoading(false);\n      }\n    );\n\n    modelRef.current = model;\n\n    // Setup real-time data feeds if enabled\n    if (inputs.trackRealTime && inputs.symbol) {\n      model.addDependency('stock_price', inputs.symbol);\n      model.addDependency('interest_rates', 'USD_10Y');\n      model.addDependency('bond_yields', 'US10Y');\n    }\n\n    return () => {\n      if (modelRef.current) {\n        modelRef.current.destroy();\n      }\n    };\n  }, [modelId]);\n\n  // Subscribe to real-time data for display\n  useEffect(() => {\n    if (!inputs.trackRealTime || !inputs.symbol) return;\n\n    const subscriptions = [\n      { dataType: 'stock_price', symbol: inputs.symbol },\n      { dataType: 'interest_rates', symbol: 'USD_10Y' },\n      { dataType: 'bond_yields', symbol: 'US10Y' },\n      { dataType: 'volatility_index', symbol: 'VIX' }\n    ];\n\n    const unsubscribe = realTimeDataService.subscribeMultiple(\n      subscriptions.map(({ dataType, symbol }) => ({\n        dataType,\n        symbol,\n        callback: (data) => {\n          setRealTimeData(prev => ({\n            ...prev,\n            [`${dataType}_${symbol}`]: data\n          }));\n        }\n      }))\n    );\n\n    return unsubscribe;\n  }, [inputs.trackRealTime, inputs.symbol]);\n\n  // Handle input changes with instant recalculation\n  const updateInput = useCallback((path, value) => {\n    setIsLoading(true);\n    if (modelRef.current) {\n      modelRef.current.updateInput(path, value);\n    }\n\n    setInputs(prev => {\n      const updated = { ...prev };\n      const keys = path.split('.');\n      let current = updated;\n\n      for (let i = 0; i < keys.length - 1; i++) {\n        if (!(keys[i] in current)) current[keys[i]] = {};\n        current = current[keys[i]];\n      }\n\n      current[keys[keys.length - 1]] = value;\n      return updated;\n    });\n  }, []);\n\n  const updateYearlyData = useCallback((year, field, value) => {\n    updateInput(`yearlyData.${year}.${field}`, parseFloat(value) || 0);\n  }, [updateInput]);\n\n  const handleProjectionYearsChange = useCallback((newYears) => {\n    updateInput('projectionYears', newYears);\n\n    // Extend or trim yearly data\n    setInputs(prev => {\n      const updated = { ...prev };\n      updated.projectionYears = newYears;\n\n      // Add new years with reasonable defaults\n      for (let year = Object.keys(prev.yearlyData).length + 1; year <= newYears; year++) {\n        if (!updated.yearlyData[year]) {\n          const prevYear = updated.yearlyData[year - 1] || updated.yearlyData[Object.keys(updated.yearlyData).pop()];\n          updated.yearlyData[year] = {\n            revenueGrowth: Math.max(2, (prevYear?.revenueGrowth || 10) - 2),\n            ebitdaMargin: prevYear?.ebitdaMargin || 20,\n            taxRate: prevYear?.taxRate || 25,\n            capexPercent: prevYear?.capexPercent || 3,\n            daPercent: prevYear?.daPercent || 3,\n            workingCapitalChange: prevYear?.workingCapitalChange || 1\n          };\n        }\n      }\n\n      // Remove years beyond the new projection period\n      Object.keys(updated.yearlyData).forEach(year => {\n        if (parseInt(year) > newYears) {\n          delete updated.yearlyData[year];\n        }\n      });\n\n      return updated;\n    });\n  }, [updateInput]);\n\n  const toggleRealTimeTracking = useCallback(() => {\n    const newValue = !inputs.trackRealTime;\n    updateInput('trackRealTime', newValue);\n\n    if (newValue && inputs.symbol && modelRef.current) {\n      modelRef.current.addDependency('stock_price', inputs.symbol);\n      modelRef.current.addDependency('interest_rates', 'USD_10Y');\n    }\n  }, [inputs.trackRealTime, inputs.symbol, updateInput]);\n\n  const formatCurrency = (value, decimals = 0) => {\n    if (!value) return '$0';\n    const absValue = Math.abs(value);\n    if (absValue >= 1e12) return `$${(value / 1e12).toFixed(decimals)}T`;\n    if (absValue >= 1e9) return `$${(value / 1e9).toFixed(decimals)}B`;\n    if (absValue >= 1e6) return `$${(value / 1e6).toFixed(decimals)}M`;\n    if (absValue >= 1e3) return `$${(value / 1e3).toFixed(decimals)}K`;\n    return `$${value.toFixed(decimals)}`;\n  };\n\n  const getRealTimeIndicator = (dataType, symbol) => {\n    const key = `${dataType}_${symbol}`;\n    const data = realTimeData[key];\n    if (!data) return null;\n\n    return (\n      <div className=\"flex items-center space-x-2 text-sm\">\n        <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\" />\n        <span className=\"text-gray-300\">\n          {dataType === 'stock_price' && `$${data.price?.toFixed(2)}`}\n          {dataType === 'interest_rates' && `${data.rate?.toFixed(2)}%`}\n          {dataType === 'bond_yields' && `${data.yield?.toFixed(2)}%`}\n          {dataType === 'volatility_index' && `${data.volatility?.toFixed(1)}`}\n        </span>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-8\">\n          <div className=\"flex items-center space-x-4\">\n            <Button\n              onClick={onBack}\n              className=\"bg-gray-700 hover:bg-gray-600\"\n              size=\"sm\"\n            >\n              <Icon name=\"ArrowLeft\" className=\"w-4 h-4 mr-2\" />\n              Back\n            </Button>\n            <div>\n              <h1 className=\"text-3xl font-bold\">Living Model DCF</h1>\n              <div className=\"flex items-center space-x-4 mt-2\">\n                <p className=\"text-gray-400\">Real-time, reactive financial modeling</p>\n                {lastUpdateTime && (\n                  <span className=\"text-xs text-green-400\">\n                    Updated: {lastUpdateTime.toLocaleTimeString()}\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Real-time Toggle */}\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={toggleRealTimeTracking}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${\n                inputs.trackRealTime\n                  ? 'bg-green-600 hover:bg-green-700 text-white'\n                  : 'bg-gray-700 hover:bg-gray-600 text-gray-300'\n              }`}\n            >\n              <Icon name={inputs.trackRealTime ? 'Zap' : 'ZapOff'} className=\"w-4 h-4\" />\n              <span>Real-time: {inputs.trackRealTime ? 'ON' : 'OFF'}</span>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* Left Panel - Inputs */}\n          <div className=\"lg:col-span-1 space-y-6\">\n            {/* Company & Basic Inputs */}\n            <Card className=\"bg-gray-800 border-gray-700 p-6\">\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                <Icon name=\"Building\" className=\"w-5 h-5 mr-2 text-blue-400\" />\n                Company Basics\n              </h3>\n\n              <div className=\"space-y-4\">\n                <div>\n                  <label htmlFor=\"symbol-input\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Symbol\n                  </label>\n                  <Input\n                    id=\"symbol-input\"\n                    value={inputs.symbol}\n                    onChange={(e) => updateInput('symbol', e.target.value.toUpperCase())}\n                    className=\"bg-gray-700 border-gray-600\"\n                    placeholder=\"AAPL\"\n                  />\n                  {inputs.trackRealTime && getRealTimeIndicator('stock_price', inputs.symbol)}\n                </div>\n\n                <div>\n                  <label htmlFor=\"current-revenue-input\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Current Revenue\n                  </label>\n                  <Input\n                    id=\"current-revenue-input\"\n                    type=\"number\"\n                    value={inputs.currentRevenue}\n                    onChange={(e) => updateInput('currentRevenue', parseFloat(e.target.value) || 0)}\n                    className=\"bg-gray-700 border-gray-600\"\n                    step=\"1000000\"\n                  />\n                </div>\n\n                <div>\n                  <label htmlFor=\"discount-rate-input\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Discount Rate (WACC)\n                  </label>\n                  <div className=\"flex items-center space-x-2\">\n                    <Input\n                      id=\"discount-rate-input\"\n                      type=\"number\"\n                      value={(inputs.discountRate * 100).toFixed(1)}\n                      onChange={(e) => updateInput('discountRate', parseFloat(e.target.value) / 100 || 0)}\n                      className=\"bg-gray-700 border-gray-600\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"50\"\n                    />\n                    <span className=\"text-gray-400\">%</span>\n                  </div>\n                  {inputs.trackRealTime && getRealTimeIndicator('interest_rates', 'USD_10Y')}\n                </div>\n\n                <div>\n                  <label htmlFor=\"terminal-growth-input\" className=\"block text-sm font-medium text-gray-300 mb-2\">\n                    Terminal Growth Rate\n                  </label>\n                  <div className=\"flex items-center space-x-2\">\n                    <Input\n                      id=\"terminal-growth-input\"\n                      type=\"number\"\n                      value={(inputs.terminalGrowthRate * 100).toFixed(1)}\n                      onChange={(e) => updateInput('terminalGrowthRate', parseFloat(e.target.value) / 100 || 0)}\n                      className=\"bg-gray-700 border-gray-600\"\n                      step=\"0.1\"\n                      min=\"0\"\n                      max=\"10\"\n                    />\n                    <span className=\"text-gray-400\">%</span>\n                  </div>\n                </div>\n              </div>\n            </Card>\n\n            {/* Dynamic Time Period Control */}\n            <DynamicTimePeriodControl\n              initialYears={inputs.projectionYears}\n              onYearsChange={handleProjectionYearsChange}\n            />\n\n            {/* Real-time Market Data */}\n            {inputs.trackRealTime && (\n              <Card className=\"bg-gray-800 border-gray-700 p-6\">\n                <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                  <Icon name=\"Activity\" className=\"w-5 h-5 mr-2 text-green-400\" />\n                  Live Market Data\n                </h3>\n\n                <div className=\"space-y-3\">\n                  {getRealTimeIndicator('stock_price', inputs.symbol) && (\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-400\">Stock Price:</span>\n                      {getRealTimeIndicator('stock_price', inputs.symbol)}\n                    </div>\n                  )}\n\n                  {getRealTimeIndicator('bond_yields', 'US10Y') && (\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-400\">10Y Treasury:</span>\n                      {getRealTimeIndicator('bond_yields', 'US10Y')}\n                    </div>\n                  )}\n\n                  {getRealTimeIndicator('volatility_index', 'VIX') && (\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-400\">VIX:</span>\n                      {getRealTimeIndicator('volatility_index', 'VIX')}\n                    </div>\n                  )}\n                </div>\n              </Card>\n            )}\n          </div>\n\n          {/* Middle Panel - Year-by-Year Inputs */}\n          <div className=\"lg:col-span-1\">\n            <Card className=\"bg-gray-800 border-gray-700 p-6\">\n              <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                <Icon name=\"Calendar\" className=\"w-5 h-5 mr-2 text-blue-400\" />\n                Year-by-Year Projections\n              </h3>\n\n              <div className=\"space-y-4 max-h-96 overflow-y-auto\">\n                {Array.from({ length: inputs.projectionYears }, (_, i) => i + 1).map(year => (\n                  <div key={year} className=\"border border-gray-700 rounded-lg p-4\">\n                    <h4 className=\"font-semibold text-blue-400 mb-3\">Year {year}</h4>\n\n                    <div className=\"grid grid-cols-2 gap-3\">\n                      <div>\n                        <label htmlFor={`rev-growth-${year}`} className=\"block text-xs text-gray-400 mb-1\">Rev Growth %</label>\n                        <Input\n                          id={`rev-growth-${year}`}\n                          type=\"number\"\n                          value={inputs.yearlyData[year]?.revenueGrowth || 0}\n                          onChange={(e) => updateYearlyData(year, 'revenueGrowth', e.target.value)}\n                          className=\"bg-gray-700 border-gray-600 text-sm\"\n                          step=\"0.1\"\n                        />\n                      </div>\n\n                      <div>\n                        <label htmlFor={`ebitda-margin-${year}`} className=\"block text-xs text-gray-400 mb-1\">EBITDA Margin %</label>\n                        <Input\n                          id={`ebitda-margin-${year}`}\n                          type=\"number\"\n                          value={inputs.yearlyData[year]?.ebitdaMargin || 0}\n                          onChange={(e) => updateYearlyData(year, 'ebitdaMargin', e.target.value)}\n                          className=\"bg-gray-700 border-gray-600 text-sm\"\n                          step=\"0.1\"\n                        />\n                      </div>\n\n                      <div>\n                        <label htmlFor={`tax-rate-${year}`} className=\"block text-xs text-gray-400 mb-1\">Tax Rate %</label>\n                        <Input\n                          id={`tax-rate-${year}`}\n                          type=\"number\"\n                          value={inputs.yearlyData[year]?.taxRate || 0}\n                          onChange={(e) => updateYearlyData(year, 'taxRate', e.target.value)}\n                          className=\"bg-gray-700 border-gray-600 text-sm\"\n                          step=\"0.1\"\n                        />\n                      </div>\n\n                      <div>\n                        <label htmlFor={`capex-${year}`} className=\"block text-xs text-gray-400 mb-1\">CapEx % Rev</label>\n                        <Input\n                          id={`capex-${year}`}\n                          type=\"number\"\n                          value={inputs.yearlyData[year]?.capexPercent || 0}\n                          onChange={(e) => updateYearlyData(year, 'capexPercent', e.target.value)}\n                          className=\"bg-gray-700 border-gray-600 text-sm\"\n                          step=\"0.1\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </Card>\n          </div>\n\n          {/* Right Panel - Results */}\n          <div className=\"lg:col-span-1 space-y-6\">\n            {isLoading && (\n              <div className=\"flex items-center justify-center py-8\">\n                <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\" />\n                <span className=\"ml-2 text-gray-400\">Calculating...</span>\n              </div>\n            )}\n\n            {error && (\n              <Card className=\"bg-red-900/20 border-red-700 p-6\">\n                <div className=\"flex items-center text-red-400\">\n                  <Icon name=\"AlertCircle\" className=\"w-5 h-5 mr-2\" />\n                  <span>Calculation Error</span>\n                </div>\n                <p className=\"text-red-300 mt-2 text-sm\">{error.message}</p>\n              </Card>\n            )}\n\n            {result && (\n              <>\n                {/* Key Metrics */}\n                <Card className=\"bg-gray-800 border-gray-700 p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                    <Icon name=\"TrendingUp\" className=\"w-5 h-5 mr-2 text-green-400\" />\n                    Key Results\n                  </h3>\n\n                  <div className=\"space-y-4\">\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-400\">Enterprise Value:</span>\n                      <span className=\"font-semibold text-lg text-blue-400\">\n                        {formatCurrency(result.enterpriseValue, 1)}\n                      </span>\n                    </div>\n\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-400\">Equity Value:</span>\n                      <span className=\"font-semibold text-lg text-green-400\">\n                        {formatCurrency(result.equityValue, 1)}\n                      </span>\n                    </div>\n\n                    <div className=\"flex justify-between items-center border-t border-gray-700 pt-4\">\n                      <span className=\"text-gray-400\">Share Price:</span>\n                      <span className=\"font-bold text-xl text-yellow-400\">\n                        ${result.impliedSharePrice?.toFixed(2)}\n                      </span>\n                    </div>\n\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-gray-400\">Terminal Value:</span>\n                      <span className=\"font-semibold\">\n                        {formatCurrency(result.terminalValue, 1)}\n                      </span>\n                    </div>\n                  </div>\n                </Card>\n\n                {/* Cash Flow Summary */}\n                <Card className=\"bg-gray-800 border-gray-700 p-6\">\n                  <h3 className=\"text-lg font-semibold mb-4 flex items-center\">\n                    <Icon name=\"DollarSign\" className=\"w-5 h-5 mr-2 text-blue-400\" />\n                    Cash Flow Summary\n                  </h3>\n\n                  <div className=\"space-y-2\">\n                    {result.years?.map((year, index) => (\n                      <div key={year} className=\"flex justify-between items-center text-sm\">\n                        <span className=\"text-gray-400\">Year {year} FCF:</span>\n                        <span className=\"font-mono\">\n                          {formatCurrency(result.freeCashFlows[index], 1)}\n                        </span>\n                      </div>\n                    ))}\n\n                    <div className=\"border-t border-gray-700 pt-2 mt-3\">\n                      <div className=\"flex justify-between items-center text-sm font-semibold\">\n                        <span className=\"text-gray-300\">PV of FCFs:</span>\n                        <span>{formatCurrency(result.cumulativePV, 1)}</span>\n                      </div>\n                    </div>\n                  </div>\n                </Card>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LivingModelDCF;\n","import React, { useState } from 'react';\n\nimport AnalysisCanvas from '../AnalysisCanvas/AnalysisCanvas';\nimport Icon from '../AppIcon';\nimport SEOHead from '../SEO/SEOHead';\nimport Button from '../ui/Button';\nimport { Card } from '../ui/Card';\n\nimport EnhancedDCFTool from './EnhancedDCFTool';\nimport LivingModelDCF from './LivingModelDCF';\n\n\nconst ValuationTool = () => {\n  const [activeView, setActiveView] = useState('overview'); // 'overview', 'dcf', 'living-dcf', 'lbo', 'comp', 'canvas'\n\n  if (activeView === 'dcf') {\n    return <EnhancedDCFTool onBack={() => setActiveView('overview')} />;\n  }\n\n  if (activeView === 'living-dcf') {\n    return <LivingModelDCF onBack={() => setActiveView('overview')} />;\n  }\n\n  if (activeView === 'canvas') {\n    return <AnalysisCanvas />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white p-6\">\n      <SEOHead\n        title=\"Valuation Tool | FinanceAnalyst Pro\"\n        description=\"Professional DCF analysis, LBO modeling, and comparative valuation tools for investment professionals and analysts.\"\n        canonical=\"/valuation-tool\"\n        keywords=\"valuation tool, DCF analysis, LBO model, comparable company analysis, investment valuation, financial analysis\"\n      />\n      <div className=\"max-w-6xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold mb-2\">Valuation Tool</h1>\n          <p className=\"text-gray-400\">\n            Professional valuation models and analysis tools\n          </p>\n        </div>\n\n        {/* Featured Living Model */}\n        <div className=\"mb-8\">\n          <Card className=\"bg-gradient-to-r from-emerald-900 to-teal-900 border-emerald-700\">\n            <div className=\"p-8\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"flex items-center mb-4\">\n                    <Icon name=\"Zap\" className=\"w-10 h-10 text-emerald-300 mr-4\" />\n                    <h2 className=\"text-2xl font-bold text-white\">The Living Model</h2>\n                    <div className=\"ml-3 px-2 py-1 bg-emerald-600 text-emerald-100 text-xs font-semibold rounded-full\">\n                      NEW\n                    </div>\n                  </div>\n                  <p className=\"text-emerald-100 mb-6 text-lg leading-relaxed\">\n                    Experience financial modeling transformed. Real-time data integration, instantaneous calculations, and fluid time period adjustments create a living, breathing analysis that evolves with every input change.\n                  </p>\n                  <div className=\"flex flex-wrap gap-3 mb-6\">\n                    <span className=\"px-3 py-1 bg-emerald-800/50 text-emerald-200 rounded-full text-sm\">\n                      Real-Time Data Feeds\n                    </span>\n                    <span className=\"px-3 py-1 bg-emerald-800/50 text-emerald-200 rounded-full text-sm\">\n                      Instantaneous Calculations\n                    </span>\n                    <span className=\"px-3 py-1 bg-emerald-800/50 text-emerald-200 rounded-full text-sm\">\n                      Dynamic Time Periods\n                    </span>\n                    <span className=\"px-3 py-1 bg-emerald-800/50 text-emerald-200 rounded-full text-sm\">\n                      No &quot;Run&quot; Button\n                    </span>\n                  </div>\n                  <Button\n                    className=\"bg-white text-emerald-900 hover:bg-emerald-50 font-semibold px-8 py-3\"\n                    onClick={() => setActiveView('living-dcf')}\n                  >\n                    Experience The Living Model\n                  </Button>\n                </div>\n                <div className=\"hidden lg:block\">\n                  <div className=\"w-32 h-32 bg-emerald-800/30 rounded-2xl flex items-center justify-center relative\">\n                    <Icon name=\"Activity\" className=\"w-16 h-16 text-emerald-300\" />\n                    <div className=\"absolute inset-0 rounded-2xl bg-emerald-400/20 animate-pulse\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Card>\n        </div>\n\n        {/* Featured Analysis Canvas */}\n        <div className=\"mb-8\">\n          <Card className=\"bg-gradient-to-r from-blue-900 to-indigo-900 border-blue-700\">\n            <div className=\"p-8\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <div className=\"flex items-center mb-4\">\n                    <Icon name=\"Sparkles\" className=\"w-10 h-10 text-blue-300 mr-4\" />\n                    <h2 className=\"text-2xl font-bold text-white\">Analysis Canvas</h2>\n                  </div>\n                  <p className=\"text-blue-100 mb-6 text-lg leading-relaxed\">\n                    A unified workspace that reimagines financial analysis. Start with any company and seamlessly flow between DCF modeling, comparable analysis, and scenario planning—all in one integrated environment.\n                  </p>\n                  <div className=\"flex flex-wrap gap-3 mb-6\">\n                    <span className=\"px-3 py-1 bg-blue-800/50 text-blue-200 rounded-full text-sm\">\n                      Company-Centric Workflow\n                    </span>\n                    <span className=\"px-3 py-1 bg-blue-800/50 text-blue-200 rounded-full text-sm\">\n                      Intelligent Defaults\n                    </span>\n                    <span className=\"px-3 py-1 bg-blue-800/50 text-blue-200 rounded-full text-sm\">\n                      Interactive Analysis\n                    </span>\n                    <span className=\"px-3 py-1 bg-blue-800/50 text-blue-200 rounded-full text-sm\">\n                      Minimal Design\n                    </span>\n                  </div>\n                  <Button\n                    className=\"bg-white text-blue-900 hover:bg-blue-50 font-semibold px-8 py-3\"\n                    onClick={() => setActiveView('canvas')}\n                  >\n                    Enter Analysis Canvas\n                  </Button>\n                </div>\n                <div className=\"hidden lg:block\">\n                  <div className=\"w-32 h-32 bg-blue-800/30 rounded-2xl flex items-center justify-center\">\n                    <Icon name=\"BarChart3\" className=\"w-16 h-16 text-blue-300\" />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          <Card className=\"bg-gray-800 border-gray-700 relative overflow-hidden\">\n            <div className=\"absolute top-0 right-0 w-20 h-20 bg-emerald-500/10 rounded-full -translate-y-10 translate-x-10\" />\n            <div className=\"p-6 relative\">\n              <div className=\"flex items-center mb-4\">\n                <Icon name=\"Zap\" className=\"w-8 h-8 text-emerald-400 mr-3\" />\n                <h3 className=\"text-xl font-semibold\">Living Model DCF</h3>\n                <div className=\"ml-2 px-2 py-1 bg-emerald-600 text-emerald-100 text-xs font-semibold rounded-full\">\n                  NEW\n                </div>\n              </div>\n              <p className=\"text-gray-400 mb-4\">\n                Real-time, reactive DCF modeling with live data feeds and instantaneous calculations. No more &quot;run&quot; buttons—watch your model come alive.\n              </p>\n              <Button\n                className=\"w-full bg-emerald-600 hover:bg-emerald-700\"\n                onClick={() => setActiveView('living-dcf')}\n              >\n                Experience The Living Model\n              </Button>\n            </div>\n          </Card>\n\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center mb-4\">\n                <Icon name=\"TrendingUp\" className=\"w-8 h-8 text-blue-400 mr-3\" />\n                <h3 className=\"text-xl font-semibold\">Enhanced DCF Analysis</h3>\n              </div>\n              <p className=\"text-gray-400 mb-4\">\n                Professional DCF modeling with year-by-year projections, sensitivity analysis, and detailed financial statements\n              </p>\n              <Button\n                className=\"w-full\"\n                onClick={() => setActiveView('dcf')}\n              >\n                Launch Enhanced DCF Tool\n              </Button>\n            </div>\n          </Card>\n\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center mb-4\">\n                <Icon name=\"BarChart3\" className=\"w-8 h-8 text-green-400 mr-3\" />\n                <h3 className=\"text-xl font-semibold\">Comparable Analysis</h3>\n              </div>\n              <p className=\"text-gray-400 mb-4\">\n                Peer comparison and relative valuation metrics\n              </p>\n              <Button className=\"w-full\" disabled>\n                Coming Soon\n              </Button>\n            </div>\n          </Card>\n\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center mb-4\">\n                <Icon name=\"Calculator\" className=\"w-8 h-8 text-purple-400 mr-3\" />\n                <h3 className=\"text-xl font-semibold\">LBO Analysis</h3>\n              </div>\n              <p className=\"text-gray-400 mb-4\">\n                Leveraged buyout modeling and returns analysis\n              </p>\n              <Button className=\"w-full\" disabled>\n                Coming Soon\n              </Button>\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"mt-8\">\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <div className=\"p-6\">\n              <h3 className=\"text-xl font-semibold mb-4\">Enhanced DCF Features</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h4 className=\"font-semibold text-blue-400 mb-2\">Year-by-Year Modeling</h4>\n                  <ul className=\"text-gray-400 text-sm space-y-1\">\n                    <li>• Individual assumptions for each projection year</li>\n                    <li>• Revenue growth, margins, tax rates, and capex</li>\n                    <li>• Working capital and D&A projections</li>\n                  </ul>\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-green-400 mb-2\">Professional Calculations</h4>\n                  <ul className=\"text-gray-400 text-sm space-y-1\">\n                    <li>• Proper Unlevered Free Cash Flow calculation</li>\n                    <li>• Enterprise to Equity value bridge</li>\n                    <li>• Balance sheet integration</li>\n                  </ul>\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-purple-400 mb-2\">Advanced Analytics</h4>\n                  <ul className=\"text-gray-400 text-sm space-y-1\">\n                    <li>• WACC and terminal growth sensitivity analysis</li>\n                    <li>• Interactive projection tables</li>\n                    <li>• Cash flow visualization charts</li>\n                  </ul>\n                </div>\n                <div>\n                  <h4 className=\"font-semibold text-orange-400 mb-2\">User Experience</h4>\n                  <ul className=\"text-gray-400 text-sm space-y-1\">\n                    <li>• Simple and detailed input modes</li>\n                    <li>• Real-time calculation updates</li>\n                    <li>• Export capabilities</li>\n                  </ul>\n                </div>\n              </div>\n              <div className=\"mt-6\">\n                <Button\n                  className=\"bg-blue-600 hover:bg-blue-700\"\n                  onClick={() => setActiveView('dcf')}\n                >\n                  Try Enhanced DCF Tool\n                </Button>\n              </div>\n            </div>\n          </Card>\n        </div>\n\n        <div className=\"mt-8\">\n          <Card className=\"bg-gray-800 border-gray-700\">\n            <div className=\"p-6\">\n              <h3 className=\"text-xl font-semibold mb-4\">Quick Access Terminal</h3>\n              <p className=\"text-gray-400 mb-4\">\n                Use the enhanced terminal interface for advanced valuation commands:\n              </p>\n              <div className=\"bg-gray-900 rounded-lg p-4 font-mono text-sm\">\n                <div className=\"text-green-400\">$ DCF(AAPL)</div>\n                <div className=\"text-green-400\">$ LBO(TSLA)</div>\n                <div className=\"text-green-400\">$ COMP(MSFT)</div>\n                <div className=\"text-green-400\">$ HELP(&quot;VALUATION&quot;)</div>\n              </div>\n              <div className=\"mt-4\">\n                <Button disabled>\n                  Terminal Interface - Coming Soon\n                </Button>\n              </div>\n            </div>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ValuationTool;\n"],"names":["AnalysisModule","moduleId","companyData","_companyData","inputs","results","onInputChange","onFocus","onRemove","isCompact","isFullscreen","_activeInputTab","_setActiveInputTab","useState","chartData","useMemo","freeCashFlows","years","map","year","index","fcf","pv","presentValues","config","dcf","name","icon","Calculator","color","description","comparables","BarChart3","lbo","Target","Icon","InteractiveSlider","label","value","min","max","step","suffix","onChange","jsxs","className","children","jsx","toFixed","type","e","parseFloat","target","style","background","motion","div","layout","handleInputChange","field","handleYearlyInputChange","updatedYearlyData","yearlyData","onClick","Maximize2","X","terminalGrowthRate","discountRate","enterpriseValue","impliedSharePrice","length","ResponsiveContainer","width","height","LineChart","data","Line","dataKey","stroke","strokeWidth","dot","XAxis","tick","fontSize","YAxis","Tooltip","formatter","labelStyle","currentRevenue","projectionYears","revenueGrowth","ebitdaMargin","DollarSign","TrendingUp","equityValue","Percent","Calendar","CartesianGrid","strokeDasharray","axisLine","tickLine","fill","tickFormatter","contentStyle","backgroundColor","border","borderRadius","r","renderDCFContent","renderModuleContent","CompanyOverview","company","compact","formatCurrency","financials","revenue","latest","previous","calculateGrowth","initial","opacity","y","animate","Building2","sector","price","changePercent","ticker","marketCap","change","slice","activeDot","CompanySelector","onCompanySelect","searchTerm","setSearchTerm","suggestions","setSuggestions","isSearching","setIsSearching","mockCompanies","id","useEffect","timer","setTimeout","filtered","filter","toLowerCase","includes","clearTimeout","handleCompanySelect","Search","placeholder","AnimatePresence","exit","button","whileHover","transition","delay","scale","whileTap","springConfig","stiffness","damping","AnalysisCanvas","selectedCompany","setSelectedCompany","activeModules","setActiveModules","canvasMode","setCanvasMode","focusedModule","setFocusedModule","_setCompanyData","profile","marketData","consensus","analysisInputs","setAnalysisInputs","balanceSheet","analysisResults","setAnalysisResults","availableModules","isPrimary","useCallback","async","latestRevenue","growthRates","calculateHistoricalGrowthRates","prev","generateIntelligentDefaults","revenueData","i","growth","push","historicalGrowth","avgGrowth","reduce","a","b","sectorDefaults","getSectorDefaults","yearGrowth","Math","terminalGrowth","taxRate","capexPercent","daPercent","workingCapitalChange","defaults","Technology","Healthcare","default","removeModule","updateAnalysisInputs","newInputs","calculateEnhancedDCF","canvasVariants","overview","analysis","focused","Minimize2","size","variants","mode","ChevronRight","find","m","focusModule","module","addModule","DCFInputs","setInputs","viewMode","setViewMode","handleChange","handleYearlyChange","handleBalanceSheetChange","initialYearlyData","revenueGrowthRate","workingCapitalPercent","cash","totalDebt","sharesOutstanding","htmlFor","Array","from","_","renderDetailedView","EnhancedDCFTool","onBack","setResults","sensitivityResults","setSensitivityResults","activeTab","setActiveTab","loading","setLoading","calculateDCF","dcfResults","sensitivity","calculateSensitivityAnalysis","error","Intl","NumberFormat","currency","minimumFractionDigits","maximumFractionDigits","format","formatPercent","tabs","AlertCircle","ArrowLeft","tab","Fragment","presentValueTerminal","projectionTable","row","ebitda","ebit","nopat","capex","deltaWorkingCapital","freeCashFlow","cumulativePV","netDebt","presentValue","notation","Legend","matrix","waccRange","terminalGrowthRange","rate","rowIndex","cell","cellIndex","isBaseCase","floor","sharePrice","renderSensitivityTable","Download","DynamicTimePeriodControl","initialYears","minYears","maxYears","onYearsChange","setYears","isDragging","setIsDragging","dragStartX","setDragStartX","dragStartYears","setDragStartYears","handleYearsChange","newYears","clampedYears","round","handleMouseDown","preventDefault","clientX","document","body","cursor","handleMouseMove","deltaX","handleMouseUp","addEventListener","removeEventListener","Card","left","onMouseDown","role","tabIndex","onKeyDown","key","markers","percentage","getTimelineMarkers","parseInt","quickYears","realTimeDataService","subscribe","_symbol","_callback","unsubscribe","getCurrentPrice","Promise","resolve","LivingModelDCF","symbol","modelId","Date","now","result","setResult","isLoading","setIsLoading","setError","realTimeData","setRealTimeData","lastUpdateTime","setLastUpdateTime","modelRef","useRef","trackRealTime","model","callback","reactiveCalculationEngine","newResult","calcError","current","addDependency","destroy","subscriptions","dataType","subscribeMultiple","updateInput","path","updated","keys","split","updateYearlyData","handleProjectionYearsChange","Object","prevYear","pop","forEach","toggleRealTimeTracking","newValue","decimals","absValue","abs","getRealTimeIndicator","yield","volatility","Button","toLocaleTimeString","Input","toUpperCase","message","terminalValue","ValuationTool","activeView","setActiveView","SEOHead","title","canonical","keywords","disabled"],"mappings":"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"}