const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-D2fsnhsW.js","assets/react-core-CeHLCIBw.js","assets/ai-vendor-CuiosWbE.js","assets/ui-vendor-B5RWaOCb.js","assets/advanced-analytics-y00dU25g.js","assets/utils-vendor-DUg4_aAP.js","assets/recharts-vendor-DQPXk1vH.js","assets/d3-vendor-DOBQrAlH.js","assets/react-dom-B6lyId6m.js","assets/ai-vendor-DgNaS5_R.css"])))=>i.map(i=>d[i]);
import{_ as e}from"./index-DdNfTkp9.js";import"./react-core-CeHLCIBw.js";import"./vendor-D2fsnhsW.js";import"./ai-vendor-CuiosWbE.js";import"./ui-vendor-B5RWaOCb.js";import"./advanced-analytics-y00dU25g.js";import"./utils-vendor-DUg4_aAP.js";import"./recharts-vendor-DQPXk1vH.js";import"./d3-vendor-DOBQrAlH.js";import"./react-dom-B6lyId6m.js";import"./data-vendor-vzM7rUwp.js";import"./react-router-D-l5j9EF.js";import"./state-vendor-ClT9_nJX.js";const t=new class{constructor(){this.isProduction=!1,this.enableAnalytics=!0,this.enableErrorReporting=!0,this.enablePerformanceMonitoring=!0,this.gaTrackingId=null,this.hotjarLoaded=!1,this.isInitialized=!1,this.detectAutomatedEnvironment()||this.initializeMonitoring()}detectAutomatedEnvironment(){try{return"undefined"!=typeof navigator&&!0===navigator.webdriver||"undefined"!=typeof window&&window.location&&new URLSearchParams(window.location.search).has("lhci")||"undefined"!=typeof window&&window.location&&new URLSearchParams(window.location.search).has("ci")||"undefined"!=typeof window&&window.location&&new URLSearchParams(window.location.search).has("audit")}catch{return!1}}initializeMonitoring(){if(!this.isInitialized)try{this.enableErrorReporting&&this.initializeSentry(),this.enableAnalytics&&(this.initializeGoogleAnalytics(),this.initializeHotjar()),this.enablePerformanceMonitoring&&this.initializePerformanceMonitoring(),this.setupGlobalErrorHandlers(),this.isInitialized=!0}catch(e){}}initializeSentry(){e(()=>import("./monitoring-vendor-IRWhQ566.js"),[]).then(async e=>{e.init({dsn:"your_sentry_dsn_here",environment:"development",release:"1.0.0",integrations:[],tracesSampleRate:this.isProduction?.1:1,beforeSend:e=>this.isProduction&&"warning"===e.level?null:e}),e.configureScope(e=>{e.setTag("component","financeanalyst-pro"),e.setContext("app",{version:"1.0.0",environment:"development"})}),window.Sentry=e}).catch(console.warn)}initializeGoogleAnalytics(){const e="your_google_analytics_id_here",t=document.createElement("script");function n(){window.dataLayer.push(arguments)}t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=n,n("js",new Date),n("config",e,{page_title:document.title,page_location:window.location.href}),this.gaTrackingId=e}initializeHotjar(){var e,t,n,i;e=window,t=document,e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:"your_hotjar_id_here",hjsv:6},n=t.getElementsByTagName("head")[0],(i=t.createElement("script")).async=1,i.src="https://static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,n.appendChild(i),this.hotjarLoaded=!0}initializePerformanceMonitoring(){this.monitorCoreWebVitals(),this.monitorCustomMetrics(),this.monitorResourceLoading()}monitorCoreWebVitals(){e(async()=>{const{getCLS:e,getFID:t,getFCP:n,getLCP:i,getTTFB:r}=await import("./vendor-D2fsnhsW.js").then(e=>e.a8);return{getCLS:e,getFID:t,getFCP:n,getLCP:i,getTTFB:r}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])).then(({getCLS:e,getFID:t,getFCP:n,getLCP:i,getTTFB:r})=>{e(this.sendToAnalytics.bind(this)),t(this.sendToAnalytics.bind(this)),n(this.sendToAnalytics.bind(this)),i(this.sendToAnalytics.bind(this)),r(this.sendToAnalytics.bind(this))}).catch(console.warn)}monitorCustomMetrics(){this.monitorApiPerformance(),this.monitorComponentPerformance(),this.monitorMemoryUsage()}monitorApiPerformance(){const e=window.fetch;window.fetch=async(...t)=>{const n=performance.now();try{const i=await e(...t),r=performance.now();return this.trackEvent("api_performance",{url:t[0],duration:r-n,status:i.status,success:i.ok}),i}catch(i){const e=performance.now();throw this.trackEvent("api_error",{url:t[0],duration:e-n,error:i.message}),i}}}monitorComponentPerformance(){"PerformanceObserver"in window&&new PerformanceObserver(e=>{for(const t of e.getEntries())t.duration>50&&this.trackEvent("long_task",{duration:t.duration,startTime:t.startTime})}).observe({entryTypes:["longtask"]})}monitorMemoryUsage(){"memory"in performance&&setInterval(()=>{const e=performance.memory;this.trackEvent("memory_usage",{usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit})},6e4)}monitorResourceLoading(){"PerformanceObserver"in window&&new PerformanceObserver(e=>{for(const t of e.getEntries())t.transferSize>1e6&&this.trackEvent("large_resource",{name:t.name,size:t.transferSize,duration:t.duration})}).observe({entryTypes:["resource"]})}setupGlobalErrorHandlers(){window.addEventListener("unhandledrejection",e=>{this.trackError(e.reason,"unhandled_promise_rejection")}),window.addEventListener("error",e=>{this.trackError(e.error,"javascript_error",{filename:e.filename,lineno:e.lineno,colno:e.colno})}),window.addEventListener("error",e=>{e.target!==window&&this.trackError(new Error(`Resource failed to load: ${e.target.src||e.target.href}`),"resource_error")},!0)}trackEvent(e,t={}){this.enableAnalytics&&(window.gtag&&window.gtag("event",e,t),this.sendToCustomAnalytics(e,t))}trackError(e,t="error",n={}){this.enableErrorReporting&&(window.Sentry&&window.Sentry.captureException(e,{tags:{category:t},extra:n}),this.trackEvent("error_occurred",{category:t,message:e.message,stack:e.stack,...n}))}sendToAnalytics(e){this.trackEvent("web_vital",{name:e.name,value:e.value,rating:e.rating})}sendToCustomAnalytics(e,t){this.isProduction&&fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:e,properties:{...t,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href}})}).catch(()=>{})}trackPageView(e,t={}){window.gtag&&this.gaTrackingId&&window.gtag("config",this.gaTrackingId,{page_title:document.title,page_path:e,page_location:window.location.href}),"function"==typeof window.hj&&window.hj("stateChange",e),this.trackEvent("page_view",{page:e,title:document.title,url:window.location.href,...t})}trackUserInteraction(e,t,n={}){this.trackEvent("user_interaction",{action:e,element:t,...n})}};export{t as default};
//# sourceMappingURL=monitoring-C8Ng3aqr.js.map
