const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FinancialSpreadsheet-CpCbg_om.js","assets/react-core-CeHLCIBw.js","assets/vendor-D2fsnhsW.js","assets/ai-vendor-CuiosWbE.js","assets/ui-vendor-B5RWaOCb.js","assets/advanced-analytics-y00dU25g.js","assets/utils-vendor-DUg4_aAP.js","assets/recharts-vendor-DQPXk1vH.js","assets/d3-vendor-DOBQrAlH.js","assets/react-dom-B6lyId6m.js","assets/ai-vendor-DgNaS5_R.css","assets/index-DdNfTkp9.js","assets/data-vendor-vzM7rUwp.js","assets/react-router-D-l5j9EF.js","assets/state-vendor-ClT9_nJX.js","assets/index-BavwsuMT.css","assets/ModelingTools-0jJnWWif.js","assets/monteCarloEngine-VpQcTKma.js","assets/apiLogger-D987Un6Q.js","assets/AnalysisResults-Ch2vhLfz.js","assets/AdvancedLBOTool-kQj5FNC6.js","assets/lboModelingEngine-BU3g5hW3.js","assets/FinancialModelWorkspace-CkDC5-_w.js","assets/EnhancedScenarioAnalysis-CliW5f3Q.js","assets/EnhancedMarketDataDashboard-DwHJTGkw.js","assets/MonteCarloIntegrationHub-CBx9oRQ-.js","assets/DataExportImport-PGHTArLf.js","assets/ContextualInsightsSidebar-apLclGis.js"])))=>i.map(i=>d[i]);
import{h as e,i as t,j as s,k as a,l as n,m as r,a as i,b as o,_ as l}from"./index-DdNfTkp9.js";import{j as c,a5 as d,X as h,l as m,a2 as u,m as p,a4 as x,a7 as f,R as g,T as y,a as b,H as w,a8 as E,r as v,a9 as j,aa as I,v as _,ab as k,C as N,ac as S,y as C,F as A,x as T}from"./react-core-CeHLCIBw.js";import{B as R,c as L}from"./advanced-analytics-y00dU25g.js";import{r as P}from"./react-dom-B6lyId6m.js";import{H as D}from"./Header-BJUfWj4Q.js";import{S as O}from"./SEOHead-B2_EtFOU.js";import{S as V}from"./SecondaryNav-8trPr0SB.js";import{d as M}from"./defaultFinancialData-CL3DkgK1.js";import{X as U}from"./vendor-D2fsnhsW.js";import{b as B}from"./dcfCalculations-gqpk9y-a.js";import{b as W}from"./ui-vendor-B5RWaOCb.js";import"./data-vendor-vzM7rUwp.js";import"./react-router-D-l5j9EF.js";import"./state-vendor-ClT9_nJX.js";import"./ai-vendor-CuiosWbE.js";import"./utils-vendor-DUg4_aAP.js";import"./recharts-vendor-DQPXk1vH.js";import"./d3-vendor-DOBQrAlH.js";import"./businessIntelligenceService-sNUkhNJh.js";const F={dcf:{title:"Discounted Cash Flow (DCF) Analysis",description:"Estimates company value by projecting future cash flows and discounting them to present value.",keyPoints:["Projects free cash flows for 5-10 years","Calculates terminal value for perpetual growth","Uses weighted average cost of capital (WACC) as discount rate","Highly sensitive to growth and discount rate assumptions"],formulas:["FCF = EBIT(1-Tax Rate) + Depreciation - CapEx - Working Capital Change","Terminal Value = FCF × (1+g) / (WACC - g)","Enterprise Value = Σ(FCF/(1+WACC)^t) + Terminal Value/(1+WACC)^n"],tips:["Use conservative growth rates for terminal value (2-4%)","Validate WACC calculation with industry benchmarks","Perform sensitivity analysis on key assumptions","Cross-reference with comparable company multiples"]},lbo:{title:"Leveraged Buyout (LBO) Analysis",description:"Models acquisition using significant debt financing to achieve target returns.",keyPoints:["High debt-to-equity ratio (60-90% debt typical)","Focus on debt paydown and equity value creation","Requires strong, predictable cash flows","Exit typically through sale or IPO after 3-7 years"],formulas:["Equity IRR = (Exit Equity Value / Initial Equity Investment)^(1/years) - 1","Debt Service Coverage = EBITDA / (Interest + Principal Payments)","Exit Multiple = Exit Enterprise Value / Exit EBITDA"],tips:["Model different debt structures and covenants","Include management fees and transaction costs","Test downside scenarios for covenant compliance","Consider operational improvements in projections"]},wacc:{title:"Weighted Average Cost of Capital (WACC)",description:"Blended cost of debt and equity financing used as discount rate in valuations.",keyPoints:["Reflects risk and capital structure of the business","Used as discount rate in DCF analysis","Lower WACC increases company valuation","Varies by industry and company size"],formulas:["WACC = (E/V × Re) + (D/V × Rd × (1-Tax Rate))","Cost of Equity (Re) = Risk-free Rate + Beta × Market Risk Premium","After-tax Cost of Debt = Pre-tax Rate × (1-Tax Rate)"],tips:["Use market values, not book values, for weights","Consider company-specific risk factors","Review beta calculation methodology","Update regularly as market conditions change"]},ratios:{title:"Financial Ratio Analysis",description:"Key metrics for evaluating financial performance, efficiency, and risk.",keyPoints:["Liquidity ratios measure short-term obligations","Leverage ratios assess debt and financial risk","Profitability ratios evaluate operational efficiency","Valuation ratios compare market vs. intrinsic value"],formulas:["Current Ratio = Current Assets / Current Liabilities","Debt-to-Equity = Total Debt / Total Equity","ROE = Net Income / Shareholders Equity","P/E Ratio = Price per Share / Earnings per Share"],tips:["Compare ratios to industry benchmarks","Look at trends over multiple periods","Consider seasonal business variations","Understand accounting policy impacts"]},montecarlo:{title:"Monte Carlo Simulation",description:"Uses random sampling to model uncertainty in financial projections.",keyPoints:["Tests thousands of scenarios with variable inputs","Provides probability distributions of outcomes","Helps quantify risks and uncertainties","Useful for complex models with multiple variables"],formulas:["Confidence Interval = Percentile(results, confidence_level)","Value at Risk = Percentile(results, risk_level)","Expected Value = Mean(simulation_results)"],tips:["Define realistic ranges for input variables","Use appropriate probability distributions","Run sufficient iterations (10,000+) for stability","Validate results against historical data"]}},z=({helpKey:e,isOpen:t,onClose:s})=>{const a=F[e];return a&&t?P.createPortal(c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(d,{className:"w-6 h-6 text-blue-600"}),c.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:a.title})]}),c.jsx("button",{onClick:s,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-lg",children:c.jsx(h,{className:"w-5 h-5"})})]}),c.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{children:c.jsx("p",{className:"text-slate-700 leading-relaxed",children:a.description})}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-900 mb-3 flex items-center",children:[c.jsx(m,{className:"w-5 h-5 mr-2 text-green-600"}),"Key Points"]}),c.jsx("ul",{className:"space-y-2",children:a.keyPoints.map((e,t)=>c.jsxs("li",{className:"flex items-start space-x-2",children:[c.jsx(u,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-slate-700",children:e})]},t))})]}),a.formulas&&c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-900 mb-3 flex items-center",children:[c.jsx(p,{className:"w-5 h-5 mr-2 text-purple-600"}),"Key Formulas"]}),c.jsx("div",{className:"space-y-2",children:a.formulas.map((e,t)=>c.jsx("div",{className:"bg-slate-100 p-3 rounded-lg",children:c.jsx("code",{className:"text-sm text-slate-800 font-mono",children:e})},t))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-medium text-slate-900 mb-3 flex items-center",children:[c.jsx(x,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Best Practices"]}),c.jsx("ul",{className:"space-y-2",children:a.tips.map((e,t)=>c.jsxs("li",{className:"flex items-start space-x-2",children:[c.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),c.jsx("span",{className:"text-slate-700",children:e})]},t))})]}),c.jsx("div",{className:"border-t border-slate-200 pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-slate-600",children:"Need more help?"}),c.jsxs("a",{href:"mailto:support@financeanalystpro.com",className:"text-sm text-blue-600 hover:text-blue-800 flex items-center space-x-1",children:[c.jsx("span",{children:"Contact Support"}),c.jsx(f,{className:"w-3 h-3"})]})]})})]})})]})}),document.body):null};class $ extends g.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:0}}static getDerivedStateFromError(e){return{hasError:!0,errorId:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),this.logErrorToService(e,t)}logErrorToService=(e,t)=>{const s={message:e.message,stack:e.stack,componentStack:t.componentStack,errorId:this.state.errorId,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,userId:this.props.userId||"anonymous"};try{fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).catch(()=>{})}catch(a){}};handleRetry=()=>{this.setState(e=>({hasError:!1,error:null,errorInfo:null,errorId:null,retryCount:e.retryCount+1}))};handleReportError=()=>{const{error:e,errorInfo:t,errorId:s}=this.state;(new Date).toISOString();const a=encodeURIComponent(`FinanceAnalyst Pro Error Report - ${s}`),n=encodeURIComponent(`Error Details:\n\nError ID: ${s}\nMessage: ${e?.message}\nTimestamp: ${(new Date).toISOString()}\nURL: ${window.location.href}\n\nTechnical Details:\n${e?.stack}\n\nComponent Stack:\n${t?.componentStack}`);window.open(`mailto:support@financeanalystpro.com?subject=${a}&body=${n}`)};render(){if(this.state.hasError){const{fallback:e,variant:t="default"}=this.props,{error:s,errorId:a,retryCount:n}=this.state;if(e){if(g.isValidElement(e))return e;if("function"==typeof e)return c.jsx(e,{error:s,retry:this.handleRetry})}const r=s?.message?.includes("fetch")||s?.message?.includes("network"),i=s?.message?.includes("Cannot read")||s?.message?.includes("undefined"),o=n>2;return"minimal"===t?c.jsxs("div",{className:"flex items-center justify-center p-4 bg-red-50 border border-red-200 rounded-lg",children:[c.jsx(y,{className:"w-5 h-5 text-red-600 mr-2"}),c.jsx("span",{className:"text-red-800 text-sm",children:"Something went wrong"}),c.jsx(R,{variant:"ghost",size:"sm",onClick:this.handleRetry,className:"ml-3 text-red-700 hover:text-red-900",children:c.jsx(b,{className:"w-4 h-4"})})]}):"inline"===t?c.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400 rounded-r-lg",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx(y,{className:"w-5 h-5 text-red-600 mt-0.5 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-sm font-medium text-red-800 mb-1",children:"Unable to load this section"}),c.jsx("p",{className:"text-sm text-red-700 mb-2",children:r?"Check your internet connection and try again.":i?"There was an issue with the data format.":"An unexpected error occurred."}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs(R,{variant:"outline",size:"sm",onClick:this.handleRetry,className:"text-red-700 border-red-300 hover:bg-red-100",children:[c.jsx(b,{className:"w-3 h-3 mr-1"}),"Try Again"]})})]})]})}):c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg border border-slate-200 p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(y,{className:"w-8 h-8 text-red-600"})}),c.jsx("h1",{className:"text-xl font-semibold text-slate-900 mb-2",children:o?"Application Error":"Something went wrong"}),c.jsx("p",{className:"text-slate-600 mb-6",children:o?"The application encountered a critical error. Please refresh the page or contact support.":r?"Unable to connect to our servers. Please check your internet connection and try again.":i?"There was an issue processing the data. This might be a temporary problem.":"An unexpected error occurred. Our team has been notified and is working on a fix."}),a&&c.jsxs("div",{className:"bg-slate-100 rounded-lg p-3 mb-6 text-left",children:[c.jsx("div",{className:"text-xs font-mono text-slate-500 mb-1",children:"Error ID (for support):"}),c.jsx("div",{className:"text-sm font-mono text-slate-700 break-all",children:a})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[!o&&c.jsxs(R,{onClick:this.handleRetry,className:"flex items-center justify-center",variant:"primary",children:[c.jsx(b,{className:"w-4 h-4 mr-2"}),"Try Again"]}),c.jsxs(R,{onClick:()=>window.location.href="/",variant:"outline",className:"flex items-center justify-center",children:[c.jsx(w,{className:"w-4 h-4 mr-2"}),"Go Home"]}),c.jsxs(R,{onClick:this.handleReportError,variant:"ghost",className:"flex items-center justify-center text-slate-600 hover:text-slate-800",children:[c.jsx(E,{className:"w-4 h-4 mr-2"}),"Report Issue"]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-slate-200 text-sm text-slate-500",children:c.jsxs("p",{children:["Need immediate help?"," ",c.jsxs("a",{href:"mailto:support@financeanalystpro.com",className:"text-blue-600 hover:text-blue-800 inline-flex items-center",children:["Contact Support",c.jsx(f,{className:"w-3 h-3 ml-1"})]})]})}),!1]})})}return this.props.children}}const G=({className:e,animate:t=!0,variant:s="default",...a})=>c.jsx("div",{className:L("bg-slate-200 rounded",t&&"animate-pulse","text"===s&&"h-4","button"===s&&"h-10","avatar"===s&&"h-12 w-12 rounded-full","card"===s&&"h-48",e),...a}),K=({rows:e=8,columns:t=5,showHeader:s=!0,className:a})=>c.jsxs("div",{className:L("space-y-3",a),children:[s&&c.jsx("div",{className:"flex items-center space-x-4 p-4 bg-slate-50 rounded-lg",children:Array.from({length:t}).map((e,t)=>c.jsx(G,{className:"h-4 flex-1",variant:"text"},`header-${t}`))}),c.jsx("div",{className:"space-y-2",children:Array.from({length:e}).map((e,s)=>c.jsx("div",{className:"flex items-center space-x-4 p-4 border border-slate-200 rounded-lg",children:Array.from({length:t}).map((e,a)=>c.jsx(G,{className:L("h-4",0===a?"flex-2":"flex-1",a>0&&a<t-1&&"w-20")},`cell-${s}-${a}`))},`row-${s}`))})]}),q=({isLoading:e,skeleton:t,children:s,className:a,fallback:n=null})=>e?c.jsx("div",{className:L("animate-pulse",a),children:t||n}):s,H={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_ADSENSE_ID:"your-adsense-id-here",VITE_ALPHA_VANTAGE_API_KEY:"your_staging_alpha_vantage_api_key_here",VITE_ALPHA_VANTAGE_BASE_URL:"https://www.alphavantage.co/query",VITE_ANTHROPIC_API_KEY:"your-anthropic-api-key-here",VITE_API_BASE_URL:"https://financeanalyst-pro-backend.onrender.com/api",VITE_APP_ENV:"development",VITE_APP_URL:"https://financeanalyst.pro",VITE_APP_VERSION:"1.0.0",VITE_ASSETS_BASE_URL:"/assets/",VITE_BACKUP_ENABLED:"true",VITE_CACHE_ENABLED:"true",VITE_CACHE_TTL:"300000",VITE_CDN_URL:"https://cdn.yourapp.com",VITE_COLLAB_WS_MOCK:"true",VITE_COOKIE_CONSENT_ENABLED:"true",VITE_CORE_WEB_VITALS_TRACKING:"true",VITE_DEBUG:"true",VITE_DEFAULT_TICKER:"AAPL",VITE_ENABLE_ADVANCED_FEATURES:"true",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_BETA_FEATURES:"false",VITE_ENABLE_COLLABORATION:"false",VITE_ENABLE_DEBUG_MODE:"false",VITE_ENABLE_ERROR_REPORTING:"true",VITE_ENABLE_TEST_DATA:"true",VITE_FMP_API_KEY:"your_staging_fmp_api_key_here",VITE_FMP_BASE_URL:"https://financialmodelingprep.com/api/v3",VITE_FORCE_DEMO_MODE:"false",VITE_GA_TRACKING_ID:"your_google_analytics_id_here",VITE_GEMINI_API_KEY:"your-gemini-api-key-here",VITE_GOOGLE_ANALYTICS_ID:"your-google-analytics-id-here",VITE_HOTJAR_ID:"your_hotjar_id_here",VITE_LIGHTHOUSE_CI:"true",VITE_MAX_REQUESTS_PER_MINUTE:"60",VITE_MOCK_API_RESPONSES:"false",VITE_OPENAI_API_KEY:"your-openai-api-key-here",VITE_PERFORMANCE_MONITORING:"true",VITE_PERPLEXITY_API_KEY:"your-perplexity-api-key-here",VITE_POLYGON_API_KEY:"your_staging_polygon_api_key_here",VITE_POLYGON_BASE_URL:"https://api.polygon.io/v2",VITE_PRIVACY_POLICY_URL:"https://financeanalyst.pro/privacy",VITE_RATE_LIMITING_ENABLED:"false",VITE_SENTRY_DSN:"your_sentry_dsn_here",VITE_STORAGE_BUCKET:"financeanalyst-prod-storage",VITE_STRIPE_PUBLISHABLE_KEY:"your-stripe-publishable-key-here",VITE_SUPABASE_ANON_KEY:"dummykey.updateyourkkey.here",VITE_SUPABASE_URL:"https://dummy.supabase.co",VITE_SUPPORT_URL:"https://support.financeanalyst.pro",VITE_TERMS_OF_SERVICE_URL:"https://financeanalyst.pro/terms",VITE_VERBOSE_LOGGING:"true"};class Y extends U.EventEmitter{constructor(){super(),this.workspaces=new Map,this.users=new Map,this.connections=new Map,this.annotations=new Map,this.modelStates=new Map,this.isInitialized=!1,this.wsConnection=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.heartbeatInterval=null,this.syncQueue=[],this.isOnline=navigator.onLine,this.env=void 0!==import.meta&&H?H:{},this.collabEnabled="true"===this.env.VITE_ENABLE_COLLABORATION,this.handleConnectionOpen=this.handleConnectionOpen.bind(this),this.handleConnectionMessage=this.handleConnectionMessage.bind(this),this.handleConnectionClose=this.handleConnectionClose.bind(this),this.handleConnectionError=this.handleConnectionError.bind(this),window.addEventListener("online",()=>{this.isOnline=!0,this.reconnectWebSocket()}),window.addEventListener("offline",()=>{this.isOnline=!1,this.emit("connectionStatus",{online:!1})})}async initialize(e,t={}){try{if(this.isInitialized)return;this.currentUserId=e,this.currentUserProfile={id:e,name:t.name||"Anonymous User",avatar:t.avatar||null,role:t.role||"viewer",joinedAt:(new Date).toISOString(),lastActive:(new Date).toISOString(),...t},this.users.set(e,this.currentUserProfile),this.collabEnabled&&await this.initializeWebSocket(),this.collabEnabled&&this.startHeartbeat(),this.isInitialized=!0,this.emit("initialized",{userId:e,userProfile:this.currentUserProfile})}catch(s){throw s}}async initializeWebSocket(){try{const e=this.env.VITE_COLLAB_WS_URL;let t;t=e||("undefined"!=typeof window&&window.location?`${"https:"===window.location.protocol?"wss":"ws"}://${window.location.host}/collaboration`:"ws://localhost:8080/collaboration");"true"===this.env.VITE_COLLAB_WS_MOCK||"undefined"==typeof WebSocket?(this.wsConnection={readyState:1,send:e=>{setTimeout(()=>{this.handleConnectionMessage({data:e})},100)},close:()=>{this.wsConnection.readyState=3,this.handleConnectionClose()}},this.handleConnectionOpen()):(this.wsConnection=new WebSocket(t),this.wsConnection.addEventListener("open",this.handleConnectionOpen),this.wsConnection.addEventListener("message",this.handleConnectionMessage),this.wsConnection.addEventListener("close",this.handleConnectionClose),this.wsConnection.addEventListener("error",this.handleConnectionError))}catch(e){throw e}}handleConnectionOpen(){this.reconnectAttempts=0,this.emit("connectionStatus",{online:!0,connected:!0}),this.sendMessage({type:"auth",userId:this.currentUserId,userProfile:this.currentUserProfile}),this.processSyncQueue()}handleConnectionMessage(e){try{const t="string"==typeof e.data?JSON.parse(e.data):e.data;switch(t.type){case"workspace_update":this.handleWorkspaceUpdate(t.data);break;case"user_joined":this.handleUserJoined(t.data);break;case"user_left":this.handleUserLeft(t.data);break;case"model_update":this.handleModelUpdate(t.data);break;case"annotation_added":this.handleAnnotationAdded(t.data);break;case"annotation_updated":this.handleAnnotationUpdated(t.data);break;case"annotation_deleted":this.handleAnnotationDeleted(t.data);break;case"cursor_update":this.handleCursorUpdate(t.data);break;case"presence_update":this.handlePresenceUpdate(t.data)}}catch(t){}}handleConnectionClose(){this.emit("connectionStatus",{online:this.isOnline,connected:!1}),this.isOnline&&this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>{this.reconnectWebSocket()},1e3*Math.pow(2,this.reconnectAttempts))}handleConnectionError(e){this.emit("connectionError",e)}async reconnectWebSocket(){if(!(this.reconnectAttempts>=this.maxReconnectAttempts)){this.reconnectAttempts++;try{await this.initializeWebSocket()}catch(e){}}}sendMessage(e){this.wsConnection&&1===this.wsConnection.readyState?this.wsConnection.send(JSON.stringify(e)):this.syncQueue.push(e)}processSyncQueue(){for(;this.syncQueue.length>0;){const e=this.syncQueue.shift();this.sendMessage(e)}}startHeartbeat(){this.heartbeatInterval=setInterval(()=>{this.wsConnection&&1===this.wsConnection.readyState&&this.sendMessage({type:"ping",timestamp:Date.now()})},3e4)}async joinWorkspace(e,t={}){try{const s={id:e,name:t.name||`Workspace ${e}`,description:t.description||"",createdBy:this.currentUserId,createdAt:(new Date).toISOString(),members:new Map([[this.currentUserId,this.currentUserProfile]]),models:new Map,annotations:new Map,settings:{isPublic:t.isPublic||!1,allowGuests:t.allowGuests||!1,maxMembers:t.maxMembers||10,...t.settings},lastActivity:(new Date).toISOString()};return this.workspaces.set(e,s),this.sendMessage({type:"join_workspace",workspaceId:e,userId:this.currentUserId,options:t}),this.emit("workspaceJoined",{workspaceId:e,workspace:s}),s}catch(s){throw s}}async leaveWorkspace(e){try{const t=this.workspaces.get(e);if(!t)throw new Error("Workspace not found");return t.members.delete(this.currentUserId),0===t.members.size&&this.workspaces.delete(e),this.sendMessage({type:"leave_workspace",workspaceId:e,userId:this.currentUserId}),this.emit("workspaceLeft",{workspaceId:e}),!0}catch(t){throw t}}async shareModel(e,t,s,a={}){try{const n=this.workspaces.get(e);if(!n)throw new Error("Workspace not found");const r={id:t,workspaceId:e,data:s,sharedBy:this.currentUserId,sharedAt:(new Date).toISOString(),permissions:{canEdit:a.canEdit||!1,canComment:!1!==a.canComment,canView:!1!==a.canView,...a},version:1,lastModified:(new Date).toISOString(),modifiedBy:this.currentUserId};return n.models.set(t,r),this.modelStates.set(t,{...s}),this.sendMessage({type:"model_shared",workspaceId:e,modelId:t,sharedModel:r,userId:this.currentUserId}),this.emit("modelShared",{workspaceId:e,modelId:t,sharedModel:r}),r}catch(n){throw n}}async updateModel(e,t,s,a={}){try{const a=this.workspaces.get(e);if(!a)throw new Error("Workspace not found");const n=a.models.get(t);if(!n)throw new Error("Model not found");if(!n.permissions.canEdit&&n.sharedBy!==this.currentUserId)throw new Error("No edit permission for this model");const r={...n.data,...s};return n.data=r,n.version+=1,n.lastModified=(new Date).toISOString(),n.modifiedBy=this.currentUserId,this.modelStates.set(t,r),this.sendMessage({type:"model_update",workspaceId:e,modelId:t,updates:s,version:n.version,userId:this.currentUserId,timestamp:n.lastModified}),this.emit("modelUpdated",{workspaceId:e,modelId:t,updates:s,model:n}),n}catch(n){throw n}}async addAnnotation(e,t,s){try{const a=this.workspaces.get(e);if(!a)throw new Error("Workspace not found");const n=`annotation_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,r={id:n,workspaceId:e,modelId:t,content:s.content||"",type:s.type||"comment",position:s.position||{x:0,y:0},target:s.target||null,createdBy:this.currentUserId,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),resolved:!1,replies:[],metadata:s.metadata||{}};return a.annotations.set(n,r),this.sendMessage({type:"annotation_added",workspaceId:e,modelId:t,annotation:r,userId:this.currentUserId}),this.emit("annotationAdded",{workspaceId:e,modelId:t,annotation:r}),r}catch(a){throw a}}updateCursor(e,t){this.sendMessage({type:"cursor_update",workspaceId:e,userId:this.currentUserId,position:t,timestamp:Date.now()})}getWorkspaceMembers(e){const t=this.workspaces.get(e);return t?Array.from(t.members.values()):[]}getWorkspaceModels(e){const t=this.workspaces.get(e);return t?Array.from(t.models.values()):[]}getModelAnnotations(e,t){const s=this.workspaces.get(e);return s?Array.from(s.annotations.values()).filter(e=>e.modelId===t):[]}handleWorkspaceUpdate(e){this.emit("workspaceUpdate",e)}handleUserJoined(e){const t=this.workspaces.get(e.workspaceId);t&&t.members.set(e.user.id,e.user),this.emit("userJoined",e)}handleUserLeft(e){const t=this.workspaces.get(e.workspaceId);t&&t.members.delete(e.userId),this.emit("userLeft",e)}handleModelUpdate(e){const t=this.workspaces.get(e.workspaceId);if(t){const s=t.models.get(e.modelId);s&&(s.data={...s.data,...e.updates},s.version=e.version,s.lastModified=e.timestamp,s.modifiedBy=e.userId)}this.emit("modelUpdate",e)}handleAnnotationAdded(e){const t=this.workspaces.get(e.workspaceId);t&&t.annotations.set(e.annotation.id,e.annotation),this.emit("annotationAdded",e)}handleAnnotationUpdated(e){const t=this.workspaces.get(e.workspaceId);if(t){const s=t.annotations.get(e.annotationId);s&&Object.assign(s,e.updates)}this.emit("annotationUpdated",e)}handleAnnotationDeleted(e){const t=this.workspaces.get(e.workspaceId);t&&t.annotations.delete(e.annotationId),this.emit("annotationDeleted",e)}handleCursorUpdate(e){this.emit("cursorUpdate",e)}handlePresenceUpdate(e){this.emit("presenceUpdate",e)}async cleanup(){try{this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.wsConnection&&this.wsConnection.close(),this.workspaces.clear(),this.users.clear(),this.connections.clear(),this.annotations.clear(),this.modelStates.clear(),this.isInitialized=!1,this.emit("cleanup")}catch(e){}}}const J=new Y,Q=v.lazy(()=>l(()=>import("./FinancialSpreadsheet-CpCbg_om.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),X=v.lazy(()=>l(()=>import("./ModelingTools-0jJnWWif.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10,17,18]))),Z=v.lazy(()=>l(()=>import("./AnalysisResults-Ch2vhLfz.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10]))),ee=v.lazy(()=>l(()=>import("./AdvancedLBOTool-kQj5FNC6.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,21]))),te=v.lazy(()=>l(()=>import("./FinancialModelWorkspace-CkDC5-_w.js"),__vite__mapDeps([22,1,2,3,4,5,6,7,8,9,10]))),se=v.lazy(()=>l(()=>import("./EnhancedScenarioAnalysis-CliW5f3Q.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,8,9,10]))),ae=v.lazy(()=>l(()=>import("./EnhancedMarketDataDashboard-DwHJTGkw.js"),__vite__mapDeps([24,1,2,3,4,5,6,7,8,9,10]))),ne=v.lazy(()=>l(()=>import("./MonteCarloIntegrationHub-CBx9oRQ-.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,8,9,10,17,18]))),re=v.lazy(()=>l(()=>import("./DataExportImport-PGHTArLf.js"),__vite__mapDeps([26,1,2,3,4,5,6,7,8,9,10,18]))),ie=v.lazy(()=>l(()=>import("./ContextualInsightsSidebar-apLclGis.js"),__vite__mapDeps([27,1,2,3,4,5,6,7,8,9,10]))),oe=()=>{const l=j(),d=I(e);I(t),I(e=>e.analysis.isDirty);const h="undefined"!=typeof window&&(!0===window.navigator?.webdriver||window.location?.search?.includes("lhci")||window.location?.search?.includes("ci")||window.location?.search?.includes("audit")),{isInitialized:m,joinWorkspace:u}=function(e,t={}){const[s,a]=v.useState(!1),[n,r]=v.useState({online:navigator.onLine,connected:!1}),[i,o]=v.useState(null),[l,c]=v.useState([]),[d,h]=v.useState(!1),[m,u]=v.useState(null),p=v.useRef(!1);v.useEffect(()=>{if(!p.current)return(async()=>{try{h(!0),u(null),await J.initialize(e,t),a(!0),p.current=!0}catch(s){u(s.message)}finally{h(!1)}})(),()=>{p.current&&(J.cleanup(),p.current=!1)}},[e,t]),v.useEffect(()=>{if(!s)return;const e=e=>{r(e)},t=({workspace:e})=>{o(e),c(Array.from(e.members.values()))},a=()=>{o(null),c([])},n=({user:e,workspaceId:t})=>{i?.id===t&&c(t=>t.find(t=>t.id===e.id)?t:[...t,e])},l=({userId:e,workspaceId:t})=>{i?.id===t&&c(t=>t.filter(t=>t.id!==e))};return J.on("connectionStatus",e),J.on("workspaceJoined",t),J.on("workspaceLeft",a),J.on("userJoined",n),J.on("userLeft",l),()=>{J.off("connectionStatus",e),J.off("workspaceJoined",t),J.off("workspaceLeft",a),J.off("userJoined",n),J.off("userLeft",l)}},[s,i?.id]);const x=v.useCallback(async(e,t={})=>{if(!s)throw new Error("Collaboration service not initialized");try{return h(!0),u(null),await J.joinWorkspace(e,t)}catch(a){throw u(a.message),a}finally{h(!1)}},[s]),f=v.useCallback(async e=>{if(s)try{await J.leaveWorkspace(e)}catch(t){u(t.message)}},[s]);return{isInitialized:s,connectionStatus:n,currentWorkspace:i,workspaceMembers:l,isLoading:d,error:m,joinWorkspace:x,leaveWorkspace:f,shareModel:J.shareModel.bind(J),updateModel:J.updateModel.bind(J),addAnnotation:J.addAnnotation.bind(J),updateCursor:J.updateCursor.bind(J),getWorkspaceModels:J.getWorkspaceModels.bind(J),getModelAnnotations:J.getModelAnnotations.bind(J)}}("current-user-id",{name:"Financial Analyst",role:"analyst"}),[p,x]=v.useState(!1),f="private-analysis-workspace";v.useEffect(()=>{h||!m||p||u(f,{name:"Private Analysis Workspace",description:"Collaborative financial modeling and analysis"}).catch(e=>{})},[m,f,u,p,h]);const[g,y]=v.useState("spreadsheet"),[b,w]=v.useState(!1),[E,L]=v.useState(null),[P,U]=v.useState(!1),F=v.useRef(null),G=v.useRef(null),H=v.useRef(null),[Y,oe]=v.useState(null);v.useEffect(()=>{localStorage.getItem("fa-pro-visited-private-analysis")||localStorage.getItem("privateAnalyses")||(U(!0),localStorage.setItem("fa-pro-visited-private-analysis","true"))},[]),v.useEffect(()=>{if(!P)return;G.current?.focus();const e=e=>{if("Escape"===e.key){e.preventDefault(),U(!1);const t=document.getElementById("page-title");return void(t&&t.focus())}if("Tab"===e.key){const t=F.current;if(!t)return;const s=t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(!s.length)return;const a=s[0],n=s[s.length-1];e.shiftKey&&document.activeElement===a?(e.preventDefault(),n.focus()):e.shiftKey||document.activeElement!==n||(e.preventDefault(),a.focus())}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[P]);const[le,ce]=v.useState({lbo:null,threeStatement:null,scenarios:null,marketData:null,monteCarlo:null}),[de,he]=v.useState({}),[me]=v.useState({dcf:{discountRate:10,terminalGrowthRate:2.5,projectionYears:5,taxRate:25},scenario:{scenarios:[]}}),[ue,pe]=v.useState(!1),[xe,fe]=v.useState(null),[ge,ye]=v.useState(()=>{try{const e=localStorage.getItem("privateAnalyses");return e?JSON.parse(e):[]}catch(e){return[]}}),[be,we]=v.useState(!1),[Ee,ve]=v.useState("ready"),je=()=>{if(!d?.statements)return 0;let e=0,t=0;["totalRevenue","totalCostOfGoodsSold","operatingIncome","netIncome"].forEach(s=>{t+=3,void 0!==d.statements.incomeStatement?.[s]?.[2]&&(e+=3)}),["totalAssets","totalLiabilities","totalEquity"].forEach(s=>{t+=2,void 0!==d.statements.balanceSheet?.[s]?.[2]&&(e+=2)}),["operatingCashFlow","investingCashFlow","financingCashFlow"].forEach(s=>{t+=2,void 0!==d.statements.cashFlow?.[s]?.[2]&&(e+=2)});const s=Math.round(e/t*100);return void 0!==d?.statements?.incomeStatement?.totalRevenue?.[2]&&void 0!==d?.statements?.incomeStatement?.operatingIncome?.[2]?Math.max(s,80):s},Ie=()=>{let e=0;return me?.dcf?.discountRate&&me?.dcf?.terminalGrowthRate&&(e+=40),je()>=80&&(e+=20),me?.scenario?.scenarios&&me.scenario.scenarios.length>0&&(e+=20),(le.lbo||le.threeStatement||le.monteCarlo)&&(e+=20),Math.min(e,100)},_e=()=>{let e=0;return d?.statements?.incomeStatement&&(e+=30),le.lbo&&(e+=20),le.threeStatement&&(e+=20),le.scenarios&&(e+=15),le.monteCarlo&&(e+=15),Math.min(e,100)},ke=v.useCallback(async e=>{try{we(!0),ve("saving");const s={id:Date.now().toString(),name:e||`Analysis ${(new Date).toLocaleDateString()}`,timestamp:(new Date).toISOString(),financialData:d,adjustedValues:de,modelInputs:me,advancedResults:le,dataCompleteness:je(),modelingProgress:Ie(),analysisProgress:_e()},a=[...ge,s];ye(a);try{localStorage.setItem("privateAnalyses",JSON.stringify(a))}catch(t){throw new Error("Failed to save analysis to localStorage")}ve("ready"),oe(new Date)}catch(t){ve("error")}finally{we(!1)}},[d,de,me,le,ge]);v.useEffect(()=>{_e()>60&&!ue&&pe(!0)},[d,le,ue]),v.useEffect(()=>{d&&0!==Object.keys(d).length||l(s(M))},[l,d]);const Ne=v.useCallback((e,t="general")=>{l("lbo"===t?a(e):"threeStatement"===t?n(e):"scenarios"===t?r(e):s({...d,...e}))},[l,d]),Se=[{id:"spreadsheet",label:"Financial Spreadsheet",icon:S},{id:"modeling",label:"Financial Modeling",icon:C},{id:"analysis",label:"Analysis & Results",icon:A},{id:"lbo",label:"Advanced LBO",icon:C},{id:"threestatement",label:"3-Statement Model",icon:S},{id:"scenarios",label:"Scenario Analysis",icon:C},{id:"marketdata",label:"Market Data",icon:C},{id:"montecarlo",label:"Monte Carlo",icon:C},{id:"import-export",label:"Import/Export",icon:T}];return c.jsx($,{children:c.jsxs("div",{className:"min-h-screen bg-slate-900 relative",children:[c.jsx(O,{title:"Private Analysis Suite | FinanceAnalyst Pro",description:"Comprehensive financial analysis platform with advanced modeling tools, scenario analysis, Monte Carlo simulation, and private equity workflows.",canonical:"/private-analysis",keywords:"private analysis, financial modeling, scenario analysis, Monte Carlo simulation, LBO analysis, private equity tools"}),c.jsx(D,{}),c.jsxs("main",{id:"main-content",className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8",role:"main","aria-label":"Private Analysis Dashboard",children:[c.jsxs("section",{className:"mb-6 sm:mb-8","aria-labelledby":"page-title",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4",children:[c.jsx("h1",{id:"page-title",tabIndex:-1,className:"text-2xl sm:text-3xl font-bold text-white",children:"Private Analysis"}),c.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full "+("ready"===Ee?"bg-green-400":"saving"===Ee?"bg-blue-400":"bg-yellow-400")}),c.jsx("span",{className:"text-xs text-gray-400",children:"ready"===Ee?"Ready":"saving"===Ee?"Saving...":Ee})]}),Y&&c.jsxs(R,{onClick:()=>ke(),disabled:be,className:"flex items-center gap-2 text-xs sm:text-sm",variant:"primary",size:"sm",children:[c.jsx(_,{className:"w-3 h-3 sm:w-4 sm:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Saved"}),c.jsx("span",{className:"sm:hidden",children:Y.toLocaleTimeString()}),c.jsx("span",{className:"hidden sm:inline",children:Y.toLocaleTimeString()})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 mb-6",children:[c.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 sm:p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Data Completeness"}),c.jsxs("span",{className:"text-sm sm:text-base text-white font-semibold",children:[je(),"%"]})]}),c.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5 sm:h-2",children:c.jsx("div",{className:"bg-blue-500 h-1.5 sm:h-2 rounded-full transition-all duration-500",style:{width:`${je()}%`}})})]}),c.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 sm:p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs sm:text-sm text-gray-400",children:"Analysis Progress"}),c.jsxs("span",{className:"text-sm sm:text-base text-white font-semibold",children:[_e(),"%"]})]}),c.jsx("div",{className:"w-full bg-slate-700 rounded-full h-1.5 sm:h-2",children:c.jsx("div",{className:"bg-green-500 h-1.5 sm:h-2 rounded-full transition-all duration-500",style:{width:`${_e()}%`}})})]})]}),P&&c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:c.jsxs("div",{ref:F,className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",role:"dialog","aria-modal":"true","aria-labelledby":"quickstart-title","aria-describedby":"quickstart-desc",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(k,{className:"w-6 h-6 text-blue-600"}),c.jsx("h3",{id:"quickstart-title",className:"text-lg font-semibold text-slate-900",children:"Welcome to Private Analysis"})]}),c.jsx("p",{id:"quickstart-desc",className:"text-slate-700 mb-6",children:"Take a quick tour to learn how to build financial models, run DCF analysis, and export professional reports."}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{ref:G,onClick:()=>{U(!1),w(!0);const e=document.getElementById("page-title");e&&e.focus()},className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700","aria-label":"Start Tour",children:"Start Tour"}),c.jsx("button",{ref:H,onClick:()=>{U(!1);const e=document.getElementById("page-title");e&&e.focus()},className:"flex-1 bg-slate-200 text-slate-800 px-4 py-2 rounded-lg hover:bg-slate-300","aria-label":"Skip",children:"Skip"})]})]})})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[c.jsx(V,{variant:"horizontal",navigation:"analysisTools",activeItem:g,onItemClick:e=>y(e),className:"flex-1","data-tour":"financial-spreadsheet-tab"}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>{L("modeling"===g?"dcf":g)},className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors",title:"Get help with this feature","aria-label":"Open help panel",children:c.jsx(N,{className:"w-4 h-4"})}),!localStorage.getItem("privateAnalyses")&&c.jsx("button",{onClick:()=>w(!0),className:"p-2 text-blue-400 hover:text-blue-300 hover:bg-slate-700 rounded-lg transition-colors",title:"Take a guided tour","aria-label":"Start Private Analysis tour",children:c.jsx(k,{className:"w-4 h-4"})})]})]}),c.jsx("nav",{className:"mb-6 hidden","aria-label":"Analysis Tools",children:c.jsx("div",{className:"flex flex-wrap gap-2 p-1 bg-slate-800 rounded-lg",role:"tablist",children:Se.map(e=>{const t=e.icon;return c.jsxs("button",{onClick:()=>y(e.id),role:"tab","aria-selected":g===e.id,"aria-controls":`tabpanel-${e.id}`,tabIndex:g===e.id?0:-1,className:`\n                    flex items-center gap-2 px-4 py-2 rounded-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-slate-800\n                    ${g===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-300 hover:text-white hover:bg-slate-700"}\n                  `,children:[c.jsx(t,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-medium",children:e.label})]},e.id)})})}),c.jsx("section",{className:"relative",role:"tabpanel",id:`tabpanel-${g}`,"aria-labelledby":`tab-${g}`,children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsxs(W.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:["spreadsheet"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading spreadsheet. Please refresh the page."}),children:c.jsx(v.Suspense,{fallback:c.jsx(K,{rows:12,columns:6}),children:c.jsx(q,{isLoading:be,skeleton:c.jsx(K,{rows:12,columns:6}),children:c.jsx(Q,{data:d,onDataChange:Ne,onAdjustedValuesChange:he})})})}),"modeling"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading modeling tools. Please refresh the page."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(X,{data:d,adjustedValues:de,onDataChange:Ne})})}),"analysis"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading analysis results. Please check your data and refresh."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(Z,{data:d,adjustedValues:de,modelInputs:me,calculateDCF:e=>B(e,me),formatCurrency:o,formatPercentage:i})})}),"lbo"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading LBO tool. Please check your data."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(ee,{data:d,onDataChange:e=>Ne(e,"lbo")})})}),"threestatement"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading financial model workspace."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(te,{data:d,onDataChange:e=>Ne(e,"threeStatement")})})}),"scenarios"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading scenario analysis."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(se,{data:d,onDataChange:e=>Ne(e,"scenarios"),calculateDCF:e=>B(e,me),lboModelingEngine:null})})}),"marketdata"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading market data dashboard."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(ae,{data:d,onDataChange:e=>Ne(e,"marketData")})})}),"montecarlo"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading Monte Carlo integration."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(ne,{data:d,dcfResults:le.dcf,lboResults:le.lbo,financialModel:le.threeStatement,scenarioResults:le.scenarios,onDataChange:e=>Ne(e,"monteCarlo")})})}),"import-export"===g&&c.jsx($,{fallback:c.jsx("div",{className:"p-8 text-center text-red-400",children:"Error loading import/export tools."}),children:c.jsx(v.Suspense,{fallback:c.jsx("div",{className:"p-8 text-center text-gray-400",children:"Loading..."}),children:c.jsx(re,{data:d,onDataChange:Ne,savedAnalyses:ge,onAnalysesChange:ye})})})]},g)})}),c.jsx(v.Suspense,{fallback:null,children:c.jsx(ie,{financialData:d,currentMetric:xe,analysisContext:"analysis"===g?"dcf":g,onInsightClick:e=>{fe(e.metric)},isVisible:ue,onToggle:()=>{pe(!ue)}})})]}),c.jsx(z,{helpKey:E,isOpen:!!E,onClose:()=>{L(null)}})]})})};export{oe as default};
//# sourceMappingURL=PrivateAnalysis-Dzr015NY.js.map
