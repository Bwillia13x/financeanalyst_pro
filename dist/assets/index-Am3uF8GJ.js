const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BUNRlh-5.js","assets/react-core-LZql00V9.js","assets/vendor-BUoS_Aj_.js","assets/ui-components-B6dtFGFZ.js","assets/ui-charts-B2uDbWNs.js","assets/private-analysis-CULRlbZQ.js","assets/animations-PwArlWzR.js","assets/charts-vendor-EG81evMP.js","assets/utils-vendor-DofaKlSJ.js","assets/private-analysis-heavy-DbRFEumZ.js","assets/financial-engines-B7TnAHCU.js","assets/valuation-tools-ByCr1zrB.js","assets/dataFetching-BJDQA9FG.js","assets/data-vendor-vzM7rUwp.js","assets/persistence-CVb4Ip9D.js","assets/defaultFinancialData-Dvv1HwuD.js","assets/index-BTAImts-.js","assets/index-DCirKlbF.js","assets/valuation-tool-demo-Dt9Aj389.js","assets/PrivateAnalysis-bR92NzsQ.js","assets/FinancialInputsDemo-szWShCx7.js","assets/NotFound-rTfrCivz.js"])))=>i.map(i=>d[i]);
import{r as e,V as t,S as s,i as a,ad as n,C as r,k as i,H as o,e as l,O as c,ae as d,n as m,h as u,m as p,T as x,F as h,j as g,af as y,ag as f,z as b,Z as v,U as w,ah as j,ai as N,R as C,aj as k,Y as E,ak as A,al as S,am as L,an as _,ao as P}from"./react-core-LZql00V9.js";import{A as D,m as M}from"./animations-PwArlWzR.js";import{I as R,_ as T,L as I}from"./ui-components-B6dtFGFZ.js";import{a as z,g as O,i as F}from"./private-analysis-CULRlbZQ.js";import{c as V,a as $}from"./state-vendor-Cejbjp42.js";import"./vendor-BUoS_Aj_.js";import"./ui-charts-B2uDbWNs.js";import"./utils-vendor-DofaKlSJ.js";import"./charts-vendor-EG81evMP.js";import"./private-analysis-heavy-DbRFEumZ.js";import"./financial-engines-B7TnAHCU.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const q={navigation:[{pattern:/(?:go to|navigate to|switch to|show me)\s+(.+)/i,category:"navigation"},{pattern:/(?:open|view)\s+(.+)/i,category:"navigation"}],analysis:[{pattern:/(?:create|new|build|make)\s+(?:a\s+)?(?:dcf|valuation|model)(?:\s+for\s+(.+))?/i,category:"analysis",command:"create-dcf"},{pattern:/(?:run|perform|do)\s+(?:a\s+)?sensitivity\s+(?:analysis\s+)?(?:on\s+(.+))?/i,category:"analysis",command:"sensitivity-analysis"},{pattern:/(?:calculate|compute)\s+(.+)/i,category:"analysis"},{pattern:/(?:analyze|analyse)\s+(.+)/i,category:"analysis"}],data:[{pattern:/(?:find|search|look for)\s+(.+)/i,category:"data",command:"search-data"},{pattern:/(?:import|load)\s+(.+)/i,category:"data",command:"import-data"},{pattern:/(?:export|save|download)\s+(.+)/i,category:"export",command:"export-data"}],charts:[{pattern:/(?:create|make|build|show)\s+(?:a\s+)?(?:chart|graph|plot)(?:\s+for\s+(.+))?/i,category:"charts",command:"create-chart"},{pattern:/(?:visualize|plot)\s+(.+)/i,category:"charts",command:"create-chart"}]},W={"go-to-data":{id:"go-to-data",title:"Go to Data Entry",description:"Navigate to financial data spreadsheet",category:"navigation",icon:h,shortcut:"Ctrl+1",keywords:["data","spreadsheet","financial","entry","input"],execute:(e,t)=>({action:"navigate",target:"data"})},"go-to-modeling":{id:"go-to-modeling",title:"Go to Modeling Tools",description:"Navigate to financial modeling workspace",category:"navigation",icon:r,shortcut:"Ctrl+2",keywords:["modeling","tools","dcf","models"],execute:(e,t)=>({action:"navigate",target:"modeling"})},"go-to-analysis":{id:"go-to-analysis",title:"Go to Analysis Results",description:"View analysis results and outputs",category:"navigation",icon:x,shortcut:"Ctrl+3",keywords:["analysis","results","outputs","valuation"],execute:(e,t)=>({action:"navigate",target:"analysis"})},"create-dcf":{id:"create-dcf",title:"Create New DCF Model",description:"Start a new discounted cash flow valuation model",category:"analysis",icon:r,shortcut:"Ctrl+N",keywords:["dcf","valuation","model","discounted","cash","flow","new","create"],parameters:[{name:"company",type:"string",description:"Company ticker or name",optional:!0}],execute:(e,t)=>({action:"create-model",type:"dcf",company:e?.company||"New Model"})},"sensitivity-analysis":{id:"sensitivity-analysis",title:"Run Sensitivity Analysis",description:"Perform sensitivity analysis on key assumptions",category:"analysis",icon:p,shortcut:"Ctrl+Shift+S",keywords:["sensitivity","analysis","assumptions","wacc","growth","test"],parameters:[{name:"variable",type:"string",description:"Variable to analyze (WACC, growth rate, etc.)",optional:!0}],execute:(e,t)=>({action:"run-sensitivity",variable:e?.variable||"wacc"})},"monte-carlo":{id:"monte-carlo",title:"Run Monte Carlo Simulation",description:"Perform Monte Carlo simulation on model",category:"analysis",icon:u,keywords:["monte","carlo","simulation","probability","risk"],execute:(e,t)=>({action:"run-monte-carlo"})},"search-data":{id:"search-data",title:"Search Financial Data",description:"Find specific financial metrics or data points",category:"data",icon:m,shortcut:"Ctrl+F",keywords:["search","find","data","metrics","revenue","expenses"],parameters:[{name:"query",type:"string",description:"What to search for",required:!0}],execute:(e,t)=>({action:"search",query:e?.query})},"import-data":{id:"import-data",title:"Import Financial Data",description:"Import data from Excel, CSV, or other sources",category:"data",icon:d,shortcut:"Ctrl+I",keywords:["import","upload","excel","csv","data","file"],execute:(e,t)=>({action:"import-data"})},"export-data":{id:"export-data",title:"Export Analysis",description:"Export current analysis to PDF, Excel, or PowerPoint",category:"export",icon:c,shortcut:"Ctrl+E",keywords:["export","download","pdf","excel","powerpoint","save"],parameters:[{name:"format",type:"string",description:"Export format (PDF, Excel, PowerPoint)",optional:!0}],execute:(e,t)=>({action:"export",format:e?.format||"pdf"})},"create-chart":{id:"create-chart",title:"Create Chart",description:"Create a visualization from your data",category:"charts",icon:l,keywords:["chart","graph","visualization","plot","visualize"],parameters:[{name:"type",type:"string",description:"Chart type (line, bar, pie, etc.)",optional:!0},{name:"data",type:"string",description:"Data to visualize",optional:!0}],execute:(e,t)=>({action:"create-chart",type:e?.type||"line",data:e?.data})},"revenue-chart":{id:"revenue-chart",title:"Create Revenue Chart",description:"Visualize revenue trends over time",category:"charts",icon:o,keywords:["revenue","sales","income","trend","growth"],execute:(e,t)=>({action:"create-chart",type:"line",data:"revenue"})},"margin-analysis":{id:"margin-analysis",title:"Analyze Margins",description:"Create margin analysis visualization",category:"charts",icon:i,keywords:["margin","profitability","ebitda","operating","gross"],execute:(e,t)=>({action:"create-chart",type:"bar",data:"margins"})},"company-apple":{id:"company-apple",title:"Analyze Apple (AAPL)",description:"Create analysis for Apple Inc.",category:"analysis",icon:r,keywords:["apple","aapl","company","stock"],execute:(e,t)=>({action:"create-model",company:"AAPL"})},"company-microsoft":{id:"company-microsoft",title:"Analyze Microsoft (MSFT)",description:"Create analysis for Microsoft Corporation",category:"analysis",icon:r,keywords:["microsoft","msft","company","stock"],execute:(e,t)=>({action:"create-model",company:"MSFT"})},"save-analysis":{id:"save-analysis",title:"Save Current Analysis",description:"Save your current work",category:"data",icon:n,shortcut:"Ctrl+S",keywords:["save","store","backup"],execute:(e,t)=>({action:"save"})},"toggle-insights":{id:"toggle-insights",title:"Toggle Insights Sidebar",description:"Show or hide contextual insights",category:"navigation",icon:a,keywords:["insights","sidebar","toggle","show","hide"],execute:(e,t)=>({action:"toggle-insights"})},settings:{id:"settings",title:"Open Settings",description:"Configure application preferences",category:"settings",icon:s,keywords:["settings","preferences","config","options"],execute:(e,t)=>({action:"open-settings"})},help:{id:"help",title:"Get Help",description:"Access help documentation and tutorials",category:"help",icon:t,shortcut:"F1",keywords:["help","documentation","tutorial","support"],execute:(e,t)=>({action:"open-help"})}},U=({isOpen:a,onClose:n,onExecuteCommand:i,currentContext:o={},recentCommands:u=[],userPreferences:p={}})=>{const[C,k]=e.useState(""),[E,A]=e.useState(0),[S,L]=e.useState([]),_=e.useRef(null),P=e.useRef(null),{searchCommands:R,executeCommand:T,getContextualCommands:I,learnFromUsage:z}=((t={})=>{const[s,a]=e.useState(()=>{const e=localStorage.getItem("commandUsage");return e?JSON.parse(e):{}}),[n,r]=e.useState(()=>{const e=localStorage.getItem("commandLearning");return e?JSON.parse(e):{}}),i=e.useCallback(e=>{const t=[];for(const[s,a]of Object.entries(q))for(const n of a){const s=e.match(n.pattern);s&&t.push({category:n.category,command:n.command,parameters:s.slice(1).filter(Boolean),confidence:s[0].length/e.length})}return t.sort((e,t)=>t.confidence-e.confidence)},[]),o=e.useCallback(e=>{if(!e.trim())return[];const a=e.toLowerCase().trim(),n=[],r=i(e);return Object.values(W).forEach(e=>{let i=0;e.title.toLowerCase()===a&&(i+=100),e.title.toLowerCase().includes(a)&&(i+=50),e.description.toLowerCase().includes(a)&&(i+=30),i+=20*e.keywords.filter(e=>e.toLowerCase().includes(a)||a.includes(e.toLowerCase())).length;const o=s[e.id]||0;i+=Math.min(2*o,20),t.activeTab&&("navigation"===e.category&&e.id.includes(t.activeTab)&&(i+=15),e.category===t.activeTab&&(i+=10));const l=r.find(t=>t.command===e.id);l&&(i+=40*l.confidence),i>0&&n.push({...e,score:i,usageCount:o,isRecommended:i>60})}),n.sort((e,t)=>t.score-e.score).slice(0,8)},[i,s,t]),l=e.useCallback(()=>{const e=[];switch(t.activeTab){case"data":case"spreadsheet":e.push(W["import-data"],W["search-data"],W["go-to-modeling"]);break;case"modeling":e.push(W["create-dcf"],W["sensitivity-analysis"],W["go-to-analysis"]);break;case"analysis":e.push(W["create-chart"],W["export-data"],W["sensitivity-analysis"]);break;default:e.push(W["create-dcf"],W["import-data"],W.help)}const a=Object.entries(s).sort(([,e],[,t])=>t-e).slice(0,2).map(([e])=>W[e]).filter(Boolean);return[...e,...a].slice(0,6)},[t,s]),c=e.useCallback(async(e,s={})=>{const n=W[e];if(!n)throw new Error(`Command not found: ${e}`);try{const r=await n.execute(s,t);return a(t=>({...t,[e]:(t[e]||0)+1})),r}catch(r){throw r}},[t]),d=e.useCallback((e,t)=>{t.trim()&&r(s=>({...s,[e]:{...s[e],queries:[...s[e]?.queries||[],t].slice(-5),lastUsed:Date.now()}}))},[]),m=e.useCallback(()=>{const e={};return Object.values(W).forEach(t=>{e[t.category]||(e[t.category]=[]),e[t.category].push(t)}),e},[]);return e.useEffect(()=>{localStorage.setItem("commandUsage",JSON.stringify(s))},[s]),e.useEffect(()=>{localStorage.setItem("commandLearning",JSON.stringify(n))},[n]),{searchCommands:o,executeCommand:c,getContextualCommands:l,getCommandCategories:m,learnFromUsage:d,parseNaturalLanguage:i,commandRegistry:W,commandUsage:s,userLearning:n}})(o),O=e.useMemo(()=>C.trim()?R(C):[...u.slice(0,3).map(e=>({...e,category:"recent"})),...I().slice(0,4).map(e=>({...e,category:"suggested"})),{id:"new-dcf",title:"Create New DCF Model",description:"Start a new discounted cash flow valuation",icon:r,category:"popular",keywords:["dcf","valuation","model","new"]},{id:"sensitivity-analysis",title:"Run Sensitivity Analysis",description:"Test assumptions with sensitivity analysis",icon:x,category:"popular",keywords:["sensitivity","analysis","wacc","assumptions"]}],[C,u,R,I]);e.useEffect(()=>{A(0)},[O]),e.useEffect(()=>{a&&_.current&&(_.current.focus(),k(""),A(0))},[a]),e.useEffect(()=>{if(!a)return;const e=e=>{switch(e.key){case"ArrowDown":e.preventDefault(),A(e=>Math.min(e+1,O.length-1));break;case"ArrowUp":e.preventDefault(),A(e=>Math.max(e-1,0));break;case"Enter":e.preventDefault(),O[E]&&F(O[E]);break;case"Escape":e.preventDefault(),n()}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a,E,O,n]);const F=async e=>{try{L(t=>[e,...t.slice(0,9)]),z(e.id,C);const t=await T(e.id,e.params);i&&i(e,t),n()}catch(t){}},V=e=>{switch(e){case"recent":return"text-blue-500";case"suggested":return"text-amber-500";case"popular":return"text-emerald-500";case"navigation":default:return"text-slate-500";case"analysis":return"text-purple-500";case"data":return"text-indigo-500";case"export":return"text-green-500";case"import":return"text-orange-500";case"charts":return"text-pink-500";case"collaboration":return"text-cyan-500";case"automation":return"text-red-500";case"external":return"text-gray-500";case"settings":return"text-slate-600";case"help":return"text-blue-600"}},$=(e,t)=>{if(!t.trim())return e;const s=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(s).map((e,t)=>s.test(e)?g.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-0.5 rounded",children:e},t):e)};return a?g.jsx(D,{children:g.jsx(M.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-20",onClick:n,children:g.jsxs(M.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{type:"spring",duration:.3},className:"bg-white rounded-xl shadow-2xl border border-slate-200 w-full max-w-2xl mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[g.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-slate-100 bg-slate-50",children:[g.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:g.jsx(y,{size:18,className:"text-white"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h3",{className:"font-semibold text-slate-900",children:"Command Palette"}),g.jsx("p",{className:"text-xs text-slate-500",children:"Type to search commands, or use natural language"})]}),g.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[g.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-slate-200 rounded text-xs",children:"Esc"}),g.jsx("span",{children:"to close"})]})]}),g.jsxs("div",{className:"relative p-4 border-b border-slate-100",children:[g.jsxs("div",{className:"relative",children:[g.jsx(m,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),g.jsx("input",{ref:_,type:"text",value:C,onChange:e=>k(e.target.value),placeholder:"Search commands or describe what you want to do...",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-900 placeholder-slate-500"})]}),!C&&g.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[g.jsx("span",{className:"text-xs text-slate-500",children:"Try:"}),["New DCF for AAPL","Run sensitivity on WACC","Export to PDF","Find revenue data"].map(e=>g.jsxs("button",{onClick:()=>k(e),className:"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-md hover:bg-blue-100 transition-colors",children:['"',e,'"']},e))]})]}),g.jsx("div",{className:"max-h-96 overflow-y-auto",ref:P,children:0===O.length?g.jsxs("div",{className:"p-8 text-center",children:[g.jsx("div",{className:"p-3 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:g.jsx(m,{size:24,className:"text-slate-400"})}),g.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"No commands found"}),g.jsx("p",{className:"text-sm text-slate-500",children:"Try a different search term or use natural language to describe what you want to do."})]}):g.jsx("div",{className:"py-2",children:O.map((e,a)=>{const n=(e=>{switch(e){case"recent":return N;case"suggested":return j;case"popular":return x;case"navigation":return f;case"analysis":return r;case"data":return h;case"export":return c;case"import":return d;case"charts":return l;case"collaboration":return w;case"automation":return v;case"external":return b;case"settings":return s;case"help":return t;default:return y}})(e.category),i=e.icon,o=a===E;return g.jsxs(M.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-150 "+(o?"bg-blue-50 border-r-2 border-blue-500":"hover:bg-slate-50"),onClick:()=>F(e),children:[g.jsx("div",{className:"p-1.5 rounded-md "+(o?"bg-blue-100":"bg-slate-100"),children:g.jsx(n,{size:12,className:V(e.category)})}),i&&g.jsx("div",{className:"p-2 rounded-lg "+(o?"bg-blue-100":"bg-slate-100"),children:g.jsx(i,{size:16,className:o?"text-blue-600":"text-slate-600"})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("h4",{className:"font-medium truncate "+(o?"text-blue-900":"text-slate-900"),children:$(e.title,C)}),e.shortcut&&g.jsx("div",{className:"flex items-center gap-1",children:e.shortcut.split("+").map((e,t)=>g.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-200 text-slate-600 text-xs rounded",children:e},t))})]}),g.jsx("p",{className:"text-sm truncate "+(o?"text-blue-700":"text-slate-500"),children:$(e.description,C)}),g.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[g.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full "+(o?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"),children:e.category}),e.usageCount&&g.jsxs("span",{className:"text-xs text-slate-400",children:["Used ",e.usageCount," times"]}),e.isNew&&g.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"New"})]})]}),o&&g.jsx(M.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"text-blue-500",children:g.jsx(f,{size:16})})]},`${e.id}-${a}`)})})}),g.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-slate-200 rounded",children:"↑↓"}),g.jsx("span",{children:"Navigate"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-slate-200 rounded",children:"Enter"}),g.jsx("span",{children:"Execute"})]})]}),g.jsxs("div",{className:"text-slate-400",children:[O.length," command",1!==O.length?"s":""," available"]})]})]})})}):null};class B extends C.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){e.__ErrorBoundary=!0,window.__COMPONENT_ERROR__?.(e,t)}render(){return this.state.hasError?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:g.jsxs("div",{className:"text-center p-8 max-w-md",children:[g.jsx("div",{className:"flex justify-center items-center mb-2",children:g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"42px",height:"42px",viewBox:"0 0 32 33",fill:"none",children:[g.jsx("path",{d:"M16 28.5C22.6274 28.5 28 23.1274 28 16.5C28 9.87258 22.6274 4.5 16 4.5C9.37258 4.5 4 9.87258 4 16.5C4 23.1274 9.37258 28.5 16 28.5Z",stroke:"#343330",strokeWidth:"2",strokeMiterlimit:"10"}),g.jsx("path",{d:"M11.5 15.5C12.3284 15.5 13 14.8284 13 14C13 13.1716 12.3284 12.5 11.5 12.5C10.6716 12.5 10 13.1716 10 14C10 14.8284 10.6716 15.5 11.5 15.5Z",fill:"#343330"}),g.jsx("path",{d:"M20.5 15.5C21.3284 15.5 22 14.8284 22 14C22 13.1716 21.3284 12.5 20.5 12.5C19.6716 12.5 19 13.1716 19 14C19 14.8284 19.6716 15.5 20.5 15.5Z",fill:"#343330"}),g.jsx("path",{d:"M21 22.5C19.9625 20.7062 18.2213 19.5 16 19.5C13.7787 19.5 12.0375 20.7062 11 22.5",stroke:"#343330",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),g.jsxs("div",{className:"flex flex-col gap-1 text-center",children:[g.jsx("h1",{className:"text-2xl font-medium text-neutral-800",children:"Something went wrong"}),g.jsx("p",{className:"text-neutral-600 text-base w w-8/12 mx-auto",children:"We encountered an unexpected error while processing your request."})]}),g.jsx("div",{className:"flex justify-center items-center mt-6",children:g.jsxs("button",{onClick:()=>{window.location.href="/"},className:"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded flex items-center gap-2 transition-colors duration-200 shadow-sm",children:[g.jsx(R,{name:"ArrowLeft",size:18,color:"#fff"}),"Back"]})})]})}):this.props.children}}const G=({isVisible:t=!1,onClose:s})=>{const[a,n]=e.useState(null),[r,i]=e.useState(3e4),[o,l]=e.useState(!1),[c,d]=e.useState(75),{alerts:m,startMonitoring:u,stopMonitoring:p,clearAlerts:x}=z({threshold:c,monitorInterval:r}),h=e.useCallback(()=>{try{const e=O();n(e)}catch(e){}},[]),y=e.useCallback(()=>{o?(p(),l(!1)):(u(),l(!0))},[o,u,p]);e.useEffect(()=>{if(!t)return;F(),h();const e=setInterval(h,r);return()=>{clearInterval(e)}},[t,h,r]);const f=(e,t="ms")=>null==e?"N/A":"number"==typeof e?`${Math.round(e)}${t}`:e;if(!t||!a)return null;const{webVitals:b,budgetViolations:v,accessibility:w,performance:j}=a;return g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:g.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Performance Dashboard"}),g.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Real-time monitoring for FinanceAnalyst Pro"})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx("button",{onClick:y,className:"px-4 py-2 rounded-md text-sm font-medium "+(o?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"),children:o?"Stop Monitoring":"Start Monitoring"}),g.jsx("button",{onClick:h,className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-md text-sm font-medium hover:bg-blue-200",children:"Refresh"}),g.jsxs("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:[g.jsx("span",{className:"sr-only",children:"Close"}),g.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})]}),g.jsxs("div",{className:"p-6 space-y-8",children:[g.jsxs("section",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Core Web Vitals"}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Object.entries(b).map(([e,t])=>{const s=((e,t)=>{const s={LCP:{good:2500,poor:4e3},FID:{good:100,poor:300},CLS:{good:.1,poor:.25},FCP:{good:1800,poor:3e3},TTFB:{good:800,poor:1800}}[e];return s&&null!==t?t<=s.good?"good":t<=s.poor?"needs-improvement":"poor":"unknown"})(e,t),a=(e=>{switch(e){case"good":return"text-green-600 bg-green-100";case"needs-improvement":return"text-yellow-600 bg-yellow-100";case"poor":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}})(s);return g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("span",{className:"text-sm font-medium text-gray-600",children:e}),g.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a}`,children:s})]}),g.jsx("div",{className:"mt-2",children:g.jsx("span",{className:"text-2xl font-bold text-gray-900",children:f(t,"CLS"===e?"":"ms")})})]},e)})})]}),v.length>0&&g.jsxs("section",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Budget Violations"}),g.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:g.jsx("div",{className:"space-y-2",children:v.map((e,t)=>g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("span",{className:"text-sm font-medium text-red-800",children:[e.metric,": ",f(e.value)]}),g.jsxs("span",{className:"text-sm text-red-600",children:["Over budget by ",f(e.overBy)]})]},t))})})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Accessibility"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Current Score"}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("span",{className:"text-3xl font-bold text-gray-900",children:w.currentScore}),g.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"/100"}),w.trends.scoreImproving&&g.jsx("span",{className:"ml-2 text-green-600",children:g.jsx("svg",{className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 20 20",children:g.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Average Violations"}),g.jsx("span",{className:"text-3xl font-bold text-gray-900",children:w.averageViolations})]}),g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"Average Score"}),g.jsx("span",{className:"text-3xl font-bold text-gray-900",children:w.averageScore})]})]}),m.length>0&&g.jsxs("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h4",{className:"text-sm font-medium text-yellow-800",children:"Active Alerts"}),g.jsx("button",{onClick:x,className:"text-xs text-yellow-600 hover:text-yellow-800",children:"Clear All"})]}),g.jsxs("div",{className:"space-y-2",children:[m.slice(0,5).map(e=>g.jsxs("div",{className:"text-sm text-yellow-700",children:[g.jsxs("span",{className:"font-medium",children:[e.type,":"]})," ",e.message]},e.id)),m.length>5&&g.jsxs("div",{className:"text-xs text-yellow-600",children:["And ",m.length-5," more alerts..."]})]})]})]}),j.recentMetrics.length>0&&g.jsxs("section",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Performance Events"}),g.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:g.jsx("div",{className:"max-h-64 overflow-y-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[g.jsx("thead",{className:"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Component"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.recentMetrics.slice(0,10).map((e,t)=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.type}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.component||e.componentType||"N/A"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:void 0!==e.violations?`${e.violations} violations`:void 0!==e.score?`Score: ${e.score}`:void 0!==e.duration?`${Math.round(e.duration)}ms`:"N/A"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.timestamp).toLocaleTimeString()})]},t))})]})})})]}),g.jsxs("section",{children:[g.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monitoring Settings"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Refresh Interval (seconds)"}),g.jsxs("select",{value:r/1e3,onChange:e=>i(1e3*parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[g.jsx("option",{value:10,children:"10 seconds"}),g.jsx("option",{value:30,children:"30 seconds"}),g.jsx("option",{value:60,children:"1 minute"}),g.jsx("option",{value:300,children:"5 minutes"})]})]}),g.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Accessibility Alert Threshold"}),g.jsxs("select",{value:c,onChange:e=>d(parseInt(e.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm",children:[g.jsx("option",{value:60,children:"60 (Strict)"}),g.jsx("option",{value:75,children:"75 (Moderate)"}),g.jsx("option",{value:85,children:"85 (Lenient)"}),g.jsx("option",{value:95,children:"95 (Very Lenient)"})]})]})]})]})]})]})})},J=({children:e})=>g.jsx(k,{children:e}),K=()=>{const{pathname:t}=E();return e.useEffect(()=>{window.scrollTo(0,0)},[t]),null},H=e.lazy(()=>T(()=>import("./index-BUNRlh-5.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),Y=e.lazy(()=>T(()=>import("./index-BTAImts-.js"),__vite__mapDeps([16,1,2,3,4,5,6,7,8,9,10,11,12,13]))),Z=e.lazy(()=>T(()=>import("./index-DCirKlbF.js"),__vite__mapDeps([17,1,2,3,4,5,6,7,8,9,10,11]))),X=e.lazy(()=>T(()=>import("./valuation-tools-ByCr1zrB.js").then(e=>e.V),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10]))),Q=e.lazy(()=>T(()=>import("./valuation-tools-ByCr1zrB.js").then(e=>e.a),__vite__mapDeps([11,1,2,3,4,5,6,7,8,9,10]))),ee=e.lazy(()=>T(()=>import("./valuation-tool-demo-Dt9Aj389.js"),__vite__mapDeps([18,1,2,6]))),te=e.lazy(()=>T(()=>import("./PrivateAnalysis-bR92NzsQ.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9,10,11,15]))),se=e.lazy(()=>T(()=>import("./FinancialInputsDemo-szWShCx7.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10]))),ae=e.lazy(()=>T(()=>import("./NotFound-rTfrCivz.js"),__vite__mapDeps([21,1,2,3,4,5,6,7,8,9,10]))),ne=()=>g.jsx(A,{children:g.jsxs(B,{children:[g.jsx(K,{}),g.jsx(e.Suspense,{fallback:g.jsx(I,{}),children:g.jsxs(S,{children:[g.jsx(L,{path:"/",element:g.jsx(H,{})}),g.jsx(L,{path:"/financial-model-workspace",element:g.jsx(H,{})}),g.jsx(L,{path:"/real-time-market-data-center",element:g.jsx(Y,{})}),g.jsx(L,{path:"/scenario-analysis-sensitivity-tools",element:g.jsx(Z,{})}),g.jsx(L,{path:"/valuation-tool",element:g.jsx(X,{})}),g.jsx(L,{path:"/valuation-tool/docs",element:g.jsx(Q,{})}),g.jsx(L,{path:"/valuation-tool/demo",element:g.jsx(ee,{})}),g.jsx(L,{path:"/private-analysis",element:g.jsx(te,{})}),g.jsx(L,{path:"/financial-inputs-demo",element:g.jsx(se,{})}),g.jsx(L,{path:"*",element:g.jsx(ae,{})})]})})]})});function re(){const{isVisible:t,hideDashboard:s}=function(){const[t,s]=e.useState(!1),a=e.useCallback(()=>{s(e=>!e)},[]),n=e.useCallback(()=>{s(!0)},[]),r=e.useCallback(()=>{s(!1)},[]);return e.useEffect(()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&e.shiftKey&&"P"===e.key&&(e.preventDefault(),a())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a]),e.useEffect(()=>{},[]),{isVisible:t,toggleDashboard:a,showDashboard:n,hideDashboard:r}}(),[a,n]=e.useState(!1);return e.useEffect(()=>{F()},[]),e.useEffect(()=>{const e=e=>{const t=(e.target?.tagName||"").toLowerCase();["input","textarea","select"].includes(t)||e.target?.isContentEditable||(e.metaKey||e.ctrlKey)&&"k"===e.key.toLowerCase()&&(e.preventDefault(),n(!0))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),g.jsx(B,{children:g.jsxs(J,{children:[g.jsx(ne,{}),g.jsx(U,{isOpen:a,onClose:()=>n(!1)}),g.jsx(G,{isVisible:t,onClose:s})]})})}const ie=V({name:"user",initialState:{name:"Guest",isAuthenticated:!1},reducers:{login:(e,t)=>{e.name=t.payload.name,e.isAuthenticated=!0},logout:e=>{e.name="Guest",e.isAuthenticated=!1}}}),{login:oe,logout:le}=ie.actions,ce=$({reducer:{user:ie.reducer}}),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e){navigator.serviceWorker.register(e).then(e=>{e.addEventListener("updatefound",()=>{const t=e.installing;null!=t&&t.addEventListener("statechange",()=>{"installed"===t.state&&(navigator.serviceWorker.controller?("Notification"in window&&"granted"===Notification.permission&&new Notification("FinanceAnalyst Pro Update Available",{body:"A new version is available. Refresh to update.",icon:"/assets/images/favicon.svg",badge:"/assets/images/favicon.svg",tag:"app-update"}),ue("Update Available","A new version of FinanceAnalyst Pro is ready. Refresh to update.","info")):ue("App Ready for Offline","FinanceAnalyst Pro is now available offline for core features.","success"))})})}).catch(e=>{})}function ue(e,t,s="info"){const a=document.createElement("div");a.className=`\n    fixed top-4 right-4 z-50 max-w-sm p-4 rounded-lg shadow-lg\n    ${"success"===s?"bg-green-50 text-green-800 border border-green-200":""}\n    ${"warning"===s?"bg-yellow-50 text-yellow-800 border border-yellow-200":""}\n    ${"info"===s?"bg-blue-50 text-blue-800 border border-blue-200":""}\n    transition-all duration-300 transform translate-x-full\n  `,a.innerHTML=`\n    <div class="flex items-start">\n      <div class="flex-1">\n        <h4 class="font-medium text-sm">${e}</h4>\n        <p class="text-sm mt-1 opacity-90">${t}</p>\n      </div>\n      <button class="ml-3 text-sm opacity-60 hover:opacity-100" onclick="this.parentElement.parentElement.remove()">\n        ✕\n      </button>\n    </div>\n  `,document.body.appendChild(a),requestAnimationFrame(()=>{a.style.transform="translateX(0)"}),setTimeout(()=>{a.parentElement&&(a.style.transform="translateX(100%)",setTimeout(()=>a.remove(),300))},5e3)}let pe;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),pe=e,function(){const e=document.createElement("div");e.className="\n    fixed bottom-4 left-4 right-4 p-4 bg-blue-600 text-white rounded-lg shadow-lg\n    flex items-center justify-between z-50 max-w-md mx-auto\n  ",e.innerHTML='\n    <div class="flex-1">\n      <h4 class="font-medium text-sm">Install FinanceAnalyst Pro</h4>\n      <p class="text-sm opacity-90 mt-1">Get faster access and offline features</p>\n    </div>\n    <div class="flex items-center space-x-2 ml-3">\n      <button id="install-btn" class="bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-blue-50">\n        Install\n      </button>\n      <button id="dismiss-btn" class="text-white opacity-60 hover:opacity-100 text-sm">\n        ✕\n      </button>\n    </div>\n  ',document.body.appendChild(e),e.querySelector("#install-btn").addEventListener("click",async()=>{if(pe){pe.prompt();const{outcome:e}=await pe.userChoice;pe=null}e.remove()}),e.querySelector("#dismiss-btn").addEventListener("click",()=>{e.remove(),pe=null})}()}),window.addEventListener("appinstalled",()=>{ue("App Installed","FinanceAnalyst Pro has been installed successfully!","success"),deferredPromit=null});let xe=null;function he(){const e=[];if("undefined"==typeof document)return e;const t=document.querySelectorAll("script:not([src]):not([nonce])");t.length>0&&e.push({type:"inline-script-without-nonce",count:t.length,elements:Array.from(t).slice(0,3)});const s=document.querySelectorAll("style:not([nonce])");return s.length>5&&e.push({type:"excessive-inline-styles",count:s.length,recommendation:"Consider consolidating CSS-in-JS styles"}),document.querySelectorAll("script[src]").forEach(t=>{const s=t.getAttribute("src");!s||s.startsWith("https://")||s.startsWith("/")||e.push({type:"insecure-external-script",src:s,element:t})}),e}const ge=document.getElementById("root");_.createRoot(ge).render(g.jsx(P,{store:ce,children:g.jsx(re,{})})),function(){!function(e){"undefined"!=typeof document&&(document.querySelectorAll("script:not([src])").forEach(t=>{t.setAttribute("nonce",e)}),document.querySelectorAll("style").forEach(t=>{t.setAttribute("nonce",e)}))}((xe||(xe=function(){if("undefined"!=typeof window&&window.crypto){const e=new Uint8Array(16);return window.crypto.getRandomValues(e),btoa(String.fromCharCode.apply(null,e))}return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}()),xe)),"undefined"!=typeof document&&document.addEventListener("securitypolicyviolation",e=>{var t;t={blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,originalPolicy:e.originalPolicy,disposition:e.disposition,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href},fetch("/api/csp-violations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).catch(e=>{})});const e=he();e.length,setInterval(()=>{he().length,e.length},3e4)}(),function(){if("serviceWorker"in navigator){if(new URL("/",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const e="/sw.js";de?(function(e){fetch(e,{headers:{"Service-Worker":"script"}}).then(t=>{const s=t.headers.get("content-type");404===t.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):me(e)}).catch(()=>{ue("Offline Mode","You're currently offline. Some features may be limited.","warning")})}(e),navigator.serviceWorker.ready.then(()=>{})):me(e)})}}(),function(){function e(){const e=navigator.onLine;e?ue("Connection Restored","You're back online. Syncing latest data...","success"):ue("Connection Lost","You're now offline. Cached content will be used.","warning"),document.body.setAttribute("data-network-status",e?"online":"offline")}window.addEventListener("online",e),window.addEventListener("offline",e),e()}(),"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission().then(e=>{}),F();
//# sourceMappingURL=index-Am3uF8GJ.js.map
