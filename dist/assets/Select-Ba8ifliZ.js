import{j as e,c as s}from"./index-BBZS0tJJ.js";import{R as t,r as a}from"./react-vendor-BaLqnLcQ.js";import{B as l}from"./Button-DrWX1msp.js";import{I as r}from"./Input-spewUQTq.js";import{X as o,q as n,S as i,ab as d}from"./ui-vendor-BKcgCImL.js";const c=t.forwardRef(({className:t,options:c=[],value:u,defaultValue:m,placeholder:x="Select an option",multiple:p=!1,disabled:h=!1,required:f=!1,label:v,description:b,error:g,searchable:j=!1,clearable:N=!1,loading:w=!1,id:y,name:C,onChange:S,onOpenChange:k,...z},L)=>{const[q,B]=a.useState(!1),[I,M]=a.useState(""),R=y||`select-${Math.random().toString(36).substr(2,9)}`,V=j&&I?c.filter(e=>e.label.toLowerCase().includes(I.toLowerCase())||e.value&&e.value.toString().toLowerCase().includes(I.toLowerCase())):c,$=e=>p?u?.includes(e)||!1:u===e,A=p?u?.length>0:void 0!==u&&""!==u;return e.jsxs("div",{className:s("relative",t),children:[v&&e.jsxs("label",{htmlFor:R,className:s("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2 block",g?"text-destructive":"text-foreground"),children:[v,f&&e.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{ref:L,id:R,type:"button",className:s("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white text-black px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",g&&"border-destructive focus:ring-destructive",!A&&"text-muted-foreground"),onClick:()=>{if(!h){const e=!q;B(e),k?.(e),e||M("")}},disabled:h,"aria-expanded":q,"aria-haspopup":"listbox",...z,children:[e.jsx("span",{className:"truncate",children:(()=>{if(!u)return x;if(p){const e=c.filter(e=>u.includes(e.value));return 0===e.length?x:1===e.length?e[0].label:`${e.length} items selected`}const e=c.find(e=>e.value===u);return e?e.label:x})()}),e.jsxs("div",{className:"flex items-center gap-1",children:[w&&e.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),N&&A&&!w&&e.jsx(l,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:e=>{e.stopPropagation(),S?.(p?[]:"")},children:e.jsx(o,{className:"h-3 w-3"})}),e.jsx(n,{className:s("h-4 w-4 transition-transform",q&&"rotate-180")})]})]}),e.jsxs("select",{name:C,value:u||"",onChange:()=>{},className:"sr-only",tabIndex:-1,multiple:p,required:f,children:[e.jsx("option",{value:"",children:"Select..."}),c.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))]}),q&&e.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white text-black border border-border rounded-md shadow-md",children:[j&&e.jsx("div",{className:"p-2 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(i,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(r,{placeholder:"Search options...",value:I,onChange:e=>{M(e.target.value)},className:"pl-8"})]})}),e.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:0===V.length?e.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:I?"No options found":"No options available"}):V.map(t=>e.jsxs("div",{className:s("relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",$(t.value)&&"bg-primary text-primary-foreground",t.disabled&&"pointer-events-none opacity-50"),onClick:()=>!t.disabled&&(e=>{if(p){const s=u||[],t=s.includes(e.value)?s.filter(s=>s!==e.value):[...s,e.value];S?.(t)}else S?.(e.value),B(!1),k?.(!1)})(t),children:[e.jsx("span",{className:"flex-1",children:t.label}),p&&$(t.value)&&e.jsx(d,{className:"h-4 w-4"}),t.description&&e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:t.description})]},t.value))})]})]}),b&&!g&&e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b}),g&&e.jsx("p",{className:"text-sm text-destructive mt-1",children:g})]})});c.displayName="Select";export{c as S};
//# sourceMappingURL=Select-Ba8ifliZ.js.map
