import{Q as e,V as r,r as s,j as t}from"./react-vendor-veQMdy8Q.js";import{m as o}from"./index-Ch9xuoCy.js";import"./vendor-COg1wW2x.js";import"./ai-vendor-D2oz74m-.js";import"./ui-vendor-zTucAtCH.js";import"./advanced-analytics-BnJTTEAv.js";import"./utils-vendor-DUg4_aAP.js";import"./charts-vendor-YB5D2y8T.js";import"./data-vendor-DpIj8wd6.js";import"./state-vendor-DFlCI_nm.js";function n(){const n=e(),a=r(),[i,l]=s.useState([]),[d,c]=s.useState(!1),m=s.useMemo(()=>({VITE_APP_ENV:"production",VITE_ENABLE_ANALYTICS:"true",VITE_ENABLE_ERROR_REPORTING:"true",VITE_PERFORMANCE_MONITORING:"true",VITE_GA_TRACKING_ID:"your_google_analytics_id_here",VITE_HOTJAR_ID:"your_hotjar_id_here",VITE_SENTRY_DSN:Boolean("your_sentry_dsn_here")?"SET":"MISSING"}),[]),h=s.useCallback(e=>{l(r=>[{ts:(new Date).toISOString(),msg:e},...r].slice(0,50))},[]),x=s.useCallback(()=>{const e=`/debug-path-${Date.now()}?from=monitoring-panel`;o.trackPageView(e),h(`Called monitoring.trackPageView('${e}')`)},[h]),N=s.useCallback(()=>{const e=`${a.pathname}?pv=${Date.now()}`;n(e,{replace:!1}),h(`Navigated to '${e}' to test SPA pageview`)},[a.pathname,n,h]),u=s.useCallback(()=>{try{throw new Error(`Sentry test error @ ${(new Date).toISOString()}`)}catch(e){o.trackError(e,"debug_panel_capture"),h("Sent error via monitoring.trackError(...)")}},[h]),j=s.useCallback(()=>{h("Setting crash flag to render CrashNow component..."),c(!0)},[h]),_=()=>{throw new Error("ErrorBoundary crash test from MonitoringDebugPanel (render phase)")};return t.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[d&&t.jsx(_,{}),t.jsx("h1",{className:"text-2xl font-semibold mb-2",children:"Monitoring Debug Panel"}),t.jsxs("p",{className:"text-sm text-neutral-600 mb-4",children:["Environment: ",t.jsx("span",{className:"font-mono",children:m.VITE_APP_ENV})]}),t.jsx("div",{className:"p-3 mb-4 rounded border border-yellow-300 bg-yellow-50 text-yellow-900",children:"This panel is visible in production. Actions are still allowed, but use with caution."}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 rounded border bg-white",children:[t.jsx("h2",{className:"font-medium mb-2",children:"Flags & IDs"}),t.jsxs("ul",{className:"text-sm space-y-1",children:[t.jsxs("li",{children:["VITE_ENABLE_ANALYTICS: ",t.jsx("b",{children:String(m.VITE_ENABLE_ANALYTICS)})]}),t.jsxs("li",{children:["VITE_ENABLE_ERROR_REPORTING: ",t.jsx("b",{children:String(m.VITE_ENABLE_ERROR_REPORTING)})]}),t.jsxs("li",{children:["VITE_PERFORMANCE_MONITORING: ",t.jsx("b",{children:String(m.VITE_PERFORMANCE_MONITORING)})]}),t.jsxs("li",{children:["GA_TRACKING_ID: ",t.jsx("b",{children:m.VITE_GA_TRACKING_ID||"MISSING"})]}),t.jsxs("li",{children:["HOTJAR_ID: ",t.jsx("b",{children:m.VITE_HOTJAR_ID||"MISSING"})]}),t.jsxs("li",{children:["SENTRY_DSN: ",t.jsx("b",{children:m.VITE_SENTRY_DSN})]})]})]}),t.jsxs("div",{className:"p-4 rounded border bg-white",children:[t.jsx("h2",{className:"font-medium mb-2",children:"Actions"}),t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",onClick:x,children:"Trigger GA/Hotjar pageview (manual)"}),t.jsx("button",{className:"px-3 py-2 rounded bg-indigo-600 text-white",onClick:N,children:"Navigate (SPA) to trigger route-based pageview"}),t.jsx("button",{className:"px-3 py-2 rounded bg-rose-600 text-white",onClick:u,children:"Capture Sentry error (non-crashing)"}),t.jsx("button",{className:"px-3 py-2 rounded bg-red-700 text-white",onClick:j,children:"Crash component to test ErrorBoundary"})]})]})]}),t.jsxs("div",{className:"mt-6 p-4 rounded border bg-white",children:[t.jsx("h2",{className:"font-medium mb-2",children:"Logs"}),t.jsx("div",{className:"max-h-64 overflow-auto text-sm font-mono space-y-1",children:0===i.length?t.jsx("div",{className:"text-neutral-500",children:"No logs yet."}):i.map((e,r)=>t.jsxs("div",{children:["[",e.ts,"] ",e.msg]},r))})]}),t.jsxs("div",{className:"mt-6 text-sm text-neutral-600",children:["Tips:",t.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[t.jsx("li",{children:'Open DevTools Network tab and filter by "collect" to see GA hits.'}),t.jsxs("li",{children:["Look for WebSocket to ",t.jsx("code",{children:"wss://*.hotjar.com"})," and requests to ",t.jsx("code",{children:"in.hotjar.com"}),"."]}),t.jsx("li",{children:"Confirm Sentry events arrive in your project dashboard."})]})]})]})}export{n as default};
//# sourceMappingURL=MonitoringDebugPanel-Iw6XP4c5.js.map
