import{R as e,r as s,j as t,X as a,U as l,S as r,at as o}from"./react-vendor-BWiQdkVb.js";import{c as n}from"./index-Dc3K68ej.js";import{B as i}from"./Button-C0m44oek.js";import{I as c}from"./Input-BkAWvzgW.js";const d=e.forwardRef(({className:e,options:d=[],value:u,defaultValue:m,placeholder:x="Select an option",multiple:p=!1,disabled:h=!1,required:f=!1,label:v,description:b,error:g,searchable:j=!1,clearable:N=!1,loading:w=!1,id:y,name:C,onChange:S,onOpenChange:k,...z},L)=>{const[q,B]=s.useState(!1),[I,M]=s.useState(""),R=y||`select-${Math.random().toString(36).substr(2,9)}`,V=j&&I?d.filter(e=>e.label.toLowerCase().includes(I.toLowerCase())||e.value&&e.value.toString().toLowerCase().includes(I.toLowerCase())):d,$=e=>p?u?.includes(e)||!1:u===e,A=p?u?.length>0:void 0!==u&&""!==u;return t.jsxs("div",{className:n("relative",e),children:[v&&t.jsxs("label",{htmlFor:R,className:n("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2 block",g?"text-destructive":"text-foreground"),children:[v,f&&t.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("button",{ref:L,id:R,type:"button",className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white text-black px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",g&&"border-destructive focus:ring-destructive",!A&&"text-muted-foreground"),onClick:()=>{if(!h){const e=!q;B(e),k?.(e),e||M("")}},disabled:h,"aria-expanded":q,"aria-haspopup":"listbox",...z,children:[t.jsx("span",{className:"truncate",children:(()=>{if(!u)return x;if(p){const e=d.filter(e=>u.includes(e.value));return 0===e.length?x:1===e.length?e[0].label:`${e.length} items selected`}const e=d.find(e=>e.value===u);return e?e.label:x})()}),t.jsxs("div",{className:"flex items-center gap-1",children:[w&&t.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[t.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),t.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),N&&A&&!w&&t.jsx(i,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:e=>{e.stopPropagation(),S?.(p?[]:"")},children:t.jsx(a,{className:"h-3 w-3"})}),t.jsx(l,{className:n("h-4 w-4 transition-transform",q&&"rotate-180")})]})]}),t.jsxs("select",{name:C,value:u||"",onChange:()=>{},className:"sr-only",tabIndex:-1,multiple:p,required:f,children:[t.jsx("option",{value:"",children:"Select..."}),d.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))]}),q&&t.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white text-black border border-border rounded-md shadow-md",children:[j&&t.jsx("div",{className:"p-2 border-b",children:t.jsxs("div",{className:"relative",children:[t.jsx(r,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(c,{placeholder:"Search options...",value:I,onChange:e=>{M(e.target.value)},className:"pl-8"})]})}),t.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:0===V.length?t.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:I?"No options found":"No options available"}):V.map(e=>t.jsxs("div",{className:n("relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",$(e.value)&&"bg-primary text-primary-foreground",e.disabled&&"pointer-events-none opacity-50"),onClick:()=>!e.disabled&&(e=>{if(p){const s=u||[],t=s.includes(e.value)?s.filter(s=>s!==e.value):[...s,e.value];S?.(t)}else S?.(e.value),B(!1),k?.(!1)})(e),children:[t.jsx("span",{className:"flex-1",children:e.label}),p&&$(e.value)&&t.jsx(o,{className:"h-4 w-4"}),e.description&&t.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:e.description})]},e.value))})]})]}),b&&!g&&t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:b}),g&&t.jsx("p",{className:"text-sm text-destructive mt-1",children:g})]})});d.displayName="Select";export{d as S};
//# sourceMappingURL=Select-TUHkO3ep.js.map
