import{r as e,j as t,d as s,X as a,a4 as n,m as r,at as l,$ as i,l as c,_ as o,a6 as d,Y as u,T as m,R as x}from"./react-core-CeHLCIBw.js";import"./Progress-CxBKD08g.js";import{c as g,C as p}from"./advanced-analytics-y00dU25g.js";import{F as h,C as b}from"./index-DIi-LZuZ.js";import"./businessIntelligenceService-sNUkhNJh.js";import"./index-DdNfTkp9.js";import"./vendor-D2fsnhsW.js";import"./ai-vendor-CuiosWbE.js";import"./ui-vendor-B5RWaOCb.js";import"./react-dom-B6lyId6m.js";import"./utils-vendor-DUg4_aAP.js";import"./recharts-vendor-DQPXk1vH.js";import"./d3-vendor-DOBQrAlH.js";import"./data-vendor-vzM7rUwp.js";import"./react-router-D-l5j9EF.js";import"./state-vendor-ClT9_nJX.js";const f=({value:i,onChange:c,onSave:o,onCancel:d,className:u,type:m="currency",placeholder:x="0.00",isFormula:p=!1,isEditing:h=!1,onEdit:b,disabled:f=!1,loading:v=!1,error:j,locale:N="en-US",currency:y="USD",decimals:w=2,allowNegative:C=!0,min:D,max:F,autoFocus:z=!0,showEditIcon:I=!0,variant:k="default",...S})=>{const[V,E]=e.useState(""),[$,R]=e.useState(""),[U,M]=e.useState(!1),P=e.useRef(null),L=e=>{if(!e&&0!==e)return"—";const t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"—";switch(m){case"currency":{const e=new Intl.NumberFormat(N,{style:"currency",currency:y,minimumFractionDigits:w,maximumFractionDigits:w}).format(t),s=Math.abs(t);return s>=1e6?new Intl.NumberFormat(N,{minimumFractionDigits:1,maximumFractionDigits:1}).format(t/1e6)+"M":s>=1e3?new Intl.NumberFormat(N,{minimumFractionDigits:0,maximumFractionDigits:0}).format(t):e.replace(/\.00$/,"")}case"percentage":return new Intl.NumberFormat(N,{style:"percent",minimumFractionDigits:w,maximumFractionDigits:w}).format(t/100);case"number":return new Intl.NumberFormat(N,{minimumFractionDigits:w,maximumFractionDigits:w}).format(t);default:return e?.toString()||""}},A=e=>{if(!e)return 0;const t=e.replace(/[^\d.-]/g,"").replace(/,/g,""),s=parseFloat(t);return isNaN(s)?0:s},T=()=>{f||p||(E(i?i.toString():""),R(""),b&&b(!0))},G=()=>{const e="text"===m?V:A(V);(e=>{const t="text"===m?e:A(e);return!("text"!==m&&(!C&&t<0?(R("Negative values are not allowed"),1):void 0!==D&&t<D?(R(`Value must be at least ${L(D)}`),1):void 0!==F&&t>F?(R(`Value must not exceed ${L(F)}`),1):(R(""),0)))})(V)&&(c&&c(e),o&&o(e),b&&b(!1))},J=()=>{E(""),R(""),d&&d(),b&&b(!1)};e.useEffect(()=>{h&&P.current&&z&&(P.current.focus(),P.current.select())},[h,z]);const Y=(()=>{switch(k){case"adjusted":return{container:"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200",text:p?"text-amber-900":"text-slate-700",hover:"hover:bg-amber-100 hover:border-amber-300",input:"border-amber-400 focus:ring-amber-100 focus:border-amber-500",editIcon:"text-amber-500"};case"formula":return{container:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",text:"text-blue-900",hover:"cursor-not-allowed",input:"border-blue-400 focus:ring-blue-100 focus:border-blue-500",editIcon:"text-blue-500"};default:return{container:"bg-background border-transparent",text:p?"text-blue-900":"text-slate-700",hover:"hover:bg-slate-50 hover:border-slate-200",input:"border-input focus:ring-ring focus:border-ring",editIcon:"text-slate-400"}}})();return h?t.jsxs("div",{className:"relative",children:[t.jsx("input",{ref:P,type:"text",value:V,onChange:e=>{const t=e.target.value;"text"!==m?((C?/^-?\d*\.?\d*$/:/^\d*\.?\d*$/).test(t)||""===t)&&E(t):E(t)},onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),G()):"Escape"===e.key?(e.preventDefault(),J()):"Tab"===e.key&&(e.preventDefault(),G())},placeholder:x,disabled:v,className:g("w-full px-3 py-2.5 bg-white border-2 rounded-lg text-slate-900 text-right font-mono text-sm","focus:outline-none focus:ring-4 shadow-lg transition-all duration-200",Y.input,v&&"animate-pulse",$&&"border-destructive focus:ring-destructive/20",u)}),t.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[t.jsx("button",{onClick:G,disabled:v||!!$,className:g("w-5 h-5 bg-success hover:bg-success/90 text-white rounded-full","flex items-center justify-center text-xs transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Save changes",children:t.jsx(s,{size:12})}),t.jsx("button",{onClick:J,disabled:v,className:g("w-5 h-5 bg-destructive hover:bg-destructive/90 text-white rounded-full","flex items-center justify-center text-xs transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Cancel changes",children:t.jsx(a,{size:12})})]}),v&&t.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2",children:t.jsx("div",{className:"w-3 h-3 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),$&&t.jsxs("div",{className:"absolute -bottom-6 left-0 right-0 text-xs text-destructive flex items-center gap-1",children:[t.jsx(n,{size:10}),$]})]}):t.jsxs("div",{role:"button",tabIndex:0,onClick:T,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),T())},onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1),className:g("px-3 py-2.5 rounded-lg font-mono text-sm transition-all duration-200","min-h-[40px] flex items-center justify-end relative group",Y.container,!f&&!p&&Y.hover,!f&&!p&&"cursor-pointer",p&&"font-semibold shadow-sm",f&&"opacity-50 cursor-not-allowed",j&&"border-destructive",u),children:[t.jsx("span",{className:Y.text,children:L(i)}),p&&t.jsx(r,{size:12,className:"ml-2 text-blue-500/80"}),!p&&!f&&I&&t.jsx(l,{size:12,className:g("ml-2 transition-opacity",U?"opacity-60":"opacity-0",Y.editIcon)}),j&&t.jsx(n,{size:12,className:"ml-2 text-destructive"}),v&&t.jsx("div",{className:"ml-2",children:t.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin opacity-50"})})]})},v=({type:e="default",size:s="default",message:a,className:n,showIcon:l=!0,variant:d="default",...u})=>{const m=(()=>{switch(e){case"calculation":default:return r;case"financial":return o;case"trend":return c;case"percentage":return i}})(),x={sm:{spinner:"w-3 h-3 border",icon:12,text:"text-xs",gap:"gap-1",padding:"p-1"},default:{spinner:"w-4 h-4 border-2",icon:16,text:"text-sm",gap:"gap-2",padding:"p-2"},lg:{spinner:"w-6 h-6 border-2",icon:20,text:"text-base",gap:"gap-3",padding:"p-3"}}[s],p={default:"text-muted-foreground",subtle:"text-muted-foreground/70",pulsing:"text-muted-foreground animate-pulse"};if("inline"===e)return t.jsxs("div",{className:g("flex items-center justify-center",x.gap,n),...u,children:[t.jsx("div",{className:g(x.spinner,"border-muted-foreground border-t-transparent rounded-full animate-spin",p[d])}),a&&t.jsx("span",{className:g(x.text,p[d]),children:a})]});const h=a||{calculation:"Calculating...",financial:"Processing financial data...",trend:"Analyzing trends...",percentage:"Computing percentages...",default:"Loading..."}[e];return t.jsxs("div",{className:g("flex flex-col items-center justify-center",x.padding,x.gap,"bg-muted/30 rounded-lg border border-dashed border-muted-foreground/30",n),...u,children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:g(x.spinner,"border-muted-foreground border-t-transparent rounded-full animate-spin",p[d])}),l&&t.jsx(m,{size:x.icon,className:g("animate-pulse",p[d])})]}),h&&t.jsx("p",{className:g(x.text,"font-medium text-center",p[d]),children:h})]})},j=({width:e="w-20",height:s="h-6",className:a,variant:n="default",...r})=>t.jsx("div",{className:g("animate-pulse rounded-md",e,s,{default:"bg-muted",currency:"bg-emerald-100",percentage:"bg-blue-100"}[n],a),...r}),N=({size:e="default",className:s,variant:a="default",...n})=>{const r={sm:"w-1 h-1",default:"w-1.5 h-1.5",lg:"w-2 h-2"},l={default:"bg-muted-foreground",primary:"bg-primary",success:"bg-success",warning:"bg-warning"};return t.jsx("div",{className:g("flex items-center gap-1",s),...n,children:[0,1,2].map(s=>t.jsx("div",{className:g("rounded-full animate-pulse",r[e],l[a]),style:{animationDelay:.2*s+"s",animationDuration:"1.4s"}},s))})},y=({type:e="error",message:s,className:r,size:l="default",variant:i="default",showIcon:c=!0,dismissible:o=!1,onDismiss:x,position:p="bottom",children:h,...b})=>{const f={error:n,warning:m,success:u,info:d}[e],v={sm:{text:"text-xs",icon:12,padding:"p-2",gap:"gap-1"},default:{text:"text-sm",icon:14,padding:"p-3",gap:"gap-2"},lg:{text:"text-base",icon:16,padding:"p-4",gap:"gap-3"}}[l],j={error:{bg:"bg-destructive/10",border:"border-destructive/20",text:"text-destructive",icon:"text-destructive"},warning:{bg:"bg-warning/10",border:"border-warning/20",text:"text-warning-foreground",icon:"text-warning"},success:{bg:"bg-success/10",border:"border-success/20",text:"text-success-foreground",icon:"text-success"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-500"}}[e];return s||h?t.jsxs("div",{className:g("flex items-start",v.gap,v.padding,j.bg,j.border,(()=>{switch(i){case"inline":return"flex items-center";case"floating":return g("absolute z-50 shadow-lg rounded-lg","top"===p&&"bottom-full mb-2","bottom"===p&&"top-full mt-2","left"===p&&"right-full mr-2","right"===p&&"left-full ml-2");case"subtle":return"border-0 bg-transparent";default:return"rounded-lg border"}})(),r),...b,children:[c&&f&&t.jsx(f,{size:v.icon,className:g("flex-shrink-0 mt-0.5",j.icon)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[s&&t.jsx("p",{className:g(v.text,j.text,"font-medium"),children:s}),h&&t.jsx("div",{className:g(v.text,j.text),children:h})]}),o&&x&&t.jsx("button",{onClick:x,className:g("flex-shrink-0 ml-2 p-1 rounded-full hover:bg-black/10 transition-colors",j.text),"aria-label":"Dismiss",children:t.jsx(a,{size:v.icon})})]}):null},w=({error:e,warning:s,success:a,info:n,className:r,...l})=>{let i,c;if(e)i="error",c=e;else if(s)i="warning",c=s;else if(a)i="success",c=a;else{if(!n)return null;i="info",c=n}return t.jsx(y,{type:i,message:c,size:"sm",variant:"inline",className:r,...l})},C=({items:e=[],className:s,showNumbers:a=!1,...n})=>e.length?t.jsx("div",{className:g("space-y-2",s),...n,children:e.map((e,s)=>t.jsx(y,{type:e.type||"error",message:a?`${s+1}. ${e.message}`:e.message,size:"sm",variant:"inline"},s))}):null,D=({errors:e=[],warnings:s=[],className:a,title:n="Please fix the following issues:",collapsible:r=!1,...l})=>{const[i,c]=x.useState(r),o=e.length+s.length;if(0===o)return null;const d=[...e.map(e=>({type:"error",message:e})),...s.map(e=>({type:"warning",message:e}))];return t.jsxs("div",{className:g("space-y-3",a),...l,children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"text-sm font-semibold text-foreground",children:n}),r&&t.jsx("button",{onClick:()=>c(!i),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:i?`Show ${o} issues`:"Hide"})]}),!i&&t.jsx(C,{items:d,showNumbers:!0}),i&&t.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.length>0&&`${e.length} error${e.length>1?"s":""}`,e.length>0&&s.length>0&&", ",s.length>0&&`${s.length} warning${s.length>1?"s":""}`]})]})},F=()=>{const[s,a]=e.useState({revenue:125e4,expenses:85e4,growth:12.5,margin:32.1,editableValue:45e4,currency:24e5}),[n,l]=e.useState({calculation:!1,validation:!1}),[i,d]=e.useState([]),[u,m]=e.useState(!1),x=e=>t=>{a(s=>({...s,[e]:t}))};return t.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[t.jsxs("div",{className:"text-center space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-center gap-3",children:[t.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:t.jsx(r,{className:"w-8 h-8 text-blue-600"})}),t.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Enhanced Financial Input Components"})]}),t.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Professional financial input components with smart formatting, validation, and seamless user experience"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[t.jsxs(p,{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(o,{className:"w-5 h-5 text-emerald-600"}),t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"FinancialInput Component"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(h,{label:"Annual Revenue",value:s.revenue,onChange:x("revenue"),type:"currency",currency:"USD",description:"Enter the company's annual revenue",required:!0,onValidation:(e,t)=>{}}),t.jsx(h,{label:"Operating Expenses",value:s.expenses,onChange:x("expenses"),type:"currency",currency:"USD",error:s.expenses>s.revenue?"Expenses cannot exceed revenue":null}),t.jsx(h,{label:"Growth Rate",value:s.growth,onChange:x("growth"),type:"percentage",suffix:"%",decimals:1,description:"Year-over-year growth percentage"}),t.jsx(h,{label:"Profit Margin",value:s.margin,onChange:x("margin"),type:"number",suffix:"%",decimals:2,min:0,max:100,loading:n.validation})]})]}),t.jsxs(p,{className:"p-6 space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(c,{className:"w-5 h-5 text-blue-600"}),t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"CurrencyInput Component"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(b,{label:"Market Valuation",value:s.currency,onChange:x("currency"),currency:"USD",abbreviateDisplay:!0,showTrend:!0,previousValue:21e5,description:"Company market valuation with trend indicator"}),t.jsx(b,{label:"Investment Amount (EUR)",value:85e4,onChange:e=>{},currency:"EUR",locale:"de-DE",size:"lg"}),t.jsx(b,{label:"Small Investment",value:25e3,onChange:e=>{},currency:"USD",size:"sm",variant:"filled"}),t.jsx(b,{label:"Japanese Investment",value:15e6,onChange:e=>{},currency:"JPY",locale:"ja-JP",abbreviateDisplay:!0})]})]}),t.jsxs(p,{className:"p-6 space-y-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"EditableCell Component"}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Account"}),t.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Current"}),t.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Adjusted"}),t.jsx("div",{className:"text-sm text-slate-700",children:"Revenue"}),t.jsx(f,{value:s.editableValue,onChange:x("editableValue"),type:"currency",isEditing:u,onEdit:m,variant:"default"}),t.jsx(f,{value:1.15*s.editableValue,onChange:e=>{},type:"currency",variant:"adjusted"}),t.jsx("div",{className:"text-sm text-slate-700",children:"Growth Rate"}),t.jsx(f,{value:15.5,onChange:e=>{},type:"percentage"}),t.jsx(f,{value:18.2,onChange:e=>{},type:"percentage",variant:"adjusted"}),t.jsx("div",{className:"text-sm text-slate-700",children:"Calculated"}),t.jsx(f,{value:.25*s.editableValue,isFormula:!0,variant:"formula"}),t.jsx(f,{value:1.15*s.editableValue*.25,isFormula:!0,variant:"formula"})]})})]}),t.jsxs(p,{className:"p-6 space-y-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Loading States"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsx(v,{type:"calculation",message:"Calculating DCF...",size:"default"}),t.jsx(v,{type:"financial",message:"Processing data...",size:"default",variant:"subtle"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Inline Loading States"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(v,{type:"inline",message:"Loading...",size:"sm"}),t.jsx(N,{size:"default",variant:"primary"}),t.jsx(j,{width:"w-24",height:"h-4",variant:"currency"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Interactive Loading Demo"}),t.jsx("button",{onClick:()=>{l(e=>({...e,calculation:!0})),setTimeout(()=>{l(e=>({...e,calculation:!1}))},2e3)},disabled:n.calculation,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:n.calculation?"Calculating...":"Run Calculation"}),n.calculation&&t.jsx(v,{type:"calculation",message:"Computing financial metrics...",size:"sm",variant:"pulsing"})]})]})]}),t.jsxs(p,{className:"p-6 space-y-6 lg:col-span-2",children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Validation & Feedback"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Individual Validation Messages"}),t.jsx(y,{type:"error",message:"Revenue cannot be negative",size:"default"}),t.jsx(y,{type:"warning",message:"Growth rate seems unusually high",size:"default"}),t.jsx(y,{type:"success",message:"All financial metrics are within expected ranges",size:"default"}),t.jsx(y,{type:"info",message:"Consider adjusting the discount rate based on market conditions",size:"default"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Field Validation"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{htmlFor:"test-validation",className:"text-sm font-medium text-slate-700",children:"Test Validation"}),t.jsx("input",{id:"test-validation",type:"number",value:-50,onChange:e=>(e=>{const t=[];e<0&&t.push("Value must be at least 0"),e>1e3&&t.push("Value must not exceed 1000"),d(t)})(parseFloat(e.target.value)),className:"w-full px-3 py-2 border border-input rounded-lg"}),t.jsx(w,{error:i.length>0?i[0]:null,info:0===i.length?"Value is within acceptable range":null})]}),t.jsx(D,{errors:["Operating expenses exceed revenue","Growth rate must be between 0% and 100%"],warnings:["Margin seems low for this industry","Consider reviewing the assumptions"],collapsible:!0})]})]})]})]}),t.jsxs(p,{className:"p-6",children:[t.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Quick Usage Examples"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Basic Currency Input"}),t.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<CurrencyInput\n  value={1000000}\n  onChange={setValue}\n  currency="USD"\n  label="Revenue"\n/>'})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Editable Table Cell"}),t.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<EditableCell\n  value={value}\n  onChange={onChange}\n  type="currency"\n  variant="adjusted"\n/>'})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Validation Feedback"}),t.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<FieldValidation\n  error="Invalid input"\n  warning="Check value"\n  success="Valid input"\n/>'})]})]})]})]})})};export{F as default};
//# sourceMappingURL=FinancialInputsDemo-BTFX2xOf.js.map
