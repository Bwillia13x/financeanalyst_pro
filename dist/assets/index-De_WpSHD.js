const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/charts-vendor-YB5D2y8T.js","assets/vendor-COg1wW2x.js","assets/react-vendor-veQMdy8Q.js","assets/ai-vendor-D2oz74m-.js","assets/ui-vendor-zTucAtCH.js","assets/advanced-analytics-BnJTTEAv.js","assets/utils-vendor-DUg4_aAP.js","assets/ai-vendor-dWvorFxs.css"])))=>i.map(i=>d[i]);
import{R as e,j as s,d as r,aq as t,r as a,ab as l,n as i,a6 as n,a5 as o,m as d,ao as c}from"./react-vendor-veQMdy8Q.js";import{c as m,C as u,a as x,b as h,d as f}from"./advanced-analytics-BnJTTEAv.js";import{_ as p,t as g,u as v}from"./index-Ch9xuoCy.js";import{ResponsiveContainer as j,BarChart as b,XAxis as N,YAxis as y,ReferenceLine as w,Bar as k,PieChart as F,Pie as S,Cell as C,LineChart as $,Line as D,Dot as z}from"./charts-vendor-YB5D2y8T.js";e.forwardRef(({className:e,id:a,checked:l,indeterminate:i=!1,disabled:n=!1,required:o=!1,label:d,description:c,error:u,size:x="default",...h},f)=>{const p=a||`checkbox-${Math.random().toString(36).substr(2,9)}`;return s.jsxs("div",{className:m("flex items-start space-x-2",e),children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("input",{type:"checkbox",ref:f,id:p,checked:l,disabled:n,required:o,className:"sr-only",...h}),s.jsxs("label",{htmlFor:p,className:m("peer shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground cursor-pointer transition-colors",{sm:"h-4 w-4",default:"h-4 w-4",lg:"h-5 w-5"}[x],l&&"bg-primary text-primary-foreground border-primary",i&&"bg-primary text-primary-foreground border-primary",u&&"border-destructive",n&&"cursor-not-allowed opacity-50"),children:[l&&!i&&s.jsx(r,{className:"h-3 w-3 text-current flex items-center justify-center"}),i&&s.jsx(t,{className:"h-3 w-3 text-current flex items-center justify-center"})]})]}),(d||c||u)&&s.jsxs("div",{className:"flex-1 space-y-1",children:[d&&s.jsxs("label",{htmlFor:p,className:m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",u?"text-destructive":"text-foreground"),children:[d,o&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),c&&!u&&s.jsx("p",{className:"text-sm text-muted-foreground",children:c}),u&&s.jsx("p",{className:"text-sm text-destructive",children:u})]})]})}).displayName="Checkbox";e.forwardRef(({className:e,children:r,label:t,description:a,error:l,required:i=!1,disabled:n=!1,...o},d)=>s.jsxs("fieldset",{ref:d,disabled:n,className:m("space-y-3",e),...o,children:[t&&s.jsxs("legend",{className:m("text-sm font-medium",l?"text-destructive":"text-foreground"),children:[t,i&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),a&&!l&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a}),s.jsx("div",{className:"space-y-2",children:r}),l&&s.jsx("p",{className:"text-sm text-destructive",children:l})]})).displayName="CheckboxGroup",a.lazy(()=>p(()=>import("./charts-vendor-YB5D2y8T.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:({data:r,...t})=>{const{BarChart:a,Bar:l,XAxis:i,YAxis:n,CartesianGrid:o,Tooltip:d,ResponsiveContainer:c}=e;return s.jsx(c,{width:"100%",height:"100%",children:s.jsxs(a,{data:r,...t,children:[s.jsx(o,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),s.jsx(i,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(n,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(d,{contentStyle:{backgroundColor:"var(--color-popover)",border:"1px solid var(--color-border)",borderRadius:"8px"}}),s.jsx(l,{dataKey:"value",fill:"var(--color-primary)",radius:[2,2,0,0]})]})})}}))),a.lazy(()=>p(()=>import("./charts-vendor-YB5D2y8T.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:({data:r,...t})=>{const{ScatterChart:a,Scatter:l,XAxis:i,YAxis:n,CartesianGrid:o,Tooltip:d,ResponsiveContainer:c}=e;return s.jsx(c,{width:"100%",height:"100%",children:s.jsxs(a,{data:r,...t,children:[s.jsx(o,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),s.jsx(i,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(n,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(d,{contentStyle:{backgroundColor:"var(--color-popover)",border:"1px solid var(--color-border)",borderRadius:"8px"}}),s.jsx(l,{dataKey:"value",fill:"var(--color-primary)"})]})})}}))),a.lazy(()=>p(()=>import("./charts-vendor-YB5D2y8T.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(e=>({default:({data:r,...t})=>{const{AreaChart:a,Area:l,XAxis:i,YAxis:n,CartesianGrid:o,Tooltip:d,ResponsiveContainer:c}=e;return s.jsx(c,{width:"100%",height:"100%",children:s.jsxs(a,{data:r,...t,children:[s.jsx(o,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),s.jsx(i,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(n,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(d,{contentStyle:{backgroundColor:"var(--color-popover)",border:"1px solid var(--color-border)",borderRadius:"8px"}}),s.jsx(l,{dataKey:"value",fill:"var(--color-primary)",stroke:"var(--color-primary)"})]})})}})));const E=e.forwardRef(({className:e,label:r,value:t,onChange:d,onBlur:c,placeholder:u="0.00",type:x="currency",prefix:h,suffix:f,locale:p="en-US",currency:g="USD",error:v,description:j,required:b=!1,disabled:N=!1,loading:y=!1,decimals:w=2,allowNegative:k=!0,id:F,autoFocus:S=!1,onValidation:C,min:$,max:D,...z},E)=>{const[L,M]=a.useState(""),[R,T]=a.useState(!1),[A,V]=a.useState(!0),_=a.useRef(null),I=E||_,K=F||`financial-input-${Math.random().toString(36).substr(2,9)}`,P=e=>{if(!e&&0!==e)return"";const s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"";switch(x){case"currency":return new Intl.NumberFormat(p,{style:"currency",currency:g,minimumFractionDigits:w,maximumFractionDigits:w}).format(s);case"percentage":return new Intl.NumberFormat(p,{style:"percent",minimumFractionDigits:w,maximumFractionDigits:w}).format(s/100);default:return new Intl.NumberFormat(p,{minimumFractionDigits:w,maximumFractionDigits:w}).format(s)}},B=e=>{if(!e)return 0;const s=e.replace(/[^\d.-]/g,"").replace(/,/g,""),r=parseFloat(s);return isNaN(r)?0:r};a.useEffect(()=>{R||M(P(t))},[t,x,g,p,w,R]);return a.useEffect(()=>{S&&I.current&&I.current.focus()},[S]),s.jsxs("div",{className:"space-y-2",children:[r&&s.jsxs("label",{htmlFor:K,className:m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",v&&!A?"text-destructive":"text-foreground"),children:[r,b&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none z-10",children:[(()=>{switch(x){case"currency":return s.jsx(o,{size:16,className:"text-muted-foreground"});case"percentage":return s.jsx(n,{size:16,className:"text-muted-foreground"});default:return s.jsx(i,{size:16,className:"text-muted-foreground"})}})(),h&&s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:h})]}),s.jsx("input",{ref:I,id:K,type:"text",value:L,onChange:e=>{const s=e.target.value;((k?/^-?\d*\.?\d*$/:/^\d*\.?\d*$/).test(s)||""===s)&&M(s)},onFocus:e=>{T(!0);const s=t?t.toString():"";M(s),setTimeout(()=>{I.current&&I.current.select()},0)},onBlur:e=>{T(!1);const s=B(L);(e=>{const s="string"==typeof e?B(e):e;let r=!0,t="";b&&!s&&0!==s?(r=!1,t="This field is required"):!k&&s<0?(r=!1,t="Negative values are not allowed"):void 0!==$&&s<$?(r=!1,t=`Value must be at least ${P($)}`):void 0!==D&&s>D&&(r=!1,t=`Value must not exceed ${P(D)}`),V(r),C&&C(r,t)})(s),M(P(s)),d&&d(s),c&&c(e)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),I.current?.blur())},placeholder:u,disabled:N||y,className:m("flex h-11 w-full rounded-lg border bg-background text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200","pl-10 pr-4",f&&"pr-16","font-mono text-right","border-input hover:border-ring/50",R&&"ring-2 ring-ring ring-offset-2 border-ring",v&&!A&&"border-destructive focus-visible:ring-destructive",y&&"animate-pulse",e),...z}),f&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:f})}),y&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),v&&!A&&!y&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(l,{size:16,className:"text-destructive"})})]}),j&&!v&&!A&&s.jsx("p",{className:"text-sm text-muted-foreground",children:j}),(v||!A)&&s.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[s.jsx(l,{size:14}),v||"Invalid input"]})]})});E.displayName="FinancialInput";const L={USD:{symbol:"$",code:"USD",decimals:2,name:"US Dollar"},EUR:{symbol:"€",code:"EUR",decimals:2,name:"Euro"},GBP:{symbol:"£",code:"GBP",decimals:2,name:"British Pound"},JPY:{symbol:"¥",code:"JPY",decimals:0,name:"Japanese Yen"},CAD:{symbol:"C$",code:"CAD",decimals:2,name:"Canadian Dollar"},AUD:{symbol:"A$",code:"AUD",decimals:2,name:"Australian Dollar"},CHF:{symbol:"CHF",code:"CHF",decimals:2,name:"Swiss Franc"},CNY:{symbol:"¥",code:"CNY",decimals:2,name:"Chinese Yuan"}},M=e.forwardRef(({className:e,label:r,value:t=0,onChange:i,onBlur:n,placeholder:u,currency:x="USD",locale:h="en-US",error:f,description:p,required:g=!1,disabled:v=!1,loading:j=!1,allowNegative:b=!0,showCurrency:N=!0,showTrend:y=!1,previousValue:w,size:k="default",variant:F="default",id:S,autoFocus:C=!1,onValidation:$,min:D,max:z,step:E=.01,abbreviateDisplay:M=!1,precision:R,...T},A)=>{const[V,_]=a.useState(""),[I,K]=a.useState(!1),[P,B]=a.useState(!0),[U,Y]=a.useState(""),G=a.useRef(null),O=A||G,q=S||`currency-input-${Math.random().toString(36).substr(2,9)}`,W=L[x]||L.USD,X=void 0!==R?R:W.decimals,H=a.useMemo(()=>{if(u)return u;return J(0)},[u,x,X]);function J(e,s={}){if(!e&&0!==e)return"";const r="string"==typeof e?parseFloat(e):e;if(isNaN(r))return"";const{abbreviated:t=!1}=s;if(t&&M&&Math.abs(r)>=1e3){const e=Math.abs(r),s=r<0?"-":"";if(e>=1e9)return`${s}${W.symbol}${(e/1e9).toFixed(1)}B`;if(e>=1e6)return`${s}${W.symbol}${(e/1e6).toFixed(1)}M`;if(e>=1e3)return`${s}${W.symbol}${(e/1e3).toFixed(0)}K`}try{return new Intl.NumberFormat(h,{style:"currency",currency:x,minimumFractionDigits:X,maximumFractionDigits:X}).format(r)}catch{const e=r.toFixed(X);return`${W.symbol}${e}`}}function Q(e){if(!e)return 0;const s=e.toString().toLowerCase();let r=1;s.endsWith("k")?r=1e3:s.endsWith("m")?r=1e6:s.endsWith("b")&&(r=1e9);const t=e.toString().replace(/[^\d.-]/g,"").replace(/,/g,""),a=parseFloat(t)*r;return isNaN(a)?0:a}const Z=(()=>{if(!y||void 0===w)return null;const e="string"==typeof t?Q(t):t||0,s="string"==typeof w?Q(w):w||0;return e>s?"up":e<s?"down":"neutral"})();a.useEffect(()=>{I||_(J(t,{abbreviated:M}))},[t,x,h,X,I,M]);a.useEffect(()=>{C&&O.current&&O.current.focus()},[C]);return s.jsxs("div",{className:"space-y-2",children:[r&&s.jsxs("label",{htmlFor:q,className:m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",f||!P?"text-destructive":"text-foreground"),children:[r,g&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[N&&s.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1 pointer-events-none z-10",children:[s.jsx(o,{size:16,className:"text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:W.code})]}),s.jsx("input",{ref:O,id:q,type:"text",value:V,onChange:e=>{const s=e.target.value;((b?/^-?\d*\.?\d*[kmb]?$/i:/^\d*\.?\d*[kmb]?$/i).test(s)||""===s)&&_(s)},onFocus:e=>{K(!0);const s=t?t.toString():"";_(s),setTimeout(()=>{O.current&&O.current.select()},0)},onBlur:e=>{K(!1);const s=Q(V);(e=>{const s="string"==typeof e?Q(e):e;let r=!0,t="";g&&!s&&0!==s?(r=!1,t="This field is required"):!b&&s<0?(r=!1,t="Negative values are not allowed"):void 0!==D&&s<D?(r=!1,t=`Value must be at least ${J(D)}`):void 0!==z&&s>z&&(r=!1,t=`Value must not exceed ${J(z)}`),B(r),Y(t),$&&$(r,t)})(s),_(J(s,{abbreviated:M})),i&&i(s),n&&n(e)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),O.current?.blur())},placeholder:H,disabled:v||j,step:E,className:m("flex w-full rounded-lg border ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200",{sm:"h-9 px-3 text-sm",default:"h-11 px-4 text-sm",lg:"h-12 px-4 text-base"}[k],{default:"border-input bg-background hover:border-ring/50",filled:"border-transparent bg-muted hover:bg-muted/80",minimal:"border-transparent bg-transparent hover:bg-muted/50"}[F],"font-mono text-right",N?"pl-16":"pl-4","pr-4",Z&&"pr-8",I&&"ring-2 ring-ring ring-offset-2 border-ring",(f||!P)&&"border-destructive focus-visible:ring-destructive",j&&"animate-pulse",e),...T}),Z&&"neutral"!==Z&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:"up"===Z?s.jsx(d,{size:16,className:"text-success"}):s.jsx(c,{size:16,className:"text-destructive"})}),j&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),(f||!P)&&!j&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(l,{size:16,className:"text-destructive"})})]}),p&&!f&&P&&s.jsx("p",{className:"text-sm text-muted-foreground",children:p}),(f||!P)&&s.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[s.jsx(l,{size:14}),f||U]}),y&&void 0!==w&&"neutral"!==Z&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["up"===Z?s.jsx(d,{size:12,className:"text-success"}):s.jsx(c,{size:12,className:"text-destructive"}),"vs. previous: ",J(w)]})]})});M.displayName="CurrencyInput";const R=({children:e,fallback:r=null,componentName:t="unknown",threshold:l=.1,rootMargin:i="50px",preloadDelay:n=2e3,priority:o="normal",onLoad:d=null,onError:c=null,performanceTracking:m=!0})=>{const[u,x]=a.useState(!1),[h,f]=a.useState(!1),[p,v]=a.useState(null),[j,b]=a.useState(null),N=a.useRef(null),y=a.useRef(null),w=a.useRef(null);a.useEffect(()=>{if(!N.current)return;const e={threshold:l,rootMargin:i};return y.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(w.current=performance.now(),x(!0),y.current&&y.current.unobserve(e.target))})},e),y.current.observe(N.current),()=>{y.current&&y.current.disconnect(),j&&clearTimeout(j)}},[l,i,j]),a.useEffect(()=>{if("high"===o&&n>0){const e=setTimeout(()=>{w.current=performance.now(),x(!0)},n);b(e)}},[o,n]),a.useEffect(()=>{if(h&&w.current&&m){const e=performance.now()-w.current;g(t,{loadTime:e,priority:o,lazy:!0,timestamp:Date.now()}),d?.({componentName:t,loadTime:e})}},[h,t,o,m,d]);const k=s.jsx("div",{className:"animate-pulse bg-gray-100 rounded-lg p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}),F=s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-red-800",children:["Failed to load ",t]}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:p?.message||"An unexpected error occurred"})}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>{v(null),x(!1),setTimeout(()=>x(!0),100)},className:"text-sm font-medium text-red-800 hover:text-red-900",children:"Try again"})})]})]})});return s.jsx("div",{ref:N,className:"lazy-loader-container",children:u?p?F:s.jsx(a.Suspense,{fallback:r||k,children:s.jsx(T,{onError:e=>{v(e),c?.(e),m&&g(t,{loadError:e.message,priority:o,lazy:!0,timestamp:Date.now()})},onLoad:()=>{f(!0),v(null)},componentName:t,children:e})}):r||k})};class T extends e.Component{constructor(e,s){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.props.onError?.(e,s)}componentDidMount(){this.state.hasError||this.props.onLoad?.()}render(){return this.state.hasError?null:this.props.children}}const A=({title:e="Chart",height:r=320})=>s.jsxs("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-6",style:{height:r},children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})]})]}),s.jsxs("div",{className:"sr-only",children:["Loading ",e,"..."]})]}),V=(r,t,l={})=>{const i=e.forwardRef((e,i)=>{const{priority:n="normal",preloadDelay:o=2e3,height:d=320,title:c=t,...m}=e,{elementRef:u}=v("chart"),x=s.jsx(A,{title:c,height:d});return s.jsx("div",{ref:e=>{u(e),i&&("function"==typeof i?i(e):i.current=e)},children:s.jsx(R,{componentName:t,priority:n,preloadDelay:o,fallback:x,performanceTracking:!0,...l,children:s.jsx(a.Suspense,{fallback:x,children:s.jsx(r,{...m})})})})});return i.displayName=`LazyChart(${t})`,i},_=({title:e,value:r,change:a,format:l="number",prefix:i="",suffix:n="",className:o})=>{const x=a>0?d:a<0?c:t;return s.jsx(u,{className:m("relative overflow-hidden",o),children:s.jsxs(f,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),void 0!==a&&s.jsxs("div",{className:m("flex items-center gap-1",a>0?"text-success":a<0?"text-destructive":"text-muted-foreground"),children:[s.jsx(x,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-xs font-medium",children:[Math.abs(a).toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[i&&s.jsx("span",{className:"text-lg text-muted-foreground",children:i}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:(h=r,"currency"===l?`$${(h/1e6).toFixed(1)}M`:"percentage"===l?`${h.toFixed(1)}%`:"ratio"===l?h.toFixed(2):"large-number"===l?h>=1e9?`${(h/1e9).toFixed(1)}B`:h>=1e6?`${(h/1e6).toFixed(1)}M`:h>=1e3?`${(h/1e3).toFixed(1)}K`:h.toFixed(0):h.toLocaleString())}),n&&s.jsx("span",{className:"text-lg text-muted-foreground",children:n})]}),void 0!==a&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"vs. previous period"})]})});var h};V(({data:e=[],className:r,title:t="DCF Cash Flow Components",formatValue:a=e=>`$${(e/1e6).toFixed(1)}M`})=>{const l=e.reduce((e,s,r)=>{const t=0===r?0:e[r-1].cumulative,a=t+s.value;return e.push({...s,cumulative:a,start:t,isPositive:s.value>=0,isTotal:"total"===s.type}),e},[]),i=e=>{const{payload:r,x:t,y:a,width:l,height:i}=e;if(!r)return null;const n=r.isTotal?"var(--color-primary)":r.isPositive?"var(--color-secondary)":"var(--color-destructive)";return s.jsx("rect",{x:t,y:a,width:l,height:i,fill:n,className:"transition-opacity duration-200 hover:opacity-80"})},n=({active:e,payload:r,label:t})=>{if(!e||!r||!r.length)return null;const l=r[0].payload;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-elevation-1 p-3 min-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm text-foreground mb-1",children:l.label}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono font-medium",children:a(l.value)})]}),!l.isTotal&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cumulative: ",s.jsx("span",{className:"font-mono font-medium",children:a(l.cumulative)})]})]})};return s.jsxs(u,{className:m("w-full",r),children:[s.jsx(x,{className:"pb-4",children:s.jsx(h,{className:"text-lg font-semibold text-foreground",children:t})}),s.jsxs(f,{className:"pt-0",children:[s.jsx("div",{className:"h-80 w-full",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs(b,{data:l,margin:{top:20,right:30,left:20,bottom:60},children:[s.jsx(N,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"},angle:-45,textAnchor:"end",height:80}),s.jsx(y,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"},tickFormatter:a}),s.jsx(w,{y:0,stroke:"var(--color-border)",strokeWidth:1}),s.jsx(k,{dataKey:"value",shape:s.jsx(i,{}),radius:[2,2,0,0]}),s.jsx(n,{})]})})}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-secondary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Positive"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Negative"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]})]})]})]})},"dcf-waterfall",{priority:"high",preloadDelay:1e3}),V(({data:e=[],className:r,title:t="Revenue Breakdown",formatValue:l=e=>`$${(e/1e6).toFixed(1)}M`})=>{const[i,n]=a.useState(null),o=["var(--color-primary)","var(--color-secondary)","var(--color-accent)","var(--color-success)","var(--color-warning)","#64748b","#94a3b8","#cbd5e1"],d=e.reduce((e,s)=>e+s.value,0),c=e.map((e,s)=>({...e,percentage:(e.value/d*100).toFixed(1),color:o[s%o.length]})),p=({active:e,payload:r})=>{if(!e||!r||!r.length)return null;const t=r[0].payload;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-elevation-1 p-3 min-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm text-foreground mb-1",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono font-medium",children:l(t.value)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Share: ",s.jsxs("span",{className:"font-mono font-medium",children:[t.percentage,"%"]})]})]})};return s.jsxs(u,{className:m("w-full",r),children:[s.jsx(x,{className:"pb-4",children:s.jsx(h,{className:"text-lg font-semibold text-foreground",children:t})}),s.jsx(f,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[s.jsx("div",{className:"h-80 w-80 flex-shrink-0",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs(F,{children:[s.jsx(S,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",onMouseEnter:(e,s)=>{n(s)},onMouseLeave:()=>{n(null)},children:c.map((e,r)=>s.jsx(C,{fill:e.color,className:"transition-all duration-200",style:{filter:i===r?"brightness(1.1)":"none",transform:i===r?"scale(1.02)":"scale(1)",transformOrigin:"center"}},`cell-${r}`))}),s.jsx(p,{})]})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"space-y-3",children:c.map((e,r)=>s.jsxs("div",{className:m("flex items-center justify-between p-3 rounded-md transition-colors duration-200 cursor-pointer",i===r?"bg-muted":"hover:bg-gray-50"),onMouseEnter:()=>n(r),onMouseLeave:()=>n(null),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-sm text-foreground truncate",children:e.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.percentage,"% of total"]})]})]}),s.jsx("div",{className:"text-right flex-shrink-0",children:s.jsx("p",{className:"font-mono text-sm font-medium text-foreground",children:l(e.value)})})]},e.name))}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Total Revenue"}),s.jsx("span",{className:"font-mono text-lg font-bold text-primary",children:l(d)})]})})]})]})})]})},"revenue-breakdown",{priority:"normal",preloadDelay:1500}),V(({data:e=[],className:r,title:t="Growth Trend Analysis",dataKey:a="value",formatValue:l=e=>`${e.toFixed(1)}%`,showGrowthRate:i=!0})=>{const n=e.map((s,r)=>{if(0===r)return{...s,growth:null};const t=e[r-1][a],l=s[a],i=0!==t?(l-t)/t*100:0;return{...s,growth:i}}),o=e[0]?.[a]||0,d=e[e.length-1]?.[a]||0,c=0!==o?(d-o)/o*100:0,p=c>=0,g=e=>{const{payload:r,cx:t,cy:a}=e;return r?s.jsx(z,{cx:t,cy:a,r:4,fill:"var(--color-secondary)",className:"transition-all duration-200 hover:r-6"}):null},v=({active:e,payload:r,label:t})=>{if(!e||!r||!r.length)return null;const i=r[0].payload;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-elevation-1 p-3 min-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm text-foreground mb-1",children:i.name||i.label}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono font-medium",children:l(i[a])})]}),null!==i.growth&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Growth:"," ",s.jsxs("span",{className:m("font-mono font-medium",i.growth>=0?"text-success":"text-destructive"),children:[i.growth>=0?"+":"",i.growth.toFixed(1),"%"]})]})]})};return s.jsxs(u,{className:m("w-full",r),children:[s.jsx(x,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(h,{className:"text-lg font-semibold text-foreground",children:t}),i&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Growth"}),s.jsxs("p",{className:m("text-sm font-mono font-semibold",p?"text-success":"text-destructive"),children:[p?"+":"",c.toFixed(1),"%"]})]})]})}),s.jsxs(f,{className:"pt-0",children:[s.jsx("div",{className:"h-80 w-full",children:s.jsx(j,{width:"100%",height:"100%",children:s.jsxs($,{data:n,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(N,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"}}),s.jsx(y,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"},tickFormatter:l}),s.jsx(D,{type:"monotone",dataKey:a,stroke:"var(--color-secondary)",strokeWidth:3,dot:s.jsx(g,{}),activeDot:{r:6,fill:"var(--color-secondary)",stroke:"var(--color-background)",strokeWidth:2},className:"drop-shadow-sm"}),s.jsx(v,{})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Starting Value"}),s.jsx("p",{className:"font-mono text-sm font-medium text-foreground",children:l(o)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Value"}),s.jsx("p",{className:"font-mono text-sm font-medium text-foreground",children:l(d)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Net Change"}),s.jsxs("p",{className:m("font-mono text-sm font-medium",p?"text-success":"text-destructive"),children:[p?"+":"",c.toFixed(1),"%"]})]})]})]})]})},"trend-line",{priority:"normal",preloadDelay:2e3}),V(({data:e=[],xAxisLabels:r=[],yAxisLabels:t=[],className:l,title:i="Sensitivity Analysis",_formatValue:n=e=>`${e.toFixed(1)}%`,formatCell:o=e=>`${e>0?"+":""}${e.toFixed(1)}%`})=>{const[d,c]=a.useState(null),p=e.flat(),g=Math.min(...p),v=Math.max(...p)-g,j=({x:e,y:r,value:t,xLabel:a,yLabel:l})=>d?.x!==e||d?.y!==r?null:s.jsxs("div",{className:"absolute pointer-events-none z-10 bg-white border border-gray-200 rounded-md shadow-elevation-2 p-3 min-w-[180px]",style:{left:d.clientX+10,top:d.clientY-60},children:[s.jsxs("p",{className:"font-medium text-sm text-foreground mb-1",children:[l," × ",a]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Impact:"," ",s.jsx("span",{className:m("font-mono font-medium",t>0?"text-success":t<0?"text-destructive":"text-muted-foreground"),children:o(t)})]})]});return s.jsxs(u,{className:m("w-full",l),children:[s.jsx(x,{className:"pb-4",children:s.jsx(h,{className:"text-lg font-semibold text-foreground",children:i})}),s.jsxs(f,{className:"pt-0",children:[s.jsxs("div",{className:"relative overflow-auto",children:[s.jsxs("div",{className:"min-w-[600px]",children:[s.jsxs("div",{className:"grid grid-cols-[120px_repeat(var(--cols),1fr)] gap-1 mb-1",children:[s.jsx("div",{})," ",r.map((e,r)=>s.jsx("div",{className:"text-center p-2",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})},r))]}),e.map((e,a)=>s.jsxs("div",{className:"grid grid-cols-[120px_repeat(var(--cols),1fr)] gap-1 mb-1",style:{"--cols":r.length},children:[s.jsx("div",{className:"flex items-center justify-end pr-3",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t[a]})}),e.map((e,r)=>{const t=(e=>0===v?.5:(e-g)/v)(e),l=((e,s)=>e>0?`rgba(34, 197, 94, ${.2+.6*s})`:e<0?`rgba(239, 68, 68, ${.2+.6*s})`:"rgba(148, 163, 184, 0.2)")(e,t);return s.jsx("div",{className:"relative h-12 rounded-sm border border-gray-100 cursor-pointer transition-all duration-200 hover:border-gray-300",style:{backgroundColor:l},onMouseEnter:s=>{c({x:r,y:a,value:e,clientX:s.clientX,clientY:s.clientY})},onMouseLeave:()=>c(null),children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:m("text-xs font-mono font-medium",Math.abs(e)>.6*v?"text-white":"text-gray-900"),children:o(e)})})},r)})]},a))]}),d&&s.jsx(j,{x:d.x,y:d.y,value:d.value,xLabel:r[d.x],yLabel:t[d.y]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-red-500 opacity-40"}),s.jsx("div",{className:"w-4 h-4 rounded-sm bg-red-500 opacity-80"})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Negative Impact"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-slate-400 opacity-20 border border-gray-200"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Neutral"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-green-500 opacity-40"}),s.jsx("div",{className:"w-4 h-4 rounded-sm bg-green-500 opacity-80"})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Positive Impact"})]})]})]})]})},"sensitivity-heatmap",{priority:"normal",preloadDelay:2500}),V(({metrics:e=[],className:r,title:t="Key Financial Metrics",columns:a=4})=>{const l={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",6:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"},i=e.reduce((e,s)=>{const r=s.category||"default";return e[r]||(e[r]=[]),e[r].push(s),e},{}),n=Object.keys(i).length>1||1===Object.keys(i).length&&!i.default;return s.jsxs("div",{className:m("w-full space-y-6",r),children:[t&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:t}),s.jsx("div",{className:"h-px bg-gradient-to-r from-border to-transparent"})]}),n?Object.entries(i).map(([e,r])=>s.jsxs("div",{children:["default"!==e&&s.jsxs("h3",{className:"text-lg font-medium text-foreground mb-4 flex items-center gap-2",children:[e,s.jsx("div",{className:"flex-1 h-px bg-muted"})]}),s.jsx("div",{className:m("grid gap-4",l[Math.min(a,6)]),children:r.map((r,t)=>s.jsx(_,{title:r.title,value:r.value,change:r.change,format:r.format,prefix:r.prefix,suffix:r.suffix,className:r.highlight?"ring-2 ring-secondary ring-opacity-20":""},`${e}-${t}`))})]},e)):s.jsx("div",{className:m("grid gap-4",l[Math.min(a,6)]),children:e.map((e,r)=>s.jsx(_,{title:e.title,value:e.value,change:e.change,format:e.format,prefix:e.prefix,suffix:e.suffix,className:e.highlight?"ring-2 ring-secondary ring-opacity-20":""},r))}),e.some(e=>e.isSummary)&&s.jsx("div",{className:"pt-4 border-t border-muted",children:s.jsx("div",{className:m("grid gap-4",l[Math.min(a,6)]),children:e.filter(e=>e.isSummary).map((e,r)=>s.jsx(_,{title:e.title,value:e.value,change:e.change,format:e.format,prefix:e.prefix,suffix:e.suffix,className:"bg-primary/5 border-primary/20"},`summary-${r}`))})})]})},"metrics-dashboard",{priority:"high",preloadDelay:500});export{M as C,E as F};
//# sourceMappingURL=index-De_WpSHD.js.map
