{"version":3,"mappings":"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","names":["NATURAL_LANGUAGE_PATTERNS","navigation","pattern","category","analysis","command","data","charts","COMMAND_REGISTRY","id","title","description","icon","FileText","shortcut","keywords","execute","params","context","action","target","Calculator","TrendingUp","parameters","name","type","optional","company","Target","variable","Activity","Search","required","query","Upload","Download","format","BarChart3","LineChart","PieChart","Save","Eye","settings","Settings","help","HelpCircle","CommandPalette","isOpen","onClose","onExecuteCommand","currentContext","recentCommands","userPreferences","setQuery","useState","selectedIndex","setSelectedIndex","commandHistory","setCommandHistory","inputRef","useRef","listRef","searchCommands","executeCommand","getContextualCommands","learnFromUsage","commandUsage","setCommandUsage","saved","localStorage","getItem","JSON","parse","userLearning","setUserLearning","parseNaturalLanguage","useCallback","results","patterns","Object","entries","match","push","slice","filter","Boolean","confidence","length","sort","a","b","trim","normalizedQuery","toLowerCase","nlResults","values","forEach","score","includes","keyword","usageCount","Math","min","activeTab","nlMatch","find","nl","isRecommended","contextual","frequentCommands","map","async","commandId","Error","result","prev","error","queries","lastUsed","Date","now","getCommandCategories","categories","useEffect","setItem","stringify","commandRegistry","useCommandRegistry","searchResults","useMemo","cmd","current","focus","handleKeyDown","e","key","preventDefault","max","handleExecuteCommand","document","addEventListener","removeEventListener","getCategoryColor","highlightMatch","text","regex","RegExp","replace","split","part","index","test","jsx","className","children","AnimatePresence","motion","div","initial","opacity","animate","exit","onClick","jsxs","scale","y","transition","duration","stopPropagation","Command","size","ref","value","onChange","placeholder","tip","CategoryIcon","Clock","Star","ArrowRight","Users","Zap","Globe","getCategoryIcon","CommandIcon","isSelected","delay","idx","isNew","x","ErrorBoundary","React","Component","constructor","props","super","this","state","hasError","getDerivedStateFromError","_error","componentDidCatch","errorInfo","__ErrorBoundary","window","__COMPONENT_ERROR__","render","xmlns","width","height","viewBox","fill","d","stroke","strokeWidth","strokeMiterlimit","strokeLinecap","strokeLinejoin","location","href","Icon","color","PerformanceDashboard","isVisible","dashboardData","setDashboardData","refreshInterval","setRefreshInterval","isMonitoring","setIsMonitoring","alertThreshold","setAlertThreshold","alerts","startMonitoring","startAccessibilityMonitoring","stopMonitoring","stopAccessibilityMonitoring","clearAlerts","useAccessibilityMonitor","threshold","monitorInterval","refreshData","getPerformanceDashboardData","toggleMonitoring","initializePerformanceMonitoring","interval","setInterval","clearInterval","formatMetric","unit","round","webVitals","budgetViolations","accessibility","performance","metric","status","LCP","good","poor","FID","CLS","FCP","TTFB","getMetricStatus","statusColor","getStatusColor","violation","overBy","currentScore","trends","scoreImproving","fillRule","clipRule","averageViolations","averageScore","alert","message","recentMetrics","component","componentType","violations","timestamp","toLocaleTimeString","parseInt","SEOProvider","HelmetProvider","ScrollToTop","pathname","useLocation","scrollTo","FinancialModelWorkspace","lazy","__vitePreload","import","__VITE_PRELOAD__","RealTimeMarketDataCenter","ScenarioAnalysisSensitivityTools","ValuationTool","then","n","V","ValuationToolDocs","ValuationToolDemo","PrivateAnalysis","FinancialInputsDemo","NotFound","Routes","BrowserRouter","Suspense","fallback","LoadingSpinner","RouterRoutes","Route","path","element","App","hideDashboard","setIsVisible","toggleDashboard","showDashboard","event","ctrlKey","metaKey","shiftKey","usePerformanceDashboard","isPaletteOpen","setPaletteOpen","onKeyDown","tag","tagName","isContentEditable","userSlice","createSlice","initialState","isAuthenticated","reducers","login","payload","logout","actions","store","configureStore","reducer","user","isLocalhost","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","installingWorker","installing","controller","Notification","permission","body","badge","showInAppNotification","catch","notification","createElement","innerHTML","appendChild","requestAnimationFrame","style","transform","setTimeout","parentElement","remove","deferredPrompt","installBanner","querySelector","prompt","outcome","userChoice","showInstallPrompt","deferredPromit","currentNonce","validateCSPCompliance","inlineScripts","querySelectorAll","count","elements","Array","from","inlineStyles","recommendation","script","src","getAttribute","startsWith","container","getElementById","createRoot","Provider","nonce","setAttribute","applyCspNonce","crypto","array","Uint8Array","getRandomValues","btoa","String","fromCharCode","apply","random","toString","substring","generateNonce","blockedURI","violatedDirective","originalPolicy","disposition","userAgent","url","fetch","method","headers","initializeSecurity","URL","origin","response","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerSW","updateOnlineStatus","isOnline","onLine","setupNetworkHandling","requestPermission"],"ignoreList":[],"sources":["../../src/hooks/useCommandRegistry.js","../../src/components/CommandPalette/CommandPalette.jsx","../../src/components/ErrorBoundary.jsx","../../src/components/PerformanceDashboard/PerformanceDashboard.jsx","../../src/components/SEO/SEOProvider.jsx","../../src/components/ScrollToTop.jsx","../../src/Routes.jsx","../../src/App.jsx","../../src/hooks/usePerformanceDashboard.js","../../src/store/slices/userSlice.js","../../src/store/store.js","../../src/utils/serviceWorker.js","../../src/utils/securityHeaders.js","../../src/index.jsx"],"sourcesContent":["import {\n  Calculator,\n  TrendingUp,\n  BarChart3,\n  FileText,\n  Download,\n  Upload,\n  Search,\n  Save,\n  Settings,\n  HelpCircle,\n  Users,\n  Zap,\n  Globe,\n  PieChart,\n  LineChart,\n  Activity,\n  Target,\n  ArrowRight,\n  RefreshCw,\n  Filter,\n  Eye,\n  Edit,\n  Copy,\n  Trash2,\n  Plus\n} from 'lucide-react';\nimport { useState, useEffect, useMemo, useCallback } from 'react';\n\n// Natural language patterns for command matching\nconst NATURAL_LANGUAGE_PATTERNS = {\n  // Navigation patterns\n  navigation: [\n    { pattern: /(?:go to|navigate to|switch to|show me)\\s+(.+)/i, category: 'navigation' },\n    { pattern: /(?:open|view)\\s+(.+)/i, category: 'navigation' }\n  ],\n\n  // Analysis patterns\n  analysis: [\n    { pattern: /(?:create|new|build|make)\\s+(?:a\\s+)?(?:dcf|valuation|model)(?:\\s+for\\s+(.+))?/i, category: 'analysis', command: 'create-dcf' },\n    { pattern: /(?:run|perform|do)\\s+(?:a\\s+)?sensitivity\\s+(?:analysis\\s+)?(?:on\\s+(.+))?/i, category: 'analysis', command: 'sensitivity-analysis' },\n    { pattern: /(?:calculate|compute)\\s+(.+)/i, category: 'analysis' },\n    { pattern: /(?:analyze|analyse)\\s+(.+)/i, category: 'analysis' }\n  ],\n\n  // Data patterns\n  data: [\n    { pattern: /(?:find|search|look for)\\s+(.+)/i, category: 'data', command: 'search-data' },\n    { pattern: /(?:import|load)\\s+(.+)/i, category: 'data', command: 'import-data' },\n    { pattern: /(?:export|save|download)\\s+(.+)/i, category: 'export', command: 'export-data' }\n  ],\n\n  // Chart patterns\n  charts: [\n    { pattern: /(?:create|make|build|show)\\s+(?:a\\s+)?(?:chart|graph|plot)(?:\\s+for\\s+(.+))?/i, category: 'charts', command: 'create-chart' },\n    { pattern: /(?:visualize|plot)\\s+(.+)/i, category: 'charts', command: 'create-chart' }\n  ]\n};\n\n// Comprehensive command registry\nconst COMMAND_REGISTRY = {\n  // Navigation Commands\n  'go-to-data': {\n    id: 'go-to-data',\n    title: 'Go to Data Entry',\n    description: 'Navigate to financial data spreadsheet',\n    category: 'navigation',\n    icon: FileText,\n    shortcut: 'Ctrl+1',\n    keywords: ['data', 'spreadsheet', 'financial', 'entry', 'input'],\n    execute: (params, context) => ({ action: 'navigate', target: 'data' })\n  },\n\n  'go-to-modeling': {\n    id: 'go-to-modeling',\n    title: 'Go to Modeling Tools',\n    description: 'Navigate to financial modeling workspace',\n    category: 'navigation',\n    icon: Calculator,\n    shortcut: 'Ctrl+2',\n    keywords: ['modeling', 'tools', 'dcf', 'models'],\n    execute: (params, context) => ({ action: 'navigate', target: 'modeling' })\n  },\n\n  'go-to-analysis': {\n    id: 'go-to-analysis',\n    title: 'Go to Analysis Results',\n    description: 'View analysis results and outputs',\n    category: 'navigation',\n    icon: TrendingUp,\n    shortcut: 'Ctrl+3',\n    keywords: ['analysis', 'results', 'outputs', 'valuation'],\n    execute: (params, context) => ({ action: 'navigate', target: 'analysis' })\n  },\n\n  // Analysis Commands\n  'create-dcf': {\n    id: 'create-dcf',\n    title: 'Create New DCF Model',\n    description: 'Start a new discounted cash flow valuation model',\n    category: 'analysis',\n    icon: Calculator,\n    shortcut: 'Ctrl+N',\n    keywords: ['dcf', 'valuation', 'model', 'discounted', 'cash', 'flow', 'new', 'create'],\n    parameters: [\n      { name: 'company', type: 'string', description: 'Company ticker or name', optional: true }\n    ],\n    execute: (params, context) => ({\n      action: 'create-model',\n      type: 'dcf',\n      company: params?.company || 'New Model'\n    })\n  },\n\n  'sensitivity-analysis': {\n    id: 'sensitivity-analysis',\n    title: 'Run Sensitivity Analysis',\n    description: 'Perform sensitivity analysis on key assumptions',\n    category: 'analysis',\n    icon: Target,\n    shortcut: 'Ctrl+Shift+S',\n    keywords: ['sensitivity', 'analysis', 'assumptions', 'wacc', 'growth', 'test'],\n    parameters: [\n      { name: 'variable', type: 'string', description: 'Variable to analyze (WACC, growth rate, etc.)', optional: true }\n    ],\n    execute: (params, context) => ({\n      action: 'run-sensitivity',\n      variable: params?.variable || 'wacc'\n    })\n  },\n\n  'monte-carlo': {\n    id: 'monte-carlo',\n    title: 'Run Monte Carlo Simulation',\n    description: 'Perform Monte Carlo simulation on model',\n    category: 'analysis',\n    icon: Activity,\n    keywords: ['monte', 'carlo', 'simulation', 'probability', 'risk'],\n    execute: (params, context) => ({ action: 'run-monte-carlo' })\n  },\n\n  // Data Commands\n  'search-data': {\n    id: 'search-data',\n    title: 'Search Financial Data',\n    description: 'Find specific financial metrics or data points',\n    category: 'data',\n    icon: Search,\n    shortcut: 'Ctrl+F',\n    keywords: ['search', 'find', 'data', 'metrics', 'revenue', 'expenses'],\n    parameters: [\n      { name: 'query', type: 'string', description: 'What to search for', required: true }\n    ],\n    execute: (params, context) => ({\n      action: 'search',\n      query: params?.query\n    })\n  },\n\n  'import-data': {\n    id: 'import-data',\n    title: 'Import Financial Data',\n    description: 'Import data from Excel, CSV, or other sources',\n    category: 'data',\n    icon: Upload,\n    shortcut: 'Ctrl+I',\n    keywords: ['import', 'upload', 'excel', 'csv', 'data', 'file'],\n    execute: (params, context) => ({ action: 'import-data' })\n  },\n\n  'export-data': {\n    id: 'export-data',\n    title: 'Export Analysis',\n    description: 'Export current analysis to PDF, Excel, or PowerPoint',\n    category: 'export',\n    icon: Download,\n    shortcut: 'Ctrl+E',\n    keywords: ['export', 'download', 'pdf', 'excel', 'powerpoint', 'save'],\n    parameters: [\n      { name: 'format', type: 'string', description: 'Export format (PDF, Excel, PowerPoint)', optional: true }\n    ],\n    execute: (params, context) => ({\n      action: 'export',\n      format: params?.format || 'pdf'\n    })\n  },\n\n  // Chart Commands\n  'create-chart': {\n    id: 'create-chart',\n    title: 'Create Chart',\n    description: 'Create a visualization from your data',\n    category: 'charts',\n    icon: BarChart3,\n    keywords: ['chart', 'graph', 'visualization', 'plot', 'visualize'],\n    parameters: [\n      { name: 'type', type: 'string', description: 'Chart type (line, bar, pie, etc.)', optional: true },\n      { name: 'data', type: 'string', description: 'Data to visualize', optional: true }\n    ],\n    execute: (params, context) => ({\n      action: 'create-chart',\n      type: params?.type || 'line',\n      data: params?.data\n    })\n  },\n\n  'revenue-chart': {\n    id: 'revenue-chart',\n    title: 'Create Revenue Chart',\n    description: 'Visualize revenue trends over time',\n    category: 'charts',\n    icon: LineChart,\n    keywords: ['revenue', 'sales', 'income', 'trend', 'growth'],\n    execute: (params, context) => ({\n      action: 'create-chart',\n      type: 'line',\n      data: 'revenue'\n    })\n  },\n\n  'margin-analysis': {\n    id: 'margin-analysis',\n    title: 'Analyze Margins',\n    description: 'Create margin analysis visualization',\n    category: 'charts',\n    icon: PieChart,\n    keywords: ['margin', 'profitability', 'ebitda', 'operating', 'gross'],\n    execute: (params, context) => ({\n      action: 'create-chart',\n      type: 'bar',\n      data: 'margins'\n    })\n  },\n\n  // Company-specific commands (dynamic)\n  'company-apple': {\n    id: 'company-apple',\n    title: 'Analyze Apple (AAPL)',\n    description: 'Create analysis for Apple Inc.',\n    category: 'analysis',\n    icon: Calculator,\n    keywords: ['apple', 'aapl', 'company', 'stock'],\n    execute: (params, context) => ({\n      action: 'create-model',\n      company: 'AAPL'\n    })\n  },\n\n  'company-microsoft': {\n    id: 'company-microsoft',\n    title: 'Analyze Microsoft (MSFT)',\n    description: 'Create analysis for Microsoft Corporation',\n    category: 'analysis',\n    icon: Calculator,\n    keywords: ['microsoft', 'msft', 'company', 'stock'],\n    execute: (params, context) => ({\n      action: 'create-model',\n      company: 'MSFT'\n    })\n  },\n\n  // Utility Commands\n  'save-analysis': {\n    id: 'save-analysis',\n    title: 'Save Current Analysis',\n    description: 'Save your current work',\n    category: 'data',\n    icon: Save,\n    shortcut: 'Ctrl+S',\n    keywords: ['save', 'store', 'backup'],\n    execute: (params, context) => ({ action: 'save' })\n  },\n\n  'toggle-insights': {\n    id: 'toggle-insights',\n    title: 'Toggle Insights Sidebar',\n    description: 'Show or hide contextual insights',\n    category: 'navigation',\n    icon: Eye,\n    keywords: ['insights', 'sidebar', 'toggle', 'show', 'hide'],\n    execute: (params, context) => ({ action: 'toggle-insights' })\n  },\n\n  'settings': {\n    id: 'settings',\n    title: 'Open Settings',\n    description: 'Configure application preferences',\n    category: 'settings',\n    icon: Settings,\n    keywords: ['settings', 'preferences', 'config', 'options'],\n    execute: (params, context) => ({ action: 'open-settings' })\n  },\n\n  'help': {\n    id: 'help',\n    title: 'Get Help',\n    description: 'Access help documentation and tutorials',\n    category: 'help',\n    icon: HelpCircle,\n    shortcut: 'F1',\n    keywords: ['help', 'documentation', 'tutorial', 'support'],\n    execute: (params, context) => ({ action: 'open-help' })\n  }\n};\n\nexport const useCommandRegistry = (currentContext = {}) => {\n  const [commandUsage, setCommandUsage] = useState(() => {\n    const saved = localStorage.getItem('commandUsage');\n    return saved ? JSON.parse(saved) : {};\n  });\n\n  const [userLearning, setUserLearning] = useState(() => {\n    const saved = localStorage.getItem('commandLearning');\n    return saved ? JSON.parse(saved) : {};\n  });\n\n  // Parse natural language query\n  const parseNaturalLanguage = useCallback((query) => {\n    const results = [];\n\n    for (const [category, patterns] of Object.entries(NATURAL_LANGUAGE_PATTERNS)) {\n      for (const pattern of patterns) {\n        const match = query.match(pattern.pattern);\n        if (match) {\n          results.push({\n            category: pattern.category,\n            command: pattern.command,\n            parameters: match.slice(1).filter(Boolean),\n            confidence: match[0].length / query.length\n          });\n        }\n      }\n    }\n\n    return results.sort((a, b) => b.confidence - a.confidence);\n  }, []);\n\n  // Search commands with intelligent matching\n  const searchCommands = useCallback((query) => {\n    if (!query.trim()) return [];\n\n    const normalizedQuery = query.toLowerCase().trim();\n    const results = [];\n\n    // First, try natural language parsing\n    const nlResults = parseNaturalLanguage(query);\n\n    // Score and rank commands\n    Object.values(COMMAND_REGISTRY).forEach(command => {\n      let score = 0;\n\n      // Exact title match\n      if (command.title.toLowerCase() === normalizedQuery) {\n        score += 100;\n      }\n\n      // Title contains query\n      if (command.title.toLowerCase().includes(normalizedQuery)) {\n        score += 50;\n      }\n\n      // Description contains query\n      if (command.description.toLowerCase().includes(normalizedQuery)) {\n        score += 30;\n      }\n\n      // Keyword matches\n      const keywordMatches = command.keywords.filter(keyword =>\n        keyword.toLowerCase().includes(normalizedQuery) ||\n        normalizedQuery.includes(keyword.toLowerCase())\n      );\n      score += keywordMatches.length * 20;\n\n      // Usage frequency boost\n      const usageCount = commandUsage[command.id] || 0;\n      score += Math.min(usageCount * 2, 20);\n\n      // Context relevance\n      if (currentContext.activeTab) {\n        if (command.category === 'navigation' && command.id.includes(currentContext.activeTab)) {\n          score += 15;\n        }\n        if (command.category === currentContext.activeTab) {\n          score += 10;\n        }\n      }\n\n      // Natural language match boost\n      const nlMatch = nlResults.find(nl => nl.command === command.id);\n      if (nlMatch) {\n        score += nlMatch.confidence * 40;\n      }\n\n      if (score > 0) {\n        results.push({\n          ...command,\n          score,\n          usageCount,\n          isRecommended: score > 60\n        });\n      }\n    });\n\n    return results\n      .sort((a, b) => b.score - a.score)\n      .slice(0, 8); // Limit to top 8 results\n  }, [parseNaturalLanguage, commandUsage, currentContext]);\n\n  // Get contextual commands based on current state\n  const getContextualCommands = useCallback(() => {\n    const contextual = [];\n\n    // Based on active tab\n    switch (currentContext.activeTab) {\n      case 'data':\n      case 'spreadsheet':\n        contextual.push(\n          COMMAND_REGISTRY['import-data'],\n          COMMAND_REGISTRY['search-data'],\n          COMMAND_REGISTRY['go-to-modeling']\n        );\n        break;\n      case 'modeling':\n        contextual.push(\n          COMMAND_REGISTRY['create-dcf'],\n          COMMAND_REGISTRY['sensitivity-analysis'],\n          COMMAND_REGISTRY['go-to-analysis']\n        );\n        break;\n      case 'analysis':\n        contextual.push(\n          COMMAND_REGISTRY['create-chart'],\n          COMMAND_REGISTRY['export-data'],\n          COMMAND_REGISTRY['sensitivity-analysis']\n        );\n        break;\n      default:\n        contextual.push(\n          COMMAND_REGISTRY['create-dcf'],\n          COMMAND_REGISTRY['import-data'],\n          COMMAND_REGISTRY['help']\n        );\n    }\n\n    // Add frequently used commands\n    const frequentCommands = Object.entries(commandUsage)\n      .sort(([, a], [, b]) => b - a)\n      .slice(0, 2)\n      .map(([id]) => COMMAND_REGISTRY[id])\n      .filter(Boolean);\n\n    return [...contextual, ...frequentCommands].slice(0, 6);\n  }, [currentContext, commandUsage]);\n\n  // Execute command\n  const executeCommand = useCallback(async(commandId, params = {}) => {\n    const command = COMMAND_REGISTRY[commandId];\n    if (!command) {\n      throw new Error(`Command not found: ${commandId}`);\n    }\n\n    try {\n      const result = await command.execute(params, currentContext);\n\n      // Track usage\n      setCommandUsage(prev => ({\n        ...prev,\n        [commandId]: (prev[commandId] || 0) + 1\n      }));\n\n      return result;\n    } catch (error) {\n      console.error(`Command execution failed: ${commandId}`, error);\n      throw error;\n    }\n  }, [currentContext]);\n\n  // Learn from user behavior\n  const learnFromUsage = useCallback((commandId, query) => {\n    if (!query.trim()) return;\n\n    setUserLearning(prev => ({\n      ...prev,\n      [commandId]: {\n        ...prev[commandId],\n        queries: [...(prev[commandId]?.queries || []), query].slice(-5), // Keep last 5 queries\n        lastUsed: Date.now()\n      }\n    }));\n  }, []);\n\n  // Get command categories\n  const getCommandCategories = useCallback(() => {\n    const categories = {};\n    Object.values(COMMAND_REGISTRY).forEach(command => {\n      if (!categories[command.category]) {\n        categories[command.category] = [];\n      }\n      categories[command.category].push(command);\n    });\n    return categories;\n  }, []);\n\n  // Save usage data to localStorage\n  useEffect(() => {\n    localStorage.setItem('commandUsage', JSON.stringify(commandUsage));\n  }, [commandUsage]);\n\n  useEffect(() => {\n    localStorage.setItem('commandLearning', JSON.stringify(userLearning));\n  }, [userLearning]);\n\n  return {\n    searchCommands,\n    executeCommand,\n    getContextualCommands,\n    getCommandCategories,\n    learnFromUsage,\n    parseNaturalLanguage,\n    commandRegistry: COMMAND_REGISTRY,\n    commandUsage,\n    userLearning\n  };\n};\n","import { motion, AnimatePresence } from 'framer-motion';\nimport {\n  Search,\n  Command,\n  ArrowRight,\n  Clock,\n  Star,\n  TrendingUp,\n  Calculator,\n  FileText,\n  Download,\n  Upload,\n  BarChart3,\n  Users,\n  Zap,\n  Globe,\n  Settings,\n  HelpCircle\n} from 'lucide-react';\nimport React, { useState, useEffect, useRef, useMemo } from 'react';\n\nimport { useCommandRegistry } from '../../hooks/useCommandRegistry';\n\nconst CommandPalette = ({\n  isOpen,\n  onClose,\n  onExecuteCommand,\n  currentContext = {},\n  recentCommands = [],\n  userPreferences = {}\n}) => {\n  const [query, setQuery] = useState('');\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [commandHistory, setCommandHistory] = useState([]);\n  const inputRef = useRef(null);\n  const listRef = useRef(null);\n\n  // Get command registry and search functionality\n  const {\n    searchCommands,\n    executeCommand,\n    getContextualCommands,\n    getCommandCategories,\n    learnFromUsage\n  } = useCommandRegistry(currentContext);\n\n  // Search results based on query\n  const searchResults = useMemo(() => {\n    if (!query.trim()) {\n      // Show recent commands and contextual suggestions when no query\n      const recent = recentCommands.slice(0, 3).map(cmd => ({ ...cmd, category: 'recent' }));\n      const contextual = getContextualCommands().slice(0, 4).map(cmd => ({ ...cmd, category: 'suggested' }));\n      const popular = [\n        {\n          id: 'new-dcf',\n          title: 'Create New DCF Model',\n          description: 'Start a new discounted cash flow valuation',\n          icon: Calculator,\n          category: 'popular',\n          keywords: ['dcf', 'valuation', 'model', 'new']\n        },\n        {\n          id: 'sensitivity-analysis',\n          title: 'Run Sensitivity Analysis',\n          description: 'Test assumptions with sensitivity analysis',\n          icon: TrendingUp,\n          category: 'popular',\n          keywords: ['sensitivity', 'analysis', 'wacc', 'assumptions']\n        }\n      ];\n\n      return [...recent, ...contextual, ...popular];\n    }\n\n    return searchCommands(query);\n  }, [query, recentCommands, searchCommands, getContextualCommands]);\n\n  // Reset selection when results change\n  useEffect(() => {\n    setSelectedIndex(0);\n  }, [searchResults]);\n\n  // Focus input when opened\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      inputRef.current.focus();\n      setQuery('');\n      setSelectedIndex(0);\n    }\n  }, [isOpen]);\n\n  // Keyboard navigation\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (e) => {\n      switch (e.key) {\n        case 'ArrowDown':\n          e.preventDefault();\n          setSelectedIndex(prev => Math.min(prev + 1, searchResults.length - 1));\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          setSelectedIndex(prev => Math.max(prev - 1, 0));\n          break;\n        case 'Enter':\n          e.preventDefault();\n          if (searchResults[selectedIndex]) {\n            handleExecuteCommand(searchResults[selectedIndex]);\n          }\n          break;\n        case 'Escape':\n          e.preventDefault();\n          onClose();\n          break;\n        default:\n          break;\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, selectedIndex, searchResults, onClose]);\n\n  // Execute command\n  const handleExecuteCommand = async(command) => {\n    try {\n      // Add to command history\n      setCommandHistory(prev => [command, ...prev.slice(0, 9)]);\n\n      // Learn from usage\n      learnFromUsage(command.id, query);\n\n      // Execute the command\n      const result = await executeCommand(command.id, command.params);\n\n      // Notify parent component\n      if (onExecuteCommand) {\n        onExecuteCommand(command, result);\n      }\n\n      // Close palette\n      onClose();\n    } catch (error) {\n      console.error('Command execution failed:', error);\n      // Could show error toast here\n    }\n  };\n\n  // Get category icon\n  const getCategoryIcon = (category) => {\n    switch (category) {\n      case 'recent': return Clock;\n      case 'suggested': return Star;\n      case 'popular': return TrendingUp;\n      case 'navigation': return ArrowRight;\n      case 'analysis': return Calculator;\n      case 'data': return FileText;\n      case 'export': return Download;\n      case 'import': return Upload;\n      case 'charts': return BarChart3;\n      case 'collaboration': return Users;\n      case 'automation': return Zap;\n      case 'external': return Globe;\n      case 'settings': return Settings;\n      case 'help': return HelpCircle;\n      default: return Command;\n    }\n  };\n\n  // Get category color\n  const getCategoryColor = (category) => {\n    switch (category) {\n      case 'recent': return 'text-blue-500';\n      case 'suggested': return 'text-amber-500';\n      case 'popular': return 'text-emerald-500';\n      case 'navigation': return 'text-slate-500';\n      case 'analysis': return 'text-purple-500';\n      case 'data': return 'text-indigo-500';\n      case 'export': return 'text-green-500';\n      case 'import': return 'text-orange-500';\n      case 'charts': return 'text-pink-500';\n      case 'collaboration': return 'text-cyan-500';\n      case 'automation': return 'text-red-500';\n      case 'external': return 'text-gray-500';\n      case 'settings': return 'text-slate-600';\n      case 'help': return 'text-blue-600';\n      default: return 'text-slate-500';\n    }\n  };\n\n  // Highlight matching text\n  const highlightMatch = (text, query) => {\n    if (!query.trim()) return text;\n\n    const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, 'gi');\n    const parts = text.split(regex);\n\n    return parts.map((part, index) =>\n      regex.test(part) ? (\n        <mark key={index} className=\"bg-yellow-200 text-yellow-900 px-0.5 rounded\">\n          {part}\n        </mark>\n      ) : part\n    );\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-20\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95, y: -20 }}\n          animate={{ opacity: 1, scale: 1, y: 0 }}\n          exit={{ opacity: 0, scale: 0.95, y: -20 }}\n          transition={{ type: 'spring', duration: 0.3 }}\n          className=\"bg-white rounded-xl shadow-2xl border border-slate-200 w-full max-w-2xl mx-4 overflow-hidden\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"flex items-center gap-3 p-4 border-b border-slate-100 bg-slate-50\">\n            <div className=\"p-2 bg-blue-500 rounded-lg\">\n              <Command size={18} className=\"text-white\" />\n            </div>\n            <div className=\"flex-1\">\n              <h3 className=\"font-semibold text-slate-900\">Command Palette</h3>\n              <p className=\"text-xs text-slate-500\">Type to search commands, or use natural language</p>\n            </div>\n            <div className=\"flex items-center gap-1 text-xs text-slate-500\">\n              <kbd className=\"px-1.5 py-0.5 bg-white border border-slate-200 rounded text-xs\">Esc</kbd>\n              <span>to close</span>\n            </div>\n          </div>\n\n          {/* Search Input */}\n          <div className=\"relative p-4 border-b border-slate-100\">\n            <div className=\"relative\">\n              <Search size={18} className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400\" />\n              <input\n                ref={inputRef}\n                type=\"text\"\n                value={query}\n                onChange={(e) => setQuery(e.target.value)}\n                placeholder=\"Search commands or describe what you want to do...\"\n                className=\"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-slate-900 placeholder-slate-500\"\n              />\n            </div>\n\n            {/* Quick tips */}\n            {!query && (\n              <div className=\"mt-3 flex flex-wrap gap-2\">\n                <span className=\"text-xs text-slate-500\">Try:</span>\n                {['New DCF for AAPL', 'Run sensitivity on WACC', 'Export to PDF', 'Find revenue data'].map((tip) => (\n                  <button\n                    key={tip}\n                    onClick={() => setQuery(tip)}\n                    className=\"text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-md hover:bg-blue-100 transition-colors\"\n                  >\n                    \"{tip}\"\n                  </button>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Results */}\n          <div className=\"max-h-96 overflow-y-auto\" ref={listRef}>\n            {searchResults.length === 0 ? (\n              <div className=\"p-8 text-center\">\n                <div className=\"p-3 bg-slate-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center\">\n                  <Search size={24} className=\"text-slate-400\" />\n                </div>\n                <h4 className=\"font-medium text-slate-900 mb-2\">No commands found</h4>\n                <p className=\"text-sm text-slate-500\">\n                  Try a different search term or use natural language to describe what you want to do.\n                </p>\n              </div>\n            ) : (\n              <div className=\"py-2\">\n                {searchResults.map((command, index) => {\n                  const CategoryIcon = getCategoryIcon(command.category);\n                  const CommandIcon = command.icon;\n                  const isSelected = index === selectedIndex;\n\n                  return (\n                    <motion.div\n                      key={`${command.id}-${index}`}\n                      initial={{ opacity: 0, y: 10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      transition={{ delay: index * 0.05 }}\n                      className={`flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-150 ${\n                        isSelected\n                          ? 'bg-blue-50 border-r-2 border-blue-500'\n                          : 'hover:bg-slate-50'\n                      }`}\n                      onClick={() => handleExecuteCommand(command)}\n                    >\n                      {/* Category indicator */}\n                      <div\n                        className={`p-1.5 rounded-md ${\n                          isSelected ? 'bg-blue-100' : 'bg-slate-100'\n                        }`}\n                      >\n                        <CategoryIcon size={12} className={getCategoryColor(command.category)} />\n                      </div>\n\n                      {/* Command icon */}\n                      {CommandIcon && (\n                        <div\n                          className={`p-2 rounded-lg ${\n                            isSelected ? 'bg-blue-100' : 'bg-slate-100'\n                          }`}\n                        >\n                          <CommandIcon\n                            size={16} className={\n                              isSelected ? 'text-blue-600' : 'text-slate-600'\n                            }\n                          />\n                        </div>\n                      )}\n\n                      {/* Command details */}\n                      <div className=\"flex-1 min-w-0\">\n                        <div className=\"flex items-center gap-2 mb-1\">\n                          <h4\n                            className={`font-medium truncate ${\n                              isSelected ? 'text-blue-900' : 'text-slate-900'\n                            }`}\n                          >\n                            {highlightMatch(command.title, query)}\n                          </h4>\n                          {command.shortcut && (\n                            <div className=\"flex items-center gap-1\">\n                              {command.shortcut.split('+').map((key, idx) => (\n                                <kbd key={idx} className=\"px-1.5 py-0.5 bg-slate-200 text-slate-600 text-xs rounded\">\n                                  {key}\n                                </kbd>\n                              ))}\n                            </div>\n                          )}\n                        </div>\n                        <p\n                          className={`text-sm truncate ${\n                            isSelected ? 'text-blue-700' : 'text-slate-500'\n                          }`}\n                        >\n                          {highlightMatch(command.description, query)}\n                        </p>\n\n                        {/* Command metadata */}\n                        <div className=\"flex items-center gap-3 mt-1\">\n                          <span\n                            className={`text-xs px-2 py-0.5 rounded-full ${\n                              isSelected ? 'bg-blue-100 text-blue-700' : 'bg-slate-100 text-slate-600'\n                            }`}\n                          >\n                            {command.category}\n                          </span>\n                          {command.usageCount && (\n                            <span className=\"text-xs text-slate-400\">\n                              Used {command.usageCount} times\n                            </span>\n                          )}\n                          {command.isNew && (\n                            <span className=\"text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full\">\n                              New\n                            </span>\n                          )}\n                        </div>\n                      </div>\n\n                      {/* Execute indicator */}\n                      {isSelected && (\n                        <motion.div\n                          initial={{ opacity: 0, x: -10 }}\n                          animate={{ opacity: 1, x: 0 }}\n                          className=\"text-blue-500\"\n                        >\n                          <ArrowRight size={16} />\n                        </motion.div>\n                      )}\n                    </motion.div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n\n          {/* Footer */}\n          <div className=\"flex items-center justify-between px-4 py-3 bg-slate-50 border-t border-slate-100 text-xs text-slate-500\">\n            <div className=\"flex items-center gap-4\">\n              <div className=\"flex items-center gap-1\">\n                <kbd className=\"px-1.5 py-0.5 bg-white border border-slate-200 rounded\">↑↓</kbd>\n                <span>Navigate</span>\n              </div>\n              <div className=\"flex items-center gap-1\">\n                <kbd className=\"px-1.5 py-0.5 bg-white border border-slate-200 rounded\">Enter</kbd>\n                <span>Execute</span>\n              </div>\n            </div>\n            <div className=\"text-slate-400\">\n              {searchResults.length} command{searchResults.length !== 1 ? 's' : ''} available\n            </div>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default CommandPalette;\n","import React from 'react';\n\nimport Icon from './AppIcon';\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(_error) {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    error.__ErrorBoundary = true;\n    window.__COMPONENT_ERROR__?.(error, errorInfo);\n    // console.log(\"Error caught by ErrorBoundary:\", error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center bg-neutral-50\">\n          <div className=\"text-center p-8 max-w-md\">\n            <div className=\"flex justify-center items-center mb-2\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"42px\"\n                height=\"42px\"\n                viewBox=\"0 0 32 33\"\n                fill=\"none\"\n              >\n                <path\n                  d=\"M16 28.5C22.6274 28.5 28 23.1274 28 16.5C28 9.87258 22.6274 4.5 16 4.5C9.37258 4.5 4 9.87258 4 16.5C4 23.1274 9.37258 28.5 16 28.5Z\"\n                  stroke=\"#343330\"\n                  strokeWidth=\"2\"\n                  strokeMiterlimit=\"10\"\n                />\n                <path\n                  d=\"M11.5 15.5C12.3284 15.5 13 14.8284 13 14C13 13.1716 12.3284 12.5 11.5 12.5C10.6716 12.5 10 13.1716 10 14C10 14.8284 10.6716 15.5 11.5 15.5Z\"\n                  fill=\"#343330\"\n                />\n                <path\n                  d=\"M20.5 15.5C21.3284 15.5 22 14.8284 22 14C22 13.1716 21.3284 12.5 20.5 12.5C19.6716 12.5 19 13.1716 19 14C19 14.8284 19.6716 15.5 20.5 15.5Z\"\n                  fill=\"#343330\"\n                />\n                <path\n                  d=\"M21 22.5C19.9625 20.7062 18.2213 19.5 16 19.5C13.7787 19.5 12.0375 20.7062 11 22.5\"\n                  stroke=\"#343330\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n            </div>\n            <div className=\"flex flex-col gap-1 text-center\">\n              <h1 className=\"text-2xl font-medium text-neutral-800\">Something went wrong</h1>\n              <p className=\"text-neutral-600 text-base w w-8/12 mx-auto\">\n                We encountered an unexpected error while processing your request.\n              </p>\n            </div>\n            <div className=\"flex justify-center items-center mt-6\">\n              <button\n                onClick={() => {\n                  window.location.href = '/';\n                }}\n                className=\"bg-blue-500 hover:bg-blue-600 text-white font-medium py-2 px-4 rounded flex items-center gap-2 transition-colors duration-200 shadow-sm\"\n              >\n                <Icon name=\"ArrowLeft\" size={18} color=\"#fff\" />\n                Back\n              </button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { getPerformanceDashboardData, initializePerformanceMonitoring } from '../../utils/performanceMonitoring';\nimport { useAccessibilityMonitor } from '../../hooks/useAccessibility';\n\nconst PerformanceDashboard = ({ isVisible = false, onClose }) => {\n  const [dashboardData, setDashboardData] = useState(null);\n  const [refreshInterval, setRefreshInterval] = useState(30000); // 30 seconds\n  const [isMonitoring, setIsMonitoring] = useState(false);\n  const [alertThreshold, setAlertThreshold] = useState(75);\n\n  const {\n    alerts,\n    startMonitoring: startAccessibilityMonitoring,\n    stopMonitoring: stopAccessibilityMonitoring,\n    clearAlerts\n  } = useAccessibilityMonitor({\n    threshold: alertThreshold,\n    monitorInterval: refreshInterval\n  });\n\n  // Refresh dashboard data\n  const refreshData = useCallback(() => {\n    try {\n      const data = getPerformanceDashboardData();\n      setDashboardData(data);\n    } catch (error) {\n      console.error('Failed to refresh performance dashboard:', error);\n    }\n  }, []);\n\n  // Toggle monitoring\n  const toggleMonitoring = useCallback(() => {\n    if (isMonitoring) {\n      stopAccessibilityMonitoring();\n      setIsMonitoring(false);\n    } else {\n      startAccessibilityMonitoring();\n      setIsMonitoring(true);\n    }\n  }, [isMonitoring, startAccessibilityMonitoring, stopAccessibilityMonitoring]);\n\n  // Initialize and set up refresh interval\n  useEffect(() => {\n    if (!isVisible) return;\n\n    // Initialize performance monitoring if not already done\n    initializePerformanceMonitoring();\n    \n    // Initial data fetch\n    refreshData();\n\n    // Set up refresh interval\n    const interval = setInterval(refreshData, refreshInterval);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, [isVisible, refreshData, refreshInterval]);\n\n  // Format metric values for display\n  const formatMetric = (value, unit = 'ms') => {\n    if (value === null || value === undefined) return 'N/A';\n    if (typeof value === 'number') {\n      return `${Math.round(value)}${unit}`;\n    }\n    return value;\n  };\n\n  // Get metric status (good, needs improvement, poor)\n  const getMetricStatus = (metric, value) => {\n    const thresholds = {\n      LCP: { good: 2500, poor: 4000 },\n      FID: { good: 100, poor: 300 },\n      CLS: { good: 0.1, poor: 0.25 },\n      FCP: { good: 1800, poor: 3000 },\n      TTFB: { good: 800, poor: 1800 }\n    };\n\n    const threshold = thresholds[metric];\n    if (!threshold || value === null) return 'unknown';\n\n    if (value <= threshold.good) return 'good';\n    if (value <= threshold.poor) return 'needs-improvement';\n    return 'poor';\n  };\n\n  // Get status color\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'good': return 'text-green-600 bg-green-100';\n      case 'needs-improvement': return 'text-yellow-600 bg-yellow-100';\n      case 'poor': return 'text-red-600 bg-red-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  if (!isVisible || !dashboardData) {\n    return null;\n  }\n\n  const { webVitals, budgetViolations, accessibility, performance } = dashboardData;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Performance Dashboard</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Real-time monitoring for FinanceAnalyst Pro\n            </p>\n          </div>\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={toggleMonitoring}\n              className={`px-4 py-2 rounded-md text-sm font-medium ${\n                isMonitoring \n                  ? 'bg-red-100 text-red-700 hover:bg-red-200' \n                  : 'bg-green-100 text-green-700 hover:bg-green-200'\n              }`}\n            >\n              {isMonitoring ? 'Stop Monitoring' : 'Start Monitoring'}\n            </button>\n            <button\n              onClick={refreshData}\n              className=\"px-4 py-2 bg-blue-100 text-blue-700 rounded-md text-sm font-medium hover:bg-blue-200\"\n            >\n              Refresh\n            </button>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              <span className=\"sr-only\">Close</span>\n              <svg className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-8\">\n          {/* Web Vitals */}\n          <section>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Core Web Vitals</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4\">\n              {Object.entries(webVitals).map(([metric, value]) => {\n                const status = getMetricStatus(metric, value);\n                const statusColor = getStatusColor(status);\n                \n                return (\n                  <div key={metric} className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium text-gray-600\">{metric}</span>\n                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${statusColor}`}>\n                        {status}\n                      </span>\n                    </div>\n                    <div className=\"mt-2\">\n                      <span className=\"text-2xl font-bold text-gray-900\">\n                        {formatMetric(value, metric === 'CLS' ? '' : 'ms')}\n                      </span>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </section>\n\n          {/* Budget Violations */}\n          {budgetViolations.length > 0 && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Performance Budget Violations</h3>\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                <div className=\"space-y-2\">\n                  {budgetViolations.map((violation, index) => (\n                    <div key={index} className=\"flex items-center justify-between\">\n                      <span className=\"text-sm font-medium text-red-800\">\n                        {violation.metric}: {formatMetric(violation.value)}\n                      </span>\n                      <span className=\"text-sm text-red-600\">\n                        Over budget by {formatMetric(violation.overBy)}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </section>\n          )}\n\n          {/* Accessibility */}\n          <section>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Accessibility</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <h4 className=\"text-sm font-medium text-gray-600 mb-2\">Current Score</h4>\n                <div className=\"flex items-center\">\n                  <span className=\"text-3xl font-bold text-gray-900\">\n                    {accessibility.currentScore}\n                  </span>\n                  <span className=\"text-sm text-gray-500 ml-1\">/100</span>\n                  {accessibility.trends.scoreImproving && (\n                    <span className=\"ml-2 text-green-600\">\n                      <svg className=\"h-4 w-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </span>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <h4 className=\"text-sm font-medium text-gray-600 mb-2\">Average Violations</h4>\n                <span className=\"text-3xl font-bold text-gray-900\">\n                  {accessibility.averageViolations}\n                </span>\n              </div>\n              \n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <h4 className=\"text-sm font-medium text-gray-600 mb-2\">Average Score</h4>\n                <span className=\"text-3xl font-bold text-gray-900\">\n                  {accessibility.averageScore}\n                </span>\n              </div>\n            </div>\n\n            {/* Accessibility Alerts */}\n            {alerts.length > 0 && (\n              <div className=\"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <h4 className=\"text-sm font-medium text-yellow-800\">Active Alerts</h4>\n                  <button\n                    onClick={clearAlerts}\n                    className=\"text-xs text-yellow-600 hover:text-yellow-800\"\n                  >\n                    Clear All\n                  </button>\n                </div>\n                <div className=\"space-y-2\">\n                  {alerts.slice(0, 5).map((alert) => (\n                    <div key={alert.id} className=\"text-sm text-yellow-700\">\n                      <span className=\"font-medium\">{alert.type}:</span> {alert.message}\n                    </div>\n                  ))}\n                  {alerts.length > 5 && (\n                    <div className=\"text-xs text-yellow-600\">\n                      And {alerts.length - 5} more alerts...\n                    </div>\n                  )}\n                </div>\n              </div>\n            )}\n          </section>\n\n          {/* Recent Performance Metrics */}\n          {performance.recentMetrics.length > 0 && (\n            <section>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Recent Performance Events</h3>\n              <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden\">\n                <div className=\"max-h-64 overflow-y-auto\">\n                  <table className=\"min-w-full divide-y divide-gray-200\">\n                    <thead className=\"bg-gray-50\">\n                      <tr>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Type\n                        </th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Component\n                        </th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Value\n                        </th>\n                        <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                          Time\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody className=\"bg-white divide-y divide-gray-200\">\n                      {performance.recentMetrics.slice(0, 10).map((metric, index) => (\n                        <tr key={index}>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                            {metric.type}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {metric.component || metric.componentType || 'N/A'}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {metric.violations !== undefined ? `${metric.violations} violations` : \n                             metric.score !== undefined ? `Score: ${metric.score}` :\n                             metric.duration !== undefined ? `${Math.round(metric.duration)}ms` : 'N/A'}\n                          </td>\n                          <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                            {new Date(metric.timestamp).toLocaleTimeString()}\n                          </td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </section>\n          )}\n\n          {/* Settings */}\n          <section>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Monitoring Settings</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Refresh Interval (seconds)\n                </label>\n                <select\n                  value={refreshInterval / 1000}\n                  onChange={(e) => setRefreshInterval(parseInt(e.target.value) * 1000)}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\n                >\n                  <option value={10}>10 seconds</option>\n                  <option value={30}>30 seconds</option>\n                  <option value={60}>1 minute</option>\n                  <option value={300}>5 minutes</option>\n                </select>\n              </div>\n              \n              <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Accessibility Alert Threshold\n                </label>\n                <select\n                  value={alertThreshold}\n                  onChange={(e) => setAlertThreshold(parseInt(e.target.value))}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 text-sm\"\n                >\n                  <option value={60}>60 (Strict)</option>\n                  <option value={75}>75 (Moderate)</option>\n                  <option value={85}>85 (Lenient)</option>\n                  <option value={95}>95 (Very Lenient)</option>\n                </select>\n              </div>\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PerformanceDashboard;","import { HelmetProvider } from 'react-helmet-async';\n\nconst SEOProvider = ({ children }) => {\n  return <HelmetProvider>{children}</HelmetProvider>;\n};\n\nexport default SEOProvider;\n","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst ScrollToTop = () => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n};\n\nexport default ScrollToTop;\n","import { Suspense, lazy } from 'react';\nimport { BrowserRouter, Routes as RouterRoutes, Route } from 'react-router-dom';\n\nimport ErrorBoundary from './components/ErrorBoundary';\nimport ScrollToTop from './components/ScrollToTop';\nimport LoadingSpinner from './components/ui/LoadingSpinner';\n\n// Lazy load pages for code splitting and better performance\nconst FinancialModelWorkspace = lazy(() => import('./pages/financial-model-workspace'));\nconst RealTimeMarketDataCenter = lazy(() => import('./pages/real-time-market-data-center'));\nconst ScenarioAnalysisSensitivityTools = lazy(\n  () => import('./pages/scenario-analysis-sensitivity-tools')\n);\nconst ValuationTool = lazy(() => import('./components/ValuationTool/ValuationTool'));\nconst ValuationToolDocs = lazy(() => import('./components/ValuationTool/ValuationToolDocs'));\nconst ValuationToolDemo = lazy(() => import('./pages/valuation-tool-demo'));\nconst PrivateAnalysis = lazy(() => import('./pages/PrivateAnalysis'));\nconst FinancialInputsDemo = lazy(() => import('./components/FinancialInputsDemo'));\nconst NotFound = lazy(() => import('./pages/NotFound'));\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <ErrorBoundary>\n        <ScrollToTop />\n        <Suspense fallback={<LoadingSpinner />}>\n          <RouterRoutes>\n            {/* Define your routes here */}\n            <Route path=\"/\" element={<FinancialModelWorkspace />} />\n            <Route path=\"/financial-model-workspace\" element={<FinancialModelWorkspace />} />\n            <Route path=\"/real-time-market-data-center\" element={<RealTimeMarketDataCenter />} />\n            <Route\n              path=\"/scenario-analysis-sensitivity-tools\"\n              element={<ScenarioAnalysisSensitivityTools />}\n            />\n            <Route path=\"/valuation-tool\" element={<ValuationTool />} />\n            <Route path=\"/valuation-tool/docs\" element={<ValuationToolDocs />} />\n            <Route path=\"/valuation-tool/demo\" element={<ValuationToolDemo />} />\n            <Route path=\"/private-analysis\" element={<PrivateAnalysis />} />\n            <Route path=\"/financial-inputs-demo\" element={<FinancialInputsDemo />} />\n            <Route path=\"*\" element={<NotFound />} />\n          </RouterRoutes>\n        </Suspense>\n      </ErrorBoundary>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import { useEffect, useState } from 'react';\n\nimport CommandPalette from './components/CommandPalette/CommandPalette';\nimport ErrorBoundary from './components/ErrorBoundary';\nimport PerformanceDashboard from './components/PerformanceDashboard';\nimport SEOProvider from './components/SEO/SEOProvider';\nimport { usePerformanceDashboard } from './hooks/usePerformanceDashboard';\nimport { initializePerformanceMonitoring } from './utils/performanceMonitoring';\nimport Routes from './Routes';\n\nfunction App() {\n  const { isVisible, hideDashboard } = usePerformanceDashboard();\n  const [isPaletteOpen, setPaletteOpen] = useState(false);\n\n  // Initialize performance monitoring on app start\n  useEffect(() => {\n    initializePerformanceMonitoring();\n  }, []);\n\n  // Global keyboard shortcut for Command Palette (Cmd/Ctrl + K)\n  useEffect(() => {\n    const onKeyDown = (e) => {\n      const tag = (e.target?.tagName || '').toLowerCase();\n      const isTyping = ['input', 'textarea', 'select'].includes(tag) || e.target?.isContentEditable;\n      if (isTyping) return;\n      if ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'k') {\n        e.preventDefault();\n        setPaletteOpen(true);\n      }\n    };\n    window.addEventListener('keydown', onKeyDown);\n    return () => window.removeEventListener('keydown', onKeyDown);\n  }, []);\n\n  return (\n    <ErrorBoundary>\n      <SEOProvider>\n        <Routes />\n        <CommandPalette\n          isOpen={isPaletteOpen}\n          onClose={() => setPaletteOpen(false)}\n        />\n        <PerformanceDashboard\n          isVisible={isVisible}\n          onClose={hideDashboard}\n        />\n      </SEOProvider>\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import { useState, useCallback, useEffect } from 'react';\n\n// Hook for managing performance dashboard visibility and hotkey\nexport function usePerformanceDashboard() {\n  const [isVisible, setIsVisible] = useState(false);\n\n  const toggleDashboard = useCallback(() => {\n    setIsVisible(prev => !prev);\n  }, []);\n\n  const showDashboard = useCallback(() => {\n    setIsVisible(true);\n  }, []);\n\n  const hideDashboard = useCallback(() => {\n    setIsVisible(false);\n  }, []);\n\n  // Keyboard shortcut for dashboard (Ctrl/Cmd + Shift + P)\n  useEffect(() => {\n    const handleKeyDown = (event) => {\n      if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key === 'P') {\n        event.preventDefault();\n        toggleDashboard();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    \n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [toggleDashboard]);\n\n  // Show dashboard automatically in development if there are performance issues\n  useEffect(() => {\n    if (process.env.NODE_ENV === 'development') {\n      // Check for performance budget violations after page load\n      const checkPerformanceIssues = () => {\n        // This would integrate with your performance monitoring\n        const webVitals = window.webVitalsData;\n        if (webVitals) {\n          const hasIssues = \n            (webVitals.LCP && webVitals.LCP > 2500) ||\n            (webVitals.FID && webVitals.FID > 100) ||\n            (webVitals.CLS && webVitals.CLS > 0.1);\n          \n          if (hasIssues) {\n            console.warn('Performance issues detected. Press Ctrl/Cmd + Shift + P to open dashboard.');\n          }\n        }\n      };\n\n      // Check after initial page load\n      setTimeout(checkPerformanceIssues, 3000);\n    }\n  }, []);\n\n  return {\n    isVisible,\n    toggleDashboard,\n    showDashboard,\n    hideDashboard\n  };\n}","import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  name: 'Guest',\n  isAuthenticated: false\n};\n\nexport const userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    login: (state, action) => {\n      state.name = action.payload.name;\n      state.isAuthenticated = true;\n    },\n    logout: (state) => {\n      state.name = 'Guest';\n      state.isAuthenticated = false;\n    }\n  }\n});\n\nexport const { login, logout } = userSlice.actions;\n\nexport default userSlice.reducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport userReducer from './slices/userSlice';\n\nexport const store = configureStore({\n  reducer: {\n    user: userReducer\n  }\n});\n","// Service Worker Registration and Management\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  window.location.hostname === '[::1]' ||\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function registerSW() {\n  if ('serviceWorker' in navigator) {\n    const publicUrl = new URL(import.meta.env.BASE_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${import.meta.env.BASE_URL}sw.js`;\n\n      if (isLocalhost) {\n        checkValidServiceWorker(swUrl);\n        navigator.serviceWorker.ready.then(() => {\n          console.log('PWA: Service Worker ready in development mode');\n        });\n      } else {\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      console.log('PWA: Service Worker registered successfully:', registration);\n      \n      // Check for updates\n      registration.addEventListener('updatefound', () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        \n        installingWorker.addEventListener('statechange', () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              console.log('PWA: New content available, will update on next visit');\n              showUpdateAvailableNotification();\n            } else {\n              console.log('PWA: Content cached for offline use');\n              showCachedNotification();\n            }\n          }\n        });\n      });\n    })\n    .catch((error) => {\n      console.error('PWA: Service Worker registration failed:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log('PWA: No internet connection found. App is running in offline mode.');\n      showOfflineNotification();\n    });\n}\n\nexport function unregisterSW() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error('PWA: Service Worker unregistration failed:', error);\n      });\n  }\n}\n\n// Notification functions for better UX\nfunction showUpdateAvailableNotification() {\n  if ('Notification' in window && Notification.permission === 'granted') {\n    new Notification('FinanceAnalyst Pro Update Available', {\n      body: 'A new version is available. Refresh to update.',\n      icon: '/assets/images/favicon.svg',\n      badge: '/assets/images/favicon.svg',\n      tag: 'app-update'\n    });\n  }\n  \n  // Also show in-app notification\n  showInAppNotification(\n    'Update Available',\n    'A new version of FinanceAnalyst Pro is ready. Refresh to update.',\n    'info'\n  );\n}\n\nfunction showCachedNotification() {\n  showInAppNotification(\n    'App Ready for Offline',\n    'FinanceAnalyst Pro is now available offline for core features.',\n    'success'\n  );\n}\n\nfunction showOfflineNotification() {\n  showInAppNotification(\n    'Offline Mode',\n    'You\\'re currently offline. Some features may be limited.',\n    'warning'\n  );\n}\n\nfunction showInAppNotification(title, message, type = 'info') {\n  // Create a simple notification system\n  const notification = document.createElement('div');\n  notification.className = `\n    fixed top-4 right-4 z-50 max-w-sm p-4 rounded-lg shadow-lg\n    ${type === 'success' ? 'bg-green-50 text-green-800 border border-green-200' : ''}\n    ${type === 'warning' ? 'bg-yellow-50 text-yellow-800 border border-yellow-200' : ''}\n    ${type === 'info' ? 'bg-blue-50 text-blue-800 border border-blue-200' : ''}\n    transition-all duration-300 transform translate-x-full\n  `;\n  \n  notification.innerHTML = `\n    <div class=\"flex items-start\">\n      <div class=\"flex-1\">\n        <h4 class=\"font-medium text-sm\">${title}</h4>\n        <p class=\"text-sm mt-1 opacity-90\">${message}</p>\n      </div>\n      <button class=\"ml-3 text-sm opacity-60 hover:opacity-100\" onclick=\"this.parentElement.parentElement.remove()\">\n        ✕\n      </button>\n    </div>\n  `;\n  \n  document.body.appendChild(notification);\n  \n  // Animate in\n  requestAnimationFrame(() => {\n    notification.style.transform = 'translateX(0)';\n  });\n  \n  // Auto remove after 5 seconds\n  setTimeout(() => {\n    if (notification.parentElement) {\n      notification.style.transform = 'translateX(100%)';\n      setTimeout(() => notification.remove(), 300);\n    }\n  }, 5000);\n}\n\n// Request notification permission\nexport function requestNotificationPermission() {\n  if ('Notification' in window && Notification.permission === 'default') {\n    Notification.requestPermission().then((permission) => {\n      console.log('PWA: Notification permission:', permission);\n    });\n  }\n}\n\n// Install prompt handling\nlet deferredPrompt;\n\nwindow.addEventListener('beforeinstallprompt', (e) => {\n  e.preventDefault();\n  deferredPrompt = e;\n  showInstallPrompt();\n});\n\nfunction showInstallPrompt() {\n  // Show custom install button/banner\n  const installBanner = document.createElement('div');\n  installBanner.className = `\n    fixed bottom-4 left-4 right-4 p-4 bg-blue-600 text-white rounded-lg shadow-lg\n    flex items-center justify-between z-50 max-w-md mx-auto\n  `;\n  \n  installBanner.innerHTML = `\n    <div class=\"flex-1\">\n      <h4 class=\"font-medium text-sm\">Install FinanceAnalyst Pro</h4>\n      <p class=\"text-sm opacity-90 mt-1\">Get faster access and offline features</p>\n    </div>\n    <div class=\"flex items-center space-x-2 ml-3\">\n      <button id=\"install-btn\" class=\"bg-white text-blue-600 px-3 py-1 rounded text-sm font-medium hover:bg-blue-50\">\n        Install\n      </button>\n      <button id=\"dismiss-btn\" class=\"text-white opacity-60 hover:opacity-100 text-sm\">\n        ✕\n      </button>\n    </div>\n  `;\n  \n  document.body.appendChild(installBanner);\n  \n  // Handle install button click\n  installBanner.querySelector('#install-btn').addEventListener('click', async () => {\n    if (deferredPrompt) {\n      deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      console.log('PWA: Install prompt outcome:', outcome);\n      deferredPrompt = null;\n    }\n    installBanner.remove();\n  });\n  \n  // Handle dismiss button click\n  installBanner.querySelector('#dismiss-btn').addEventListener('click', () => {\n    installBanner.remove();\n    deferredPrompt = null;\n  });\n}\n\n// Handle successful installation\nwindow.addEventListener('appinstalled', () => {\n  console.log('PWA: App was installed successfully');\n  showInAppNotification(\n    'App Installed',\n    'FinanceAnalyst Pro has been installed successfully!',\n    'success'\n  );\n  deferredPromit = null;\n});\n\n// Network status handling\nexport function setupNetworkHandling() {\n  function updateOnlineStatus() {\n    const isOnline = navigator.onLine;\n    console.log('PWA: Network status:', isOnline ? 'online' : 'offline');\n    \n    if (!isOnline) {\n      showInAppNotification(\n        'Connection Lost',\n        'You\\'re now offline. Cached content will be used.',\n        'warning'\n      );\n    } else {\n      showInAppNotification(\n        'Connection Restored',\n        'You\\'re back online. Syncing latest data...',\n        'success'\n      );\n    }\n    \n    // Update UI to reflect network status\n    document.body.setAttribute('data-network-status', isOnline ? 'online' : 'offline');\n  }\n  \n  window.addEventListener('online', updateOnlineStatus);\n  window.addEventListener('offline', updateOnlineStatus);\n  \n  // Initial status\n  updateOnlineStatus();\n}\n\n// Initialize PWA features\nexport function initializePWA() {\n  registerSW();\n  setupNetworkHandling();\n  requestNotificationPermission();\n  \n  console.log('PWA: Initialization complete');\n}","// Security Headers Management and CSP Nonce Generation\n\n// Generate secure nonce for CSP\nexport function generateNonce() {\n  if (typeof window !== 'undefined' && window.crypto) {\n    const array = new Uint8Array(16);\n    window.crypto.getRandomValues(array);\n    return btoa(String.fromCharCode.apply(null, array));\n  }\n  \n  // Fallback for server-side or older browsers\n  return Math.random().toString(36).substring(2, 15) + \n         Math.random().toString(36).substring(2, 15);\n}\n\n// Store current nonce for the session\nlet currentNonce = null;\n\nexport function getCurrentNonce() {\n  if (!currentNonce) {\n    currentNonce = generateNonce();\n  }\n  return currentNonce;\n}\n\n// Refresh nonce (call on navigation or sensitive operations)\nexport function refreshNonce() {\n  currentNonce = generateNonce();\n  return currentNonce;\n}\n\n// CSP Policy Builder\nexport class CSPPolicyBuilder {\n  constructor() {\n    this.policies = {};\n  }\n\n  // Set default secure policies\n  setDefaults() {\n    this.policies = {\n      'default-src': [\"'self'\"],\n      'script-src': [\n        \"'self'\",\n        \"'unsafe-inline'\", // Will be replaced with nonces in production\n        \"'unsafe-eval'\", // Required for some financial calculations\n        'https://static.rocket.new' // Third-party service\n      ],\n      'style-src': [\n        \"'self'\",\n        \"'unsafe-inline'\", // Required for CSS-in-JS\n        'https://fonts.googleapis.com'\n      ],\n      'font-src': [\n        \"'self'\",\n        'https://fonts.gstatic.com'\n      ],\n      'img-src': [\n        \"'self'\",\n        'data:',\n        'blob:',\n        'https:'\n      ],\n      'connect-src': [\n        \"'self'\",\n        'https://www.alphavantage.co',\n        'https://financialmodelingprep.com',\n        'https://data.sec.gov',\n        'https://query1.finance.yahoo.com',\n        'https://query2.finance.yahoo.com',\n        'https://data.nasdaq.com',\n        'https://fred.stlouisfed.org'\n      ],\n      'frame-ancestors': [\"'none'\"],\n      'base-uri': [\"'self'\"],\n      'form-action': [\"'self'\"],\n      'upgrade-insecure-requests': [],\n      'block-all-mixed-content': []\n    };\n    return this;\n  }\n\n  // Add nonce to script-src and style-src\n  addNonce(nonce) {\n    if (this.policies['script-src']) {\n      // Remove unsafe-inline when nonce is present\n      this.policies['script-src'] = this.policies['script-src']\n        .filter(src => src !== \"'unsafe-inline'\")\n        .concat([`'nonce-${nonce}'`]);\n    }\n    \n    if (this.policies['style-src']) {\n      // Keep unsafe-inline for CSS-in-JS compatibility\n      this.policies['style-src'] = this.policies['style-src']\n        .concat([`'nonce-${nonce}'`]);\n    }\n    \n    return this;\n  }\n\n  // Add specific domain to directive\n  addSource(directive, source) {\n    if (!this.policies[directive]) {\n      this.policies[directive] = [];\n    }\n    if (!this.policies[directive].includes(source)) {\n      this.policies[directive].push(source);\n    }\n    return this;\n  }\n\n  // Remove source from directive\n  removeSource(directive, source) {\n    if (this.policies[directive]) {\n      this.policies[directive] = this.policies[directive]\n        .filter(src => src !== source);\n    }\n    return this;\n  }\n\n  // Build final CSP string\n  build() {\n    return Object.entries(this.policies)\n      .map(([directive, sources]) => {\n        if (sources.length === 0) {\n          return directive;\n        }\n        return `${directive} ${sources.join(' ')}`;\n      })\n      .join('; ');\n  }\n}\n\n// Security Headers Configuration\nexport const securityHeaders = {\n  // Content Security Policy\n  getCSP: (nonce = null) => {\n    const builder = new CSPPolicyBuilder().setDefaults();\n    \n    if (nonce) {\n      builder.addNonce(nonce);\n    }\n    \n    // Add development-specific policies\n    if (process.env.NODE_ENV === 'development') {\n      builder\n        .addSource('script-src', 'http://localhost:*')\n        .addSource('connect-src', 'ws://localhost:*')\n        .addSource('connect-src', 'http://localhost:*');\n    }\n    \n    return builder.build();\n  },\n\n  // HTTP Strict Transport Security\n  getHSTS: () => {\n    return 'max-age=31536000; includeSubDomains; preload';\n  },\n\n  // X-Frame-Options\n  getFrameOptions: () => {\n    return 'DENY';\n  },\n\n  // X-Content-Type-Options\n  getContentTypeOptions: () => {\n    return 'nosniff';\n  },\n\n  // Referrer-Policy\n  getReferrerPolicy: () => {\n    return 'strict-origin-when-cross-origin';\n  },\n\n  // Permissions-Policy\n  getPermissionsPolicy: () => {\n    return [\n      'camera=()',\n      'microphone=()',\n      'geolocation=()',\n      'payment=()',\n      'autoplay=()',\n      'fullscreen=*',\n      'picture-in-picture=*'\n    ].join(', ');\n  },\n\n  // Cross-Origin policies\n  getCrossOriginEmbedderPolicy: () => {\n    return 'require-corp';\n  },\n\n  getCrossOriginOpenerPolicy: () => {\n    return 'same-origin';\n  },\n\n  getCrossOriginResourcePolicy: () => {\n    return 'same-origin';\n  }\n};\n\n// Apply CSP nonce to script and style elements\nexport function applyCspNonce(nonce) {\n  if (typeof document === 'undefined') return;\n\n  // Add nonce to inline scripts\n  const inlineScripts = document.querySelectorAll('script:not([src])');\n  inlineScripts.forEach(script => {\n    script.setAttribute('nonce', nonce);\n  });\n\n  // Add nonce to inline styles\n  const inlineStyles = document.querySelectorAll('style');\n  inlineStyles.forEach(style => {\n    style.setAttribute('nonce', nonce);\n  });\n}\n\n// Create secure headers for server responses\nexport function createSecureHeaders(nonce = null) {\n  const headers = {};\n  \n  // CSP with nonce\n  headers['Content-Security-Policy'] = securityHeaders.getCSP(nonce);\n  \n  // Security headers\n  headers['Strict-Transport-Security'] = securityHeaders.getHSTS();\n  headers['X-Frame-Options'] = securityHeaders.getFrameOptions();\n  headers['X-Content-Type-Options'] = securityHeaders.getContentTypeOptions();\n  headers['Referrer-Policy'] = securityHeaders.getReferrerPolicy();\n  headers['Permissions-Policy'] = securityHeaders.getPermissionsPolicy();\n  \n  // Cross-Origin policies\n  if (process.env.NODE_ENV === 'production') {\n    headers['Cross-Origin-Embedder-Policy'] = securityHeaders.getCrossOriginEmbedderPolicy();\n    headers['Cross-Origin-Opener-Policy'] = securityHeaders.getCrossOriginOpenerPolicy();\n    headers['Cross-Origin-Resource-Policy'] = securityHeaders.getCrossOriginResourcePolicy();\n  }\n  \n  return headers;\n}\n\n// Validate CSP compliance\nexport function validateCSPCompliance() {\n  const violations = [];\n  \n  if (typeof document === 'undefined') return violations;\n\n  // Check for inline scripts without nonces\n  const inlineScripts = document.querySelectorAll('script:not([src]):not([nonce])');\n  if (inlineScripts.length > 0) {\n    violations.push({\n      type: 'inline-script-without-nonce',\n      count: inlineScripts.length,\n      elements: Array.from(inlineScripts).slice(0, 3) // First 3 for debugging\n    });\n  }\n\n  // Check for inline styles without nonces (less critical due to CSS-in-JS)\n  const inlineStyles = document.querySelectorAll('style:not([nonce])');\n  if (inlineStyles.length > 5) { // Allow some CSS-in-JS styles\n    violations.push({\n      type: 'excessive-inline-styles',\n      count: inlineStyles.length,\n      recommendation: 'Consider consolidating CSS-in-JS styles'\n    });\n  }\n\n  // Check for unsafe external resources\n  const externalScripts = document.querySelectorAll('script[src]');\n  externalScripts.forEach(script => {\n    const src = script.getAttribute('src');\n    if (src && !src.startsWith('https://') && !src.startsWith('/')) {\n      violations.push({\n        type: 'insecure-external-script',\n        src,\n        element: script\n      });\n    }\n  });\n\n  return violations;\n}\n\n// CSP violation reporter\nexport function setupCSPReporting() {\n  if (typeof document === 'undefined') return;\n\n  document.addEventListener('securitypolicyviolation', (event) => {\n    const violation = {\n      blockedURI: event.blockedURI,\n      violatedDirective: event.violatedDirective,\n      originalPolicy: event.originalPolicy,\n      disposition: event.disposition,\n      timestamp: Date.now(),\n      userAgent: navigator.userAgent,\n      url: window.location.href\n    };\n\n    console.warn('CSP Violation:', violation);\n    \n    // In production, send to monitoring service\n    if (process.env.NODE_ENV === 'production') {\n      sendCSPViolation(violation);\n    }\n  });\n}\n\nfunction sendCSPViolation(violation) {\n  // Send to your monitoring service\n  fetch('/api/csp-violations', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(violation)\n  }).catch(error => {\n    console.error('Failed to report CSP violation:', error);\n  });\n}\n\n// Initialize security measures\nexport function initializeSecurity() {\n  const nonce = getCurrentNonce();\n  \n  // Apply nonce to existing elements\n  applyCspNonce(nonce);\n  \n  // Setup CSP violation reporting\n  setupCSPReporting();\n  \n  // Validate compliance\n  const violations = validateCSPCompliance();\n  if (violations.length > 0) {\n    console.warn('CSP compliance issues found:', violations);\n  }\n  \n  // Setup periodic compliance checks\n  setInterval(() => {\n    const currentViolations = validateCSPCompliance();\n    if (currentViolations.length > violations.length) {\n      console.warn('New CSP compliance issues detected:', \n        currentViolations.slice(violations.length));\n    }\n  }, 30000); // Check every 30 seconds\n  \n  console.log('Security measures initialized with nonce:', nonce);\n  return nonce;\n}\n\n// Hook for React components to get current nonce\nexport function useSecurityNonce() {\n  return getCurrentNonce();\n}","import { createRoot } from 'react-dom/client';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport { store } from './store/store';\nimport { initializePWA } from './utils/serviceWorker';\nimport { initializePerformanceMonitoring } from './utils/performanceMonitoring';\nimport { initializeSecurity } from './utils/securityHeaders';\nimport './styles/tailwind.css';\nimport './styles/index.css';\n\nconst container = document.getElementById('root');\nconst root = createRoot(container);\n\nroot.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\n// Initialize security measures\nconst securityNonce = initializeSecurity();\n\n// Initialize PWA features\ninitializePWA();\n\n// Initialize performance monitoring\ninitializePerformanceMonitoring();\n\n// Log initialization complete\nconsole.log('🚀 Valor-IVX initialized with security nonce:', securityNonce);\n"],"file":"assets/index-Am3uF8GJ.js"}