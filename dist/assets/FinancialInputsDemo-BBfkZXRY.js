const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/charts-vendor-DVkUTdXq.js","assets/vendor-zO7HU-o7.js","assets/react-vendor-CaXMqa0k.js","assets/utils-vendor-Cj_bvvWu.js"])))=>i.map(i=>d[i]);
import{R as e,j as s,az as t,ae as r,r as a,V as n,k as l,E as i,z as o,X as d,ao as c,T as m,ac as u,$ as x,x as g,i as h}from"./react-vendor-CaXMqa0k.js";import"./Progress-BgtNI-d-.js";import"./Button-DP1W3JTY.js";import{C as p,a as f,b,c as v}from"./Card-CWZtCt1D.js";import{g as j,_ as N,t as y,u as w}from"./index-DPdPN0n0.js";import"./Input-Cd7DyeLJ.js";import"./Select-vzzrcgG8.js";import{ResponsiveContainer as C,BarChart as k,XAxis as F,YAxis as S,ReferenceLine as D,Bar as z,PieChart as $,Pie as E,Cell as V,LineChart as I,Line as R,Dot as M}from"./charts-vendor-DVkUTdXq.js";import"./vendor-zO7HU-o7.js";import"./utils-vendor-Cj_bvvWu.js";import"./data-vendor-DpIj8wd6.js";import"./ui-vendor-DOXsx3JB.js";import"./state-vendor-DL0PFC30.js";e.forwardRef(({className:e,id:a,checked:n,indeterminate:l=!1,disabled:i=!1,required:o=!1,label:d,description:c,error:m,size:u="default",...x},g)=>{const h=a||`checkbox-${Math.random().toString(36).substr(2,9)}`;return s.jsxs("div",{className:j("flex items-start space-x-2",e),children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("input",{type:"checkbox",ref:g,id:h,checked:n,disabled:i,required:o,className:"sr-only",...x}),s.jsxs("label",{htmlFor:h,className:j("peer shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground cursor-pointer transition-colors",{sm:"h-4 w-4",default:"h-4 w-4",lg:"h-5 w-5"}[u],n&&"bg-primary text-primary-foreground border-primary",l&&"bg-primary text-primary-foreground border-primary",m&&"border-destructive",i&&"cursor-not-allowed opacity-50"),children:[n&&!l&&s.jsx(t,{className:"h-3 w-3 text-current flex items-center justify-center"}),l&&s.jsx(r,{className:"h-3 w-3 text-current flex items-center justify-center"})]})]}),(d||c||m)&&s.jsxs("div",{className:"flex-1 space-y-1",children:[d&&s.jsxs("label",{htmlFor:h,className:j("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",m?"text-destructive":"text-foreground"),children:[d,o&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),c&&!m&&s.jsx("p",{className:"text-sm text-muted-foreground",children:c}),m&&s.jsx("p",{className:"text-sm text-destructive",children:m})]})]})}).displayName="Checkbox";e.forwardRef(({className:e,children:t,label:r,description:a,error:n,required:l=!1,disabled:i=!1,...o},d)=>s.jsxs("fieldset",{ref:d,disabled:i,className:j("space-y-3",e),...o,children:[r&&s.jsxs("legend",{className:j("text-sm font-medium",n?"text-destructive":"text-foreground"),children:[r,l&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),a&&!n&&s.jsx("p",{className:"text-sm text-muted-foreground",children:a}),s.jsx("div",{className:"space-y-2",children:t}),n&&s.jsx("p",{className:"text-sm text-destructive",children:n})]})).displayName="CheckboxGroup",a.lazy(()=>N(()=>import("./charts-vendor-DVkUTdXq.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:({data:t,...r})=>{const{BarChart:a,Bar:n,XAxis:l,YAxis:i,CartesianGrid:o,Tooltip:d,ResponsiveContainer:c}=e;return s.jsx(c,{width:"100%",height:"100%",children:s.jsxs(a,{data:t,...r,children:[s.jsx(o,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),s.jsx(l,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(i,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(d,{contentStyle:{backgroundColor:"var(--color-popover)",border:"1px solid var(--color-border)",borderRadius:"8px"}}),s.jsx(n,{dataKey:"value",fill:"var(--color-primary)",radius:[2,2,0,0]})]})})}}))),a.lazy(()=>N(()=>import("./charts-vendor-DVkUTdXq.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:({data:t,...r})=>{const{ScatterChart:a,Scatter:n,XAxis:l,YAxis:i,CartesianGrid:o,Tooltip:d,ResponsiveContainer:c}=e;return s.jsx(c,{width:"100%",height:"100%",children:s.jsxs(a,{data:t,...r,children:[s.jsx(o,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),s.jsx(l,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(i,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(d,{contentStyle:{backgroundColor:"var(--color-popover)",border:"1px solid var(--color-border)",borderRadius:"8px"}}),s.jsx(n,{dataKey:"value",fill:"var(--color-primary)"})]})})}}))),a.lazy(()=>N(()=>import("./charts-vendor-DVkUTdXq.js"),__vite__mapDeps([0,1,2,3])).then(e=>({default:({data:t,...r})=>{const{AreaChart:a,Area:n,XAxis:l,YAxis:i,CartesianGrid:o,Tooltip:d,ResponsiveContainer:c}=e;return s.jsx(c,{width:"100%",height:"100%",children:s.jsxs(a,{data:t,...r,children:[s.jsx(o,{strokeDasharray:"3 3",stroke:"var(--color-border)"}),s.jsx(l,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(i,{stroke:"var(--color-muted-foreground)",fontSize:12}),s.jsx(d,{contentStyle:{backgroundColor:"var(--color-popover)",border:"1px solid var(--color-border)",borderRadius:"8px"}}),s.jsx(n,{dataKey:"value",fill:"var(--color-primary)",stroke:"var(--color-primary)"})]})})}})));const L=e.forwardRef(({className:e,label:t,value:r,onChange:d,onBlur:c,placeholder:m="0.00",type:u="currency",prefix:x,suffix:g,locale:h="en-US",currency:p="USD",error:f,description:b,required:v=!1,disabled:N=!1,loading:y=!1,decimals:w=2,allowNegative:C=!0,id:k,autoFocus:F=!1,onValidation:S,min:D,max:z,...$},E)=>{const[V,I]=a.useState(""),[R,M]=a.useState(!1),[L,T]=a.useState(!0),A=a.useRef(null),P=E||A,U=k||`financial-input-${Math.random().toString(36).substr(2,9)}`,_=e=>{if(!e&&0!==e)return"";const s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"";switch(u){case"currency":return new Intl.NumberFormat(h,{style:"currency",currency:p,minimumFractionDigits:w,maximumFractionDigits:w}).format(s);case"percentage":return new Intl.NumberFormat(h,{style:"percent",minimumFractionDigits:w,maximumFractionDigits:w}).format(s/100);default:return new Intl.NumberFormat(h,{minimumFractionDigits:w,maximumFractionDigits:w}).format(s)}},B=e=>{if(!e)return 0;const s=e.replace(/[^\d.-]/g,"").replace(/,/g,""),t=parseFloat(s);return isNaN(t)?0:t};a.useEffect(()=>{R||I(_(r))},[r,u,p,h,w,R]);return a.useEffect(()=>{F&&P.current&&P.current.focus()},[F]),s.jsxs("div",{className:"space-y-2",children:[t&&s.jsxs("label",{htmlFor:U,className:j("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",f&&!L?"text-destructive":"text-foreground"),children:[t,v&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-2 pointer-events-none z-10",children:[(()=>{switch(u){case"currency":return s.jsx(o,{size:16,className:"text-muted-foreground"});case"percentage":return s.jsx(i,{size:16,className:"text-muted-foreground"});default:return s.jsx(l,{size:16,className:"text-muted-foreground"})}})(),x&&s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:x})]}),s.jsx("input",{ref:P,id:U,type:"text",value:V,onChange:e=>{const s=e.target.value;((C?/^-?\d*\.?\d*$/:/^\d*\.?\d*$/).test(s)||""===s)&&I(s)},onFocus:e=>{M(!0);const s=r?r.toString():"";I(s),setTimeout(()=>{P.current&&P.current.select()},0)},onBlur:e=>{M(!1);const s=B(V);(e=>{const s="string"==typeof e?B(e):e;let t=!0,r="";v&&!s&&0!==s?(t=!1,r="This field is required"):!C&&s<0?(t=!1,r="Negative values are not allowed"):void 0!==D&&s<D?(t=!1,r=`Value must be at least ${_(D)}`):void 0!==z&&s>z&&(t=!1,r=`Value must not exceed ${_(z)}`),T(t),S&&S(t,r)})(s),I(_(s)),d&&d(s),c&&c(e)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),P.current?.blur())},placeholder:m,disabled:N||y,className:j("flex h-11 w-full rounded-lg border bg-background text-sm ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200","pl-10 pr-4",g&&"pr-16","font-mono text-right","border-input hover:border-ring/50",R&&"ring-2 ring-ring ring-offset-2 border-ring",f&&!L&&"border-destructive focus-visible:ring-destructive",y&&"animate-pulse",e),...$}),g&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:g})}),y&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),f&&!L&&!y&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(n,{size:16,className:"text-destructive"})})]}),b&&!f&&!L&&s.jsx("p",{className:"text-sm text-muted-foreground",children:b}),(f||!L)&&s.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[s.jsx(n,{size:14}),f||"Invalid input"]})]})});L.displayName="FinancialInput";const T=({value:e,onChange:r,onSave:i,onCancel:o,className:m,type:u="currency",placeholder:x="0.00",isFormula:g=!1,isEditing:h=!1,onEdit:p,disabled:f=!1,loading:b=!1,error:v,locale:N="en-US",currency:y="USD",decimals:w=2,allowNegative:C=!0,min:k,max:F,autoFocus:S=!0,showEditIcon:D=!0,variant:z="default",...$})=>{const[E,V]=a.useState(""),[I,R]=a.useState(""),[M,L]=a.useState(!1),T=a.useRef(null),A=e=>{if(!e&&0!==e)return"—";const s="string"==typeof e?parseFloat(e):e;if(isNaN(s))return"—";switch(u){case"currency":const t=new Intl.NumberFormat(N,{style:"currency",currency:y,minimumFractionDigits:w,maximumFractionDigits:w}).format(s),r=Math.abs(s);return r>=1e6?new Intl.NumberFormat(N,{minimumFractionDigits:1,maximumFractionDigits:1}).format(s/1e6)+"M":r>=1e3?new Intl.NumberFormat(N,{minimumFractionDigits:0,maximumFractionDigits:0}).format(s):t.replace(/\.00$/,"");case"percentage":return new Intl.NumberFormat(N,{style:"percent",minimumFractionDigits:w,maximumFractionDigits:w}).format(s/100);case"number":return new Intl.NumberFormat(N,{minimumFractionDigits:w,maximumFractionDigits:w}).format(s);default:return e?.toString()||""}},P=e=>{if(!e)return 0;const s=e.replace(/[^\d.-]/g,"").replace(/,/g,""),t=parseFloat(s);return isNaN(t)?0:t},U=()=>{const e="text"===u?E:P(E);(e=>{const s="text"===u?e:P(e);return!("text"!==u&&(!C&&s<0?(R("Negative values are not allowed"),1):void 0!==k&&s<k?(R(`Value must be at least ${A(k)}`),1):void 0!==F&&s>F?(R(`Value must not exceed ${A(F)}`),1):(R(""),0)))})(E)&&(r&&r(e),i&&i(e),p&&p(!1))},_=()=>{V(""),R(""),o&&o(),p&&p(!1)},B=e=>{const s=e.target.value;if("text"!==u){((C?/^-?\d*\.?\d*$/:/^\d*\.?\d*$/).test(s)||""===s)&&V(s)}else V(s)},K=e=>{"Enter"===e.key?(e.preventDefault(),U()):"Escape"===e.key?(e.preventDefault(),_()):"Tab"===e.key&&(e.preventDefault(),U())};a.useEffect(()=>{h&&T.current&&S&&(T.current.focus(),T.current.select())},[h,S]);const G=(()=>{switch(z){case"adjusted":return{container:"bg-gradient-to-r from-amber-50 to-yellow-50 border-amber-200",text:g?"text-amber-900":"text-slate-700",hover:"hover:bg-amber-100 hover:border-amber-300",input:"border-amber-400 focus:ring-amber-100 focus:border-amber-500",editIcon:"text-amber-500"};case"formula":return{container:"bg-gradient-to-r from-blue-50 to-blue-100 border-blue-200",text:"text-blue-900",hover:"cursor-not-allowed",input:"border-blue-400 focus:ring-blue-100 focus:border-blue-500",editIcon:"text-blue-500"};default:return{container:"bg-background border-transparent",text:g?"text-blue-900":"text-slate-700",hover:"hover:bg-slate-50 hover:border-slate-200",input:"border-input focus:ring-ring focus:border-ring",editIcon:"text-slate-400"}}})();return h?s.jsxs("div",{className:"relative",children:[s.jsx("input",{ref:T,type:"text",value:E,onChange:B,onKeyDown:K,placeholder:x,disabled:b,className:j("w-full px-3 py-2.5 bg-white border-2 rounded-lg text-slate-900 text-right font-mono text-sm","focus:outline-none focus:ring-4 shadow-lg transition-all duration-200",G.input,b&&"animate-pulse",I&&"border-destructive focus:ring-destructive/20",m)}),s.jsxs("div",{className:"absolute -top-2 -right-2 flex gap-1",children:[s.jsx("button",{onClick:U,disabled:b||!!I,className:j("w-5 h-5 bg-success hover:bg-success/90 text-white rounded-full","flex items-center justify-center text-xs transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Save changes",children:s.jsx(t,{size:12})}),s.jsx("button",{onClick:_,disabled:b,className:j("w-5 h-5 bg-destructive hover:bg-destructive/90 text-white rounded-full","flex items-center justify-center text-xs transition-colors","disabled:opacity-50 disabled:cursor-not-allowed"),title:"Cancel changes",children:s.jsx(d,{size:12})})]}),b&&s.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-3 h-3 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),I&&s.jsxs("div",{className:"absolute -bottom-6 left-0 right-0 text-xs text-destructive flex items-center gap-1",children:[s.jsx(n,{size:10}),I]})]}):s.jsxs("div",{onClick:()=>{f||g||(V(e?e.toString():""),R(""),p&&p(!0))},onMouseEnter:()=>L(!0),onMouseLeave:()=>L(!1),className:j("px-3 py-2.5 rounded-lg font-mono text-sm transition-all duration-200","min-h-[40px] flex items-center justify-end relative group",G.container,!f&&!g&&G.hover,!f&&!g&&"cursor-pointer",g&&"font-semibold shadow-sm",f&&"opacity-50 cursor-not-allowed",v&&"border-destructive",m),children:[s.jsx("span",{className:G.text,children:A(e)}),g&&s.jsx(l,{size:12,className:"ml-2 text-blue-500/80"}),!g&&!f&&D&&s.jsx(c,{size:12,className:j("ml-2 transition-opacity",M?"opacity-60":"opacity-0",G.editIcon)}),v&&s.jsx(n,{size:12,className:"ml-2 text-destructive"}),b&&s.jsx("div",{className:"ml-2",children:s.jsx("div",{className:"w-3 h-3 border-2 border-current border-t-transparent rounded-full animate-spin opacity-50"})})]})},A={USD:{symbol:"$",code:"USD",decimals:2,name:"US Dollar"},EUR:{symbol:"€",code:"EUR",decimals:2,name:"Euro"},GBP:{symbol:"£",code:"GBP",decimals:2,name:"British Pound"},JPY:{symbol:"¥",code:"JPY",decimals:0,name:"Japanese Yen"},CAD:{symbol:"C$",code:"CAD",decimals:2,name:"Canadian Dollar"},AUD:{symbol:"A$",code:"AUD",decimals:2,name:"Australian Dollar"},CHF:{symbol:"CHF",code:"CHF",decimals:2,name:"Swiss Franc"},CNY:{symbol:"¥",code:"CNY",decimals:2,name:"Chinese Yuan"}},P=e.forwardRef(({className:e,label:t,value:r=0,onChange:l,onBlur:i,placeholder:d,currency:c="USD",locale:x="en-US",error:g,description:h,required:p=!1,disabled:f=!1,loading:b=!1,allowNegative:v=!0,showCurrency:N=!0,showTrend:y=!1,previousValue:w,size:C="default",variant:k="default",id:F,autoFocus:S=!1,onValidation:D,min:z,max:$,step:E=.01,abbreviateDisplay:V=!1,precision:I,...R},M)=>{const[L,T]=a.useState(""),[P,U]=a.useState(!1),[_,B]=a.useState(!0),[K,G]=a.useState(""),Y=a.useRef(null),O=M||Y,q=F||`currency-input-${Math.random().toString(36).substr(2,9)}`,J=A[c]||A.USD,W=void 0!==I?I:J.decimals,X=a.useMemo(()=>{if(d)return d;return H(0)},[d,c,W]);function H(e,s={}){if(!e&&0!==e)return"";const t="string"==typeof e?parseFloat(e):e;if(isNaN(t))return"";const{forDisplay:r=!1,abbreviated:a=!1}=s;if(a&&V&&Math.abs(t)>=1e3){const e=Math.abs(t),s=t<0?"-":"";if(e>=1e9)return`${s}${J.symbol}${(e/1e9).toFixed(1)}B`;if(e>=1e6)return`${s}${J.symbol}${(e/1e6).toFixed(1)}M`;if(e>=1e3)return`${s}${J.symbol}${(e/1e3).toFixed(0)}K`}try{return new Intl.NumberFormat(x,{style:"currency",currency:c,minimumFractionDigits:W,maximumFractionDigits:W}).format(t)}catch(n){const e=t.toFixed(W);return`${J.symbol}${e}`}}function Q(e){if(!e)return 0;const s=e.toString().toLowerCase();let t=1;s.endsWith("k")?t=1e3:s.endsWith("m")?t=1e6:s.endsWith("b")&&(t=1e9);const r=e.toString().replace(/[^\d.-]/g,"").replace(/,/g,""),a=parseFloat(r)*t;return isNaN(a)?0:a}const Z=(()=>{if(!y||void 0===w)return null;const e="string"==typeof r?Q(r):r||0,s="string"==typeof w?Q(w):w||0;return e>s?"up":e<s?"down":"neutral"})();a.useEffect(()=>{P||T(H(r,{abbreviated:V}))},[r,c,x,W,P,V]);a.useEffect(()=>{S&&O.current&&O.current.focus()},[S]);return s.jsxs("div",{className:"space-y-2",children:[t&&s.jsxs("label",{htmlFor:q,className:j("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",g||!_?"text-destructive":"text-foreground"),children:[t,p&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[N&&s.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center gap-1 pointer-events-none z-10",children:[s.jsx(o,{size:16,className:"text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:J.code})]}),s.jsx("input",{ref:O,id:q,type:"text",value:L,onChange:e=>{const s=e.target.value;((v?/^-?\d*\.?\d*[kmb]?$/i:/^\d*\.?\d*[kmb]?$/i).test(s)||""===s)&&T(s)},onFocus:e=>{U(!0);const s=r?r.toString():"";T(s),setTimeout(()=>{O.current&&O.current.select()},0)},onBlur:e=>{U(!1);const s=Q(L);(e=>{const s="string"==typeof e?Q(e):e;let t=!0,r="";p&&!s&&0!==s?(t=!1,r="This field is required"):!v&&s<0?(t=!1,r="Negative values are not allowed"):void 0!==z&&s<z?(t=!1,r=`Value must be at least ${H(z)}`):void 0!==$&&s>$&&(t=!1,r=`Value must not exceed ${H($)}`),B(t),G(r),D&&D(t,r)})(s),T(H(s,{abbreviated:V})),l&&l(s),i&&i(e)},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),O.current?.blur())},placeholder:X,disabled:f||b,step:E,className:j("flex w-full rounded-lg border ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","transition-all duration-200",{sm:"h-9 px-3 text-sm",default:"h-11 px-4 text-sm",lg:"h-12 px-4 text-base"}[C],{default:"border-input bg-background hover:border-ring/50",filled:"border-transparent bg-muted hover:bg-muted/80",minimal:"border-transparent bg-transparent hover:bg-muted/50"}[k],"font-mono text-right",N?"pl-16":"pl-4","pr-4",Z&&"pr-8",P&&"ring-2 ring-ring ring-offset-2 border-ring",(g||!_)&&"border-destructive focus-visible:ring-destructive",b&&"animate-pulse",e),...R}),Z&&"neutral"!==Z&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:"up"===Z?s.jsx(m,{size:16,className:"text-success"}):s.jsx(u,{size:16,className:"text-destructive"})}),b&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 border-2 border-muted-foreground border-t-transparent rounded-full animate-spin"})}),(g||!_)&&!b&&s.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:s.jsx(n,{size:16,className:"text-destructive"})})]}),h&&!g&&_&&s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),(g||!_)&&s.jsxs("p",{className:"text-sm text-destructive flex items-center gap-1",children:[s.jsx(n,{size:14}),g||K]}),y&&void 0!==w&&"neutral"!==Z&&s.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:["up"===Z?s.jsx(m,{size:12,className:"text-success"}):s.jsx(u,{size:12,className:"text-destructive"}),"vs. previous: ",H(w)]})]})});P.displayName="CurrencyInput";const U=({type:e="default",size:t="default",message:r,className:a,showIcon:n=!0,variant:d="default",...c})=>{const u=(()=>{switch(e){case"calculation":default:return l;case"financial":return o;case"trend":return m;case"percentage":return i}})(),x={sm:{spinner:"w-3 h-3 border",icon:12,text:"text-xs",gap:"gap-1",padding:"p-1"},default:{spinner:"w-4 h-4 border-2",icon:16,text:"text-sm",gap:"gap-2",padding:"p-2"},lg:{spinner:"w-6 h-6 border-2",icon:20,text:"text-base",gap:"gap-3",padding:"p-3"}}[t],g={default:"text-muted-foreground",subtle:"text-muted-foreground/70",pulsing:"text-muted-foreground animate-pulse"};if("inline"===e)return s.jsxs("div",{className:j("flex items-center justify-center",x.gap,a),...c,children:[s.jsx("div",{className:j(x.spinner,"border-muted-foreground border-t-transparent rounded-full animate-spin",g[d])}),r&&s.jsx("span",{className:j(x.text,g[d]),children:r})]});const h=r||{calculation:"Calculating...",financial:"Processing financial data...",trend:"Analyzing trends...",percentage:"Computing percentages...",default:"Loading..."}[e];return s.jsxs("div",{className:j("flex flex-col items-center justify-center",x.padding,x.gap,"bg-muted/30 rounded-lg border border-dashed border-muted-foreground/30",a),...c,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:j(x.spinner,"border-muted-foreground border-t-transparent rounded-full animate-spin",g[d])}),n&&s.jsx(u,{size:x.icon,className:j("animate-pulse",g[d])})]}),h&&s.jsx("p",{className:j(x.text,"font-medium text-center",g[d]),children:h})]})},_=({width:e="w-20",height:t="h-6",className:r,variant:a="default",...n})=>s.jsx("div",{className:j("animate-pulse rounded-md",e,t,{default:"bg-muted",currency:"bg-emerald-100",percentage:"bg-blue-100"}[a],r),...n}),B=({size:e="default",className:t,variant:r="default",...a})=>{const n={sm:"w-1 h-1",default:"w-1.5 h-1.5",lg:"w-2 h-2"},l={default:"bg-muted-foreground",primary:"bg-primary",success:"bg-success",warning:"bg-warning"};return s.jsx("div",{className:j("flex items-center gap-1",t),...a,children:[0,1,2].map(t=>s.jsx("div",{className:j("rounded-full animate-pulse",n[e],l[r]),style:{animationDelay:.2*t+"s",animationDuration:"1.4s"}},t))})},K=({type:e="error",message:t,className:r,size:a="default",variant:l="default",showIcon:i=!0,dismissible:o=!1,onDismiss:c,position:m="bottom",children:u,...p})=>{const f={error:n,warning:h,success:g,info:x}[e],b={sm:{text:"text-xs",icon:12,padding:"p-2",gap:"gap-1"},default:{text:"text-sm",icon:14,padding:"p-3",gap:"gap-2"},lg:{text:"text-base",icon:16,padding:"p-4",gap:"gap-3"}}[a],v={error:{bg:"bg-destructive/10",border:"border-destructive/20",text:"text-destructive",icon:"text-destructive"},warning:{bg:"bg-warning/10",border:"border-warning/20",text:"text-warning-foreground",icon:"text-warning"},success:{bg:"bg-success/10",border:"border-success/20",text:"text-success-foreground",icon:"text-success"},info:{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-700",icon:"text-blue-500"}}[e];return t||u?s.jsxs("div",{className:j("flex items-start",b.gap,b.padding,v.bg,v.border,(()=>{switch(l){case"inline":return"flex items-center";case"floating":return j("absolute z-50 shadow-lg rounded-lg","top"===m&&"bottom-full mb-2","bottom"===m&&"top-full mt-2","left"===m&&"right-full mr-2","right"===m&&"left-full ml-2");case"subtle":return"border-0 bg-transparent";default:return"rounded-lg border"}})(),r),...p,children:[i&&f&&s.jsx(f,{size:b.icon,className:j("flex-shrink-0 mt-0.5",v.icon)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[t&&s.jsx("p",{className:j(b.text,v.text,"font-medium"),children:t}),u&&s.jsx("div",{className:j(b.text,v.text),children:u})]}),o&&c&&s.jsx("button",{onClick:c,className:j("flex-shrink-0 ml-2 p-1 rounded-full hover:bg-black/10 transition-colors",v.text),"aria-label":"Dismiss",children:s.jsx(d,{size:b.icon})})]}):null},G=({error:e,warning:t,success:r,info:a,className:n,...l})=>{let i,o;if(e)i="error",o=e;else if(t)i="warning",o=t;else if(r)i="success",o=r;else{if(!a)return null;i="info",o=a}return s.jsx(K,{type:i,message:o,size:"sm",variant:"inline",className:n,...l})},Y=({items:e=[],className:t,showNumbers:r=!1,...a})=>e.length?s.jsx("div",{className:j("space-y-2",t),...a,children:e.map((e,t)=>s.jsx(K,{type:e.type||"error",message:r?`${t+1}. ${e.message}`:e.message,size:"sm",variant:"inline"},t))}):null,O=({errors:t=[],warnings:r=[],className:a,title:n="Please fix the following issues:",collapsible:l=!1,...i})=>{const[o,d]=e.useState(l),c=t.length+r.length;if(0===c)return null;const m=[...t.map(e=>({type:"error",message:e})),...r.map(e=>({type:"warning",message:e}))];return s.jsxs("div",{className:j("space-y-3",a),...i,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-sm font-semibold text-foreground",children:n}),l&&s.jsx("button",{onClick:()=>d(!o),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:o?`Show ${c} issues`:"Hide"})]}),!o&&s.jsx(Y,{items:m,showNumbers:!0}),o&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length>0&&`${t.length} error${t.length>1?"s":""}`,t.length>0&&r.length>0&&", ",r.length>0&&`${r.length} warning${r.length>1?"s":""}`]})]})},q=({children:e,fallback:t=null,componentName:r="unknown",threshold:n=.1,rootMargin:l="50px",preloadDelay:i=2e3,priority:o="normal",onLoad:d=null,onError:c=null,performanceTracking:m=!0})=>{const[u,x]=a.useState(!1),[g,h]=a.useState(!1),[p,f]=a.useState(null),[b,v]=a.useState(null),j=a.useRef(null),N=a.useRef(null),w=a.useRef(null);a.useEffect(()=>{if(!j.current)return;const e={threshold:n,rootMargin:l};return N.current=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(w.current=performance.now(),x(!0),N.current&&N.current.unobserve(e.target))})},e),N.current.observe(j.current),()=>{N.current&&N.current.disconnect(),b&&clearTimeout(b)}},[n,l,b]),a.useEffect(()=>{if("high"===o&&i>0){const e=setTimeout(()=>{w.current=performance.now(),x(!0)},i);v(e)}},[o,i]),a.useEffect(()=>{if(g&&w.current&&m){const e=performance.now()-w.current;y(r,{loadTime:e,priority:o,lazy:!0,timestamp:Date.now()}),d?.({componentName:r,loadTime:e})}},[g,r,o,m,d]);const C=s.jsx("div",{className:"animate-pulse bg-gray-100 rounded-lg p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded"})]})}),k=s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("h3",{className:"text-sm font-medium text-red-800",children:["Failed to load ",r]}),s.jsx("div",{className:"mt-2 text-sm text-red-700",children:s.jsx("p",{children:p?.message||"An unexpected error occurred"})}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>{f(null),x(!1),setTimeout(()=>x(!0),100)},className:"text-sm font-medium text-red-800 hover:text-red-900",children:"Try again"})})]})]})});return s.jsx("div",{ref:j,className:"lazy-loader-container",children:u?p?k:s.jsx(a.Suspense,{fallback:t||C,children:s.jsx(J,{onError:e=>{f(e),c?.(e),m&&y(r,{loadError:e.message,priority:o,lazy:!0,timestamp:Date.now()})},onLoad:()=>{h(!0),f(null)},componentName:r,children:e})}):t||C})};class J extends e.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){this.props.onError?.(e,s)}componentDidMount(){this.state.hasError||this.props.onLoad?.()}render(){return this.state.hasError?null:this.props.children}}const W=({title:e="Chart",height:t=320})=>s.jsxs("div",{className:"w-full bg-white border border-gray-200 rounded-lg p-6",style:{height:t},children:[s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),s.jsx("div",{className:"h-32 bg-gray-200 rounded w-full"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("div",{className:"h-3 bg-gray-200 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded"})]})]})]}),s.jsxs("div",{className:"sr-only",children:["Loading ",e,"..."]})]}),X=(t,r,n={})=>{const l=e.forwardRef((e,l)=>{const{priority:i="normal",preloadDelay:o=2e3,height:d=320,title:c=r,...m}=e,{elementRef:u}=w("chart"),x=s.jsx(W,{title:c,height:d});return s.jsx("div",{ref:e=>{u(e),l&&("function"==typeof l?l(e):l.current=e)},children:s.jsx(q,{componentName:r,priority:i,preloadDelay:o,fallback:x,performanceTracking:!0,...n,children:s.jsx(a.Suspense,{fallback:x,children:s.jsx(t,{...m})})})})});return l.displayName=`LazyChart(${r})`,l},H=({title:e,value:t,change:a,format:n="number",prefix:l="",suffix:i="",className:o})=>{const d=a>0?m:a<0?u:r;return s.jsx(p,{className:j("relative overflow-hidden",o),children:s.jsxs(v,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),void 0!==a&&s.jsxs("div",{className:j("flex items-center gap-1",a>0?"text-success":a<0?"text-destructive":"text-muted-foreground"),children:[s.jsx(d,{className:"h-4 w-4"}),s.jsxs("span",{className:"text-xs font-medium",children:[Math.abs(a).toFixed(1),"%"]})]})]}),s.jsxs("div",{className:"flex items-baseline gap-1",children:[l&&s.jsx("span",{className:"text-lg text-muted-foreground",children:l}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:(c=t,"currency"===n?`$${(c/1e6).toFixed(1)}M`:"percentage"===n?`${c.toFixed(1)}%`:"ratio"===n?c.toFixed(2):"large-number"===n?c>=1e9?`${(c/1e9).toFixed(1)}B`:c>=1e6?`${(c/1e6).toFixed(1)}M`:c>=1e3?`${(c/1e3).toFixed(1)}K`:c.toFixed(0):c.toLocaleString())}),i&&s.jsx("span",{className:"text-lg text-muted-foreground",children:i})]}),void 0!==a&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"vs. previous period"})]})});var c};X(({data:e=[],className:t,title:r="DCF Cash Flow Components",formatValue:a=e=>`$${(e/1e6).toFixed(1)}M`})=>{const n=e.reduce((e,s,t)=>{const r=0===t?0:e[t-1].cumulative,a=r+s.value;return e.push({...s,cumulative:a,start:r,isPositive:s.value>=0,isTotal:"total"===s.type}),e},[]),l=e=>{const{payload:t,x:r,y:a,width:n,height:l}=e;if(!t)return null;const i=t.isTotal?"var(--color-primary)":t.isPositive?"var(--color-secondary)":"var(--color-destructive)";return s.jsx("rect",{x:r,y:a,width:n,height:l,fill:i,className:"transition-opacity duration-200 hover:opacity-80"})},i=({active:e,payload:t,label:r})=>{if(!e||!t||!t.length)return null;const n=t[0].payload;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-elevation-1 p-3 min-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm text-foreground mb-1",children:r}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono font-medium",children:a(n.value)})]}),!n.isTotal&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cumulative: ",s.jsx("span",{className:"font-mono font-medium",children:a(n.cumulative)})]})]})};return s.jsxs(p,{className:j("w-full",t),children:[s.jsx(f,{className:"pb-4",children:s.jsx(b,{className:"text-lg font-semibold text-foreground",children:r})}),s.jsxs(v,{className:"pt-0",children:[s.jsx("div",{className:"h-80 w-full",children:s.jsx(C,{width:"100%",height:"100%",children:s.jsxs(k,{data:n,margin:{top:20,right:30,left:20,bottom:60},children:[s.jsx(F,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"},angle:-45,textAnchor:"end",height:80}),s.jsx(S,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"},tickFormatter:a}),s.jsx(D,{y:0,stroke:"var(--color-border)",strokeWidth:1}),s.jsx(z,{dataKey:"value",shape:s.jsx(l,{}),radius:[2,2,0,0]}),s.jsx(i,{})]})})}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-secondary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Positive"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-destructive"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Negative"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-sm bg-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]})]})]})]})},"dcf-waterfall",{priority:"high",preloadDelay:1e3}),X(({data:e=[],className:t,title:r="Revenue Breakdown",formatValue:n=e=>`$${(e/1e6).toFixed(1)}M`})=>{const[l,i]=a.useState(null),o=["var(--color-primary)","var(--color-secondary)","var(--color-accent)","var(--color-success)","var(--color-warning)","#64748b","#94a3b8","#cbd5e1"],d=e.reduce((e,s)=>e+s.value,0),c=e.map((e,s)=>({...e,percentage:(e.value/d*100).toFixed(1),color:o[s%o.length]})),m=({active:e,payload:t})=>{if(!e||!t||!t.length)return null;const r=t[0].payload;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-elevation-1 p-3 min-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm text-foreground mb-1",children:r.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono font-medium",children:n(r.value)})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Share: ",s.jsxs("span",{className:"font-mono font-medium",children:[r.percentage,"%"]})]})]})};return s.jsxs(p,{className:j("w-full",t),children:[s.jsx(f,{className:"pb-4",children:s.jsx(b,{className:"text-lg font-semibold text-foreground",children:r})}),s.jsx(v,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[s.jsx("div",{className:"h-80 w-80 flex-shrink-0",children:s.jsx(C,{width:"100%",height:"100%",children:s.jsxs($,{children:[s.jsx(E,{data:c,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",onMouseEnter:(e,s)=>{i(s)},onMouseLeave:()=>{i(null)},children:c.map((e,t)=>s.jsx(V,{fill:e.color,className:"transition-all duration-200",style:{filter:l===t?"brightness(1.1)":"none",transform:l===t?"scale(1.02)":"scale(1)",transformOrigin:"center"}},`cell-${t}`))}),s.jsx(m,{})]})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"space-y-3",children:c.map((e,t)=>s.jsxs("div",{className:j("flex items-center justify-between p-3 rounded-md transition-colors duration-200 cursor-pointer",l===t?"bg-muted":"hover:bg-gray-50"),onMouseEnter:()=>i(t),onMouseLeave:()=>i(null),children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm flex-shrink-0",style:{backgroundColor:e.color}}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium text-sm text-foreground truncate",children:e.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.percentage,"% of total"]})]})]}),s.jsx("div",{className:"text-right flex-shrink-0",children:s.jsx("p",{className:"font-mono text-sm font-medium text-foreground",children:n(e.value)})})]},e.name))}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-foreground",children:"Total Revenue"}),s.jsx("span",{className:"font-mono text-lg font-bold text-primary",children:n(d)})]})})]})]})})]})},"revenue-breakdown",{priority:"normal",preloadDelay:1500}),X(({data:e=[],className:t,title:r="Growth Trend Analysis",dataKey:a="value",formatValue:n=e=>`${e.toFixed(1)}%`,showGrowthRate:l=!0})=>{const i=e.map((s,t)=>{if(0===t)return{...s,growth:null};const r=e[t-1][a],n=s[a],l=0!==r?(n-r)/r*100:0;return{...s,growth:l}}),o=e[0]?.[a]||0,d=e[e.length-1]?.[a]||0,c=0!==o?(d-o)/o*100:0,m=c>=0,u=e=>{const{payload:t,cx:r,cy:a}=e;return t?s.jsx(M,{cx:r,cy:a,r:4,fill:"var(--color-secondary)",className:"transition-all duration-200 hover:r-6"}):null},x=({active:e,payload:t,label:r})=>{if(!e||!t||!t.length)return null;const l=t[0].payload;return s.jsxs("div",{className:"bg-white border border-gray-200 rounded-md shadow-elevation-1 p-3 min-w-[160px]",children:[s.jsx("p",{className:"font-medium text-sm text-foreground mb-1",children:r}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Value: ",s.jsx("span",{className:"font-mono font-medium",children:n(l[a])})]}),null!==l.growth&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Growth: ",s.jsxs("span",{className:j("font-mono font-medium",l.growth>=0?"text-success":"text-destructive"),children:[l.growth>=0?"+":"",l.growth.toFixed(1),"%"]})]})]})};return s.jsxs(p,{className:j("w-full",t),children:[s.jsx(f,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(b,{className:"text-lg font-semibold text-foreground",children:r}),l&&s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall Growth"}),s.jsxs("p",{className:j("text-sm font-mono font-semibold",m?"text-success":"text-destructive"),children:[m?"+":"",c.toFixed(1),"%"]})]})]})}),s.jsxs(v,{className:"pt-0",children:[s.jsx("div",{className:"h-80 w-full",children:s.jsx(C,{width:"100%",height:"100%",children:s.jsxs(I,{data:i,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(F,{dataKey:"period",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"}}),s.jsx(S,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"var(--color-muted-foreground)"},tickFormatter:n}),s.jsx(R,{type:"monotone",dataKey:a,stroke:"var(--color-secondary)",strokeWidth:3,dot:s.jsx(u,{}),activeDot:{r:6,fill:"var(--color-secondary)",stroke:"var(--color-background)",strokeWidth:2},className:"drop-shadow-sm"}),s.jsx(x,{})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-4 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Starting Value"}),s.jsx("p",{className:"font-mono text-sm font-medium text-foreground",children:n(o)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Current Value"}),s.jsx("p",{className:"font-mono text-sm font-medium text-foreground",children:n(d)})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Net Change"}),s.jsxs("p",{className:j("font-mono text-sm font-medium",m?"text-success":"text-destructive"),children:[m?"+":"",c.toFixed(1),"%"]})]})]})]})]})},"trend-line",{priority:"normal",preloadDelay:2e3}),X(({data:e=[],xAxisLabels:t=[],yAxisLabels:r=[],className:n,title:l="Sensitivity Analysis",formatValue:i=e=>`${e.toFixed(1)}%`,formatCell:o=e=>`${e>0?"+":""}${e.toFixed(1)}%`})=>{const[d,c]=a.useState(null),m=e.flat(),u=Math.min(...m),x=Math.max(...m)-u,g=({x:e,y:t,value:r,xLabel:a,yLabel:n})=>d?.x!==e||d?.y!==t?null:s.jsxs("div",{className:"absolute pointer-events-none z-10 bg-white border border-gray-200 rounded-md shadow-elevation-2 p-3 min-w-[180px]",style:{left:d.clientX+10,top:d.clientY-60},children:[s.jsxs("p",{className:"font-medium text-sm text-foreground mb-1",children:[n," × ",a]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Impact: ",s.jsx("span",{className:j("font-mono font-medium",r>0?"text-success":r<0?"text-destructive":"text-muted-foreground"),children:o(r)})]})]});return s.jsxs(p,{className:j("w-full",n),children:[s.jsx(f,{className:"pb-4",children:s.jsx(b,{className:"text-lg font-semibold text-foreground",children:l})}),s.jsxs(v,{className:"pt-0",children:[s.jsxs("div",{className:"relative overflow-auto",children:[s.jsxs("div",{className:"min-w-[600px]",children:[s.jsxs("div",{className:"grid grid-cols-[120px_repeat(var(--cols),1fr)] gap-1 mb-1",children:[s.jsx("div",{})," ",t.map((e,t)=>s.jsx("div",{className:"text-center p-2",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:e})},t))]}),e.map((e,a)=>s.jsxs("div",{className:"grid grid-cols-[120px_repeat(var(--cols),1fr)] gap-1 mb-1",style:{"--cols":t.length},children:[s.jsx("div",{className:"flex items-center justify-end pr-3",children:s.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:r[a]})}),e.map((e,t)=>{const r=(e=>0===x?.5:(e-u)/x)(e),n=((e,s)=>e>0?`rgba(34, 197, 94, ${.2+.6*s})`:e<0?`rgba(239, 68, 68, ${.2+.6*s})`:"rgba(148, 163, 184, 0.2)")(e,r);return s.jsx("div",{className:"relative h-12 rounded-sm border border-gray-100 cursor-pointer transition-all duration-200 hover:border-gray-300",style:{backgroundColor:n},onMouseEnter:s=>{c({x:t,y:a,value:e,clientX:s.clientX,clientY:s.clientY})},onMouseLeave:()=>c(null),children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:j("text-xs font-mono font-medium",Math.abs(e)>.6*x?"text-white":"text-gray-900"),children:o(e)})})},t)})]},a))]}),d&&s.jsx(g,{x:d.x,y:d.y,value:d.value,xLabel:t[d.x],yLabel:r[d.y]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-6 mt-6 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-red-500 opacity-40"}),s.jsx("div",{className:"w-4 h-4 rounded-sm bg-red-500 opacity-80"})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Negative Impact"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-slate-400 opacity-20 border border-gray-200"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Neutral"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("div",{className:"w-4 h-4 rounded-sm bg-green-500 opacity-40"}),s.jsx("div",{className:"w-4 h-4 rounded-sm bg-green-500 opacity-80"})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Positive Impact"})]})]})]})]})},"sensitivity-heatmap",{priority:"normal",preloadDelay:2500}),X(({metrics:e=[],className:t,title:r="Key Financial Metrics",columns:a=4})=>{const n={2:"grid-cols-1 md:grid-cols-2",3:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 md:grid-cols-2 lg:grid-cols-4",5:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5",6:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6"},l=e.reduce((e,s)=>{const t=s.category||"default";return e[t]||(e[t]=[]),e[t].push(s),e},{}),i=Object.keys(l).length>1||1===Object.keys(l).length&&!l.default;return s.jsxs("div",{className:j("w-full space-y-6",t),children:[r&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground mb-2",children:r}),s.jsx("div",{className:"h-px bg-gradient-to-r from-border to-transparent"})]}),i?Object.entries(l).map(([e,t])=>s.jsxs("div",{children:["default"!==e&&s.jsxs("h3",{className:"text-lg font-medium text-foreground mb-4 flex items-center gap-2",children:[e,s.jsx("div",{className:"flex-1 h-px bg-muted"})]}),s.jsx("div",{className:j("grid gap-4",n[Math.min(a,6)]),children:t.map((t,r)=>s.jsx(H,{title:t.title,value:t.value,change:t.change,format:t.format,prefix:t.prefix,suffix:t.suffix,className:t.highlight?"ring-2 ring-secondary ring-opacity-20":""},`${e}-${r}`))})]},e)):s.jsx("div",{className:j("grid gap-4",n[Math.min(a,6)]),children:e.map((e,t)=>s.jsx(H,{title:e.title,value:e.value,change:e.change,format:e.format,prefix:e.prefix,suffix:e.suffix,className:e.highlight?"ring-2 ring-secondary ring-opacity-20":""},t))}),e.some(e=>e.isSummary)&&s.jsx("div",{className:"pt-4 border-t border-muted",children:s.jsx("div",{className:j("grid gap-4",n[Math.min(a,6)]),children:e.filter(e=>e.isSummary).map((e,t)=>s.jsx(H,{title:e.title,value:e.value,change:e.change,format:e.format,prefix:e.prefix,suffix:e.suffix,className:"bg-primary/5 border-primary/20"},`summary-${t}`))})})]})},"metrics-dashboard",{priority:"high",preloadDelay:500});const Q=()=>{const[e,t]=a.useState({revenue:125e4,expenses:85e4,growth:12.5,margin:32.1,editableValue:45e4,currency:24e5}),[r,n]=a.useState({calculation:!1,validation:!1}),[i,d]=a.useState([]),[c,u]=a.useState(!1),x=e=>s=>{t(t=>({...t,[e]:s}))};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:s.jsx(l,{className:"w-8 h-8 text-blue-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Enhanced Financial Input Components"})]}),s.jsx("p",{className:"text-lg text-slate-600 max-w-2xl mx-auto",children:"Professional financial input components with smart formatting, validation, and seamless user experience"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(o,{className:"w-5 h-5 text-emerald-600"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"FinancialInput Component"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(L,{label:"Annual Revenue",value:e.revenue,onChange:x("revenue"),type:"currency",currency:"USD",description:"Enter the company's annual revenue",required:!0,onValidation:(e,s)=>{}}),s.jsx(L,{label:"Operating Expenses",value:e.expenses,onChange:x("expenses"),type:"currency",currency:"USD",error:e.expenses>e.revenue?"Expenses cannot exceed revenue":null}),s.jsx(L,{label:"Growth Rate",value:e.growth,onChange:x("growth"),type:"percentage",suffix:"%",decimals:1,description:"Year-over-year growth percentage"}),s.jsx(L,{label:"Profit Margin",value:e.margin,onChange:x("margin"),type:"number",suffix:"%",decimals:2,min:0,max:100,loading:r.validation})]})]}),s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(m,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"CurrencyInput Component"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(P,{label:"Market Valuation",value:e.currency,onChange:x("currency"),currency:"USD",abbreviateDisplay:!0,showTrend:!0,previousValue:21e5,description:"Company market valuation with trend indicator"}),s.jsx(P,{label:"Investment Amount (EUR)",value:85e4,onChange:e=>{},currency:"EUR",locale:"de-DE",size:"lg"}),s.jsx(P,{label:"Small Investment",value:25e3,onChange:e=>{},currency:"USD",size:"sm",variant:"filled"}),s.jsx(P,{label:"Japanese Investment",value:15e6,onChange:e=>{},currency:"JPY",locale:"ja-JP",abbreviateDisplay:!0})]})]}),s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"EditableCell Component"}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-slate-50 rounded-lg",children:[s.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Account"}),s.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Current"}),s.jsx("div",{className:"text-sm font-medium text-slate-600",children:"Adjusted"}),s.jsx("div",{className:"text-sm text-slate-700",children:"Revenue"}),s.jsx(T,{value:e.editableValue,onChange:x("editableValue"),type:"currency",isEditing:c,onEdit:u,variant:"default"}),s.jsx(T,{value:1.15*e.editableValue,onChange:e=>{},type:"currency",variant:"adjusted"}),s.jsx("div",{className:"text-sm text-slate-700",children:"Growth Rate"}),s.jsx(T,{value:15.5,onChange:e=>{},type:"percentage"}),s.jsx(T,{value:18.2,onChange:e=>{},type:"percentage",variant:"adjusted"}),s.jsx("div",{className:"text-sm text-slate-700",children:"Calculated"}),s.jsx(T,{value:.25*e.editableValue,isFormula:!0,variant:"formula"}),s.jsx(T,{value:1.15*e.editableValue*.25,isFormula:!0,variant:"formula"})]})})]}),s.jsxs(p,{className:"p-6 space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Loading States"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(U,{type:"calculation",message:"Calculating DCF...",size:"default"}),s.jsx(U,{type:"financial",message:"Processing data...",size:"default",variant:"subtle"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Inline Loading States"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(U,{type:"inline",message:"Loading...",size:"sm"}),s.jsx(B,{size:"default",variant:"primary"}),s.jsx(_,{width:"w-24",height:"h-4",variant:"currency"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Interactive Loading Demo"}),s.jsx("button",{onClick:()=>{n(e=>({...e,calculation:!0})),setTimeout(()=>{n(e=>({...e,calculation:!1}))},2e3)},disabled:r.calculation,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors",children:r.calculation?"Calculating...":"Run Calculation"}),r.calculation&&s.jsx(U,{type:"calculation",message:"Computing financial metrics...",size:"sm",variant:"pulsing"})]})]})]}),s.jsxs(p,{className:"p-6 space-y-6 lg:col-span-2",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Validation & Feedback"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Individual Validation Messages"}),s.jsx(K,{type:"error",message:"Revenue cannot be negative",size:"default"}),s.jsx(K,{type:"warning",message:"Growth rate seems unusually high",size:"default"}),s.jsx(K,{type:"success",message:"All financial metrics are within expected ranges",size:"default"}),s.jsx(K,{type:"info",message:"Consider adjusting the discount rate based on market conditions",size:"default"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700",children:"Field Validation"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-slate-700",children:"Test Validation"}),s.jsx("input",{type:"number",value:-50,onChange:e=>((e,s,t)=>{const r=[];e<s&&r.push(`Value must be at least ${s}`),e>t&&r.push(`Value must not exceed ${t}`),d(r)})(parseFloat(e.target.value),0,1e3),className:"w-full px-3 py-2 border border-input rounded-lg"}),s.jsx(G,{error:i.length>0?i[0]:null,info:0===i.length?"Value is within acceptable range":null})]}),s.jsx(O,{errors:["Operating expenses exceed revenue","Growth rate must be between 0% and 100%"],warnings:["Margin seems low for this industry","Consider reviewing the assumptions"],collapsible:!0})]})]})]})]}),s.jsxs(p,{className:"p-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Quick Usage Examples"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Basic Currency Input"}),s.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<CurrencyInput\n  value={1000000}\n  onChange={setValue}\n  currency="USD"\n  label="Revenue"\n/>'})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Editable Table Cell"}),s.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<EditableCell\n  value={value}\n  onChange={onChange}\n  type="currency"\n  variant="adjusted"\n/>'})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Validation Feedback"}),s.jsx("code",{className:"text-xs text-slate-600 block whitespace-pre",children:'<FieldValidation\n  error="Invalid input"\n  warning="Check value"\n  success="Valid input"\n/>'})]})]})]})]})})};export{Q as default};
//# sourceMappingURL=FinancialInputsDemo-BBfkZXRY.js.map
